function Hp(o,r){for(var n=0;n<r.length;n++){const i=r[n];if(typeof i!="string"&&!Array.isArray(i)){for(const l in i)if(l!=="default"&&!(l in o)){const u=Object.getOwnPropertyDescriptor(i,l);u&&Object.defineProperty(o,l,u.get?u:{enumerable:!0,get:()=>i[l]})}}}return Object.freeze(Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function ll(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function Kp(o){if(Object.prototype.hasOwnProperty.call(o,"__esModule"))return o;var r=o.default;if(typeof r=="function"){var n=function i(){return this instanceof i?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};n.prototype=r.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(o).forEach(function(i){var l=Object.getOwnPropertyDescriptor(o,i);Object.defineProperty(n,i,l.get?l:{enumerable:!0,get:function(){return o[i]}})}),n}var Ro={exports:{}},rs={},Ao={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fd;function Gp(){if(fd)return ae;fd=1;var o=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),x=Symbol.iterator;function k(j){return j===null||typeof j!="object"?null:(j=x&&j[x]||j["@@iterator"],typeof j=="function"?j:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,P={};function O(j,R,se){this.props=j,this.context=R,this.refs=P,this.updater=se||S}O.prototype.isReactComponent={},O.prototype.setState=function(j,R){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,R,"setState")},O.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function B(){}B.prototype=O.prototype;function F(j,R,se){this.props=j,this.context=R,this.refs=P,this.updater=se||S}var D=F.prototype=new B;D.constructor=F,C(D,O.prototype),D.isPureReactComponent=!0;var q=Array.isArray,ie=Object.prototype.hasOwnProperty,re={current:null},le={key:!0,ref:!0,__self:!0,__source:!0};function Ee(j,R,se){var oe,fe={},pe=null,we=null;if(R!=null)for(oe in R.ref!==void 0&&(we=R.ref),R.key!==void 0&&(pe=""+R.key),R)ie.call(R,oe)&&!le.hasOwnProperty(oe)&&(fe[oe]=R[oe]);var ge=arguments.length-2;if(ge===1)fe.children=se;else if(1<ge){for(var Se=Array(ge),ot=0;ot<ge;ot++)Se[ot]=arguments[ot+2];fe.children=Se}if(j&&j.defaultProps)for(oe in ge=j.defaultProps,ge)fe[oe]===void 0&&(fe[oe]=ge[oe]);return{$$typeof:o,type:j,key:pe,ref:we,props:fe,_owner:re.current}}function Ae(j,R){return{$$typeof:o,type:j.type,key:R,ref:j.ref,props:j.props,_owner:j._owner}}function $(j){return typeof j=="object"&&j!==null&&j.$$typeof===o}function ce(j){var R={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(se){return R[se]})}var ue=/\/+/g;function he(j,R){return typeof j=="object"&&j!==null&&j.key!=null?ce(""+j.key):R.toString(36)}function ye(j,R,se,oe,fe){var pe=typeof j;(pe==="undefined"||pe==="boolean")&&(j=null);var we=!1;if(j===null)we=!0;else switch(pe){case"string":case"number":we=!0;break;case"object":switch(j.$$typeof){case o:case r:we=!0}}if(we)return we=j,fe=fe(we),j=oe===""?"."+he(we,0):oe,q(fe)?(se="",j!=null&&(se=j.replace(ue,"$&/")+"/"),ye(fe,R,se,"",function(ot){return ot})):fe!=null&&($(fe)&&(fe=Ae(fe,se+(!fe.key||we&&we.key===fe.key?"":(""+fe.key).replace(ue,"$&/")+"/")+j)),R.push(fe)),1;if(we=0,oe=oe===""?".":oe+":",q(j))for(var ge=0;ge<j.length;ge++){pe=j[ge];var Se=oe+he(pe,ge);we+=ye(pe,R,se,Se,fe)}else if(Se=k(j),typeof Se=="function")for(j=Se.call(j),ge=0;!(pe=j.next()).done;)pe=pe.value,Se=oe+he(pe,ge++),we+=ye(pe,R,se,Se,fe);else if(pe==="object")throw R=String(j),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.");return we}function Ne(j,R,se){if(j==null)return j;var oe=[],fe=0;return ye(j,oe,"","",function(pe){return R.call(se,pe,fe++)}),oe}function Me(j){if(j._status===-1){var R=j._result;R=R(),R.then(function(se){(j._status===0||j._status===-1)&&(j._status=1,j._result=se)},function(se){(j._status===0||j._status===-1)&&(j._status=2,j._result=se)}),j._status===-1&&(j._status=0,j._result=R)}if(j._status===1)return j._result.default;throw j._result}var Te={current:null},M={transition:null},Z={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:M,ReactCurrentOwner:re};function z(){throw Error("act(...) is not supported in production builds of React.")}return ae.Children={map:Ne,forEach:function(j,R,se){Ne(j,function(){R.apply(this,arguments)},se)},count:function(j){var R=0;return Ne(j,function(){R++}),R},toArray:function(j){return Ne(j,function(R){return R})||[]},only:function(j){if(!$(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},ae.Component=O,ae.Fragment=n,ae.Profiler=l,ae.PureComponent=F,ae.StrictMode=i,ae.Suspense=m,ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,ae.act=z,ae.cloneElement=function(j,R,se){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var oe=C({},j.props),fe=j.key,pe=j.ref,we=j._owner;if(R!=null){if(R.ref!==void 0&&(pe=R.ref,we=re.current),R.key!==void 0&&(fe=""+R.key),j.type&&j.type.defaultProps)var ge=j.type.defaultProps;for(Se in R)ie.call(R,Se)&&!le.hasOwnProperty(Se)&&(oe[Se]=R[Se]===void 0&&ge!==void 0?ge[Se]:R[Se])}var Se=arguments.length-2;if(Se===1)oe.children=se;else if(1<Se){ge=Array(Se);for(var ot=0;ot<Se;ot++)ge[ot]=arguments[ot+2];oe.children=ge}return{$$typeof:o,type:j.type,key:fe,ref:pe,props:oe,_owner:we}},ae.createContext=function(j){return j={$$typeof:d,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:u,_context:j},j.Consumer=j},ae.createElement=Ee,ae.createFactory=function(j){var R=Ee.bind(null,j);return R.type=j,R},ae.createRef=function(){return{current:null}},ae.forwardRef=function(j){return{$$typeof:p,render:j}},ae.isValidElement=$,ae.lazy=function(j){return{$$typeof:w,_payload:{_status:-1,_result:j},_init:Me}},ae.memo=function(j,R){return{$$typeof:v,type:j,compare:R===void 0?null:R}},ae.startTransition=function(j){var R=M.transition;M.transition={};try{j()}finally{M.transition=R}},ae.unstable_act=z,ae.useCallback=function(j,R){return Te.current.useCallback(j,R)},ae.useContext=function(j){return Te.current.useContext(j)},ae.useDebugValue=function(){},ae.useDeferredValue=function(j){return Te.current.useDeferredValue(j)},ae.useEffect=function(j,R){return Te.current.useEffect(j,R)},ae.useId=function(){return Te.current.useId()},ae.useImperativeHandle=function(j,R,se){return Te.current.useImperativeHandle(j,R,se)},ae.useInsertionEffect=function(j,R){return Te.current.useInsertionEffect(j,R)},ae.useLayoutEffect=function(j,R){return Te.current.useLayoutEffect(j,R)},ae.useMemo=function(j,R){return Te.current.useMemo(j,R)},ae.useReducer=function(j,R,se){return Te.current.useReducer(j,R,se)},ae.useRef=function(j){return Te.current.useRef(j)},ae.useState=function(j){return Te.current.useState(j)},ae.useSyncExternalStore=function(j,R,se){return Te.current.useSyncExternalStore(j,R,se)},ae.useTransition=function(){return Te.current.useTransition()},ae.version="18.3.1",ae}var pd;function ul(){return pd||(pd=1,Ao.exports=Gp()),Ao.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var md;function Jp(){if(md)return rs;md=1;var o=ul(),r=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function d(p,m,v){var w,x={},k=null,S=null;v!==void 0&&(k=""+v),m.key!==void 0&&(k=""+m.key),m.ref!==void 0&&(S=m.ref);for(w in m)i.call(m,w)&&!u.hasOwnProperty(w)&&(x[w]=m[w]);if(p&&p.defaultProps)for(w in m=p.defaultProps,m)x[w]===void 0&&(x[w]=m[w]);return{$$typeof:r,type:p,key:k,ref:S,props:x,_owner:l.current}}return rs.Fragment=n,rs.jsx=d,rs.jsxs=d,rs}var gd;function Qp(){return gd||(gd=1,Ro.exports=Jp()),Ro.exports}var f=Qp(),ne=ul();const Yp=ll(ne);var _i={},Io={exports:{}},at={},Lo={exports:{}},Uo={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vd;function Xp(){return vd||(vd=1,(function(o){function r(M,Z){var z=M.length;M.push(Z);e:for(;0<z;){var j=z-1>>>1,R=M[j];if(0<l(R,Z))M[j]=Z,M[z]=R,z=j;else break e}}function n(M){return M.length===0?null:M[0]}function i(M){if(M.length===0)return null;var Z=M[0],z=M.pop();if(z!==Z){M[0]=z;e:for(var j=0,R=M.length,se=R>>>1;j<se;){var oe=2*(j+1)-1,fe=M[oe],pe=oe+1,we=M[pe];if(0>l(fe,z))pe<R&&0>l(we,fe)?(M[j]=we,M[pe]=z,j=pe):(M[j]=fe,M[oe]=z,j=oe);else if(pe<R&&0>l(we,z))M[j]=we,M[pe]=z,j=pe;else break e}}return Z}function l(M,Z){var z=M.sortIndex-Z.sortIndex;return z!==0?z:M.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;o.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();o.unstable_now=function(){return d.now()-p}}var m=[],v=[],w=1,x=null,k=3,S=!1,C=!1,P=!1,O=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(M){for(var Z=n(v);Z!==null;){if(Z.callback===null)i(v);else if(Z.startTime<=M)i(v),Z.sortIndex=Z.expirationTime,r(m,Z);else break;Z=n(v)}}function q(M){if(P=!1,D(M),!C)if(n(m)!==null)C=!0,Me(ie);else{var Z=n(v);Z!==null&&Te(q,Z.startTime-M)}}function ie(M,Z){C=!1,P&&(P=!1,B(Ee),Ee=-1),S=!0;var z=k;try{for(D(Z),x=n(m);x!==null&&(!(x.expirationTime>Z)||M&&!ce());){var j=x.callback;if(typeof j=="function"){x.callback=null,k=x.priorityLevel;var R=j(x.expirationTime<=Z);Z=o.unstable_now(),typeof R=="function"?x.callback=R:x===n(m)&&i(m),D(Z)}else i(m);x=n(m)}if(x!==null)var se=!0;else{var oe=n(v);oe!==null&&Te(q,oe.startTime-Z),se=!1}return se}finally{x=null,k=z,S=!1}}var re=!1,le=null,Ee=-1,Ae=5,$=-1;function ce(){return!(o.unstable_now()-$<Ae)}function ue(){if(le!==null){var M=o.unstable_now();$=M;var Z=!0;try{Z=le(!0,M)}finally{Z?he():(re=!1,le=null)}}else re=!1}var he;if(typeof F=="function")he=function(){F(ue)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,Ne=ye.port2;ye.port1.onmessage=ue,he=function(){Ne.postMessage(null)}}else he=function(){O(ue,0)};function Me(M){le=M,re||(re=!0,he())}function Te(M,Z){Ee=O(function(){M(o.unstable_now())},Z)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(M){M.callback=null},o.unstable_continueExecution=function(){C||S||(C=!0,Me(ie))},o.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ae=0<M?Math.floor(1e3/M):5},o.unstable_getCurrentPriorityLevel=function(){return k},o.unstable_getFirstCallbackNode=function(){return n(m)},o.unstable_next=function(M){switch(k){case 1:case 2:case 3:var Z=3;break;default:Z=k}var z=k;k=Z;try{return M()}finally{k=z}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(M,Z){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var z=k;k=M;try{return Z()}finally{k=z}},o.unstable_scheduleCallback=function(M,Z,z){var j=o.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?j+z:j):z=j,M){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=z+R,M={id:w++,callback:Z,priorityLevel:M,startTime:z,expirationTime:R,sortIndex:-1},z>j?(M.sortIndex=z,r(v,M),n(m)===null&&M===n(v)&&(P?(B(Ee),Ee=-1):P=!0,Te(q,z-j))):(M.sortIndex=R,r(m,M),C||S||(C=!0,Me(ie))),M},o.unstable_shouldYield=ce,o.unstable_wrapCallback=function(M){var Z=k;return function(){var z=k;k=Z;try{return M.apply(this,arguments)}finally{k=z}}}})(Uo)),Uo}var yd;function Zp(){return yd||(yd=1,Lo.exports=Xp()),Lo.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wd;function em(){if(wd)return at;wd=1;var o=ul(),r=Zp();function n(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,l={};function u(e,t){d(e,t),d(e+"Capture",t)}function d(e,t){for(l[e]=t,e=0;e<t.length;e++)i.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},x={};function k(e){return m.call(x,e)?!0:m.call(w,e)?!1:v.test(e)?x[e]=!0:(w[e]=!0,!1)}function S(e,t,s,a){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function C(e,t,s,a){if(t===null||typeof t>"u"||S(e,t,s,a))return!0;if(a)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function P(e,t,s,a,c,h,g){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=h,this.removeEmptyString=g}var O={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){O[e]=new P(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];O[t]=new P(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){O[e]=new P(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){O[e]=new P(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){O[e]=new P(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){O[e]=new P(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){O[e]=new P(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){O[e]=new P(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){O[e]=new P(e,5,!1,e.toLowerCase(),null,!1,!1)});var B=/[\-:]([a-z])/g;function F(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(B,F);O[t]=new P(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(B,F);O[t]=new P(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(B,F);O[t]=new P(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){O[e]=new P(e,1,!1,e.toLowerCase(),null,!1,!1)}),O.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){O[e]=new P(e,1,!1,e.toLowerCase(),null,!0,!0)});function D(e,t,s,a){var c=O.hasOwnProperty(t)?O[t]:null;(c!==null?c.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(C(t,s,c,a)&&(s=null),a||c===null?k(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):c.mustUseProperty?e[c.propertyName]=s===null?c.type===3?!1:"":s:(t=c.attributeName,a=c.attributeNamespace,s===null?e.removeAttribute(t):(c=c.type,s=c===3||c===4&&s===!0?"":""+s,a?e.setAttributeNS(a,t,s):e.setAttribute(t,s))))}var q=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ie=Symbol.for("react.element"),re=Symbol.for("react.portal"),le=Symbol.for("react.fragment"),Ee=Symbol.for("react.strict_mode"),Ae=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),ce=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),Ne=Symbol.for("react.memo"),Me=Symbol.for("react.lazy"),Te=Symbol.for("react.offscreen"),M=Symbol.iterator;function Z(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var z=Object.assign,j;function R(e){if(j===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return`
`+j+e}var se=!1;function oe(e,t){if(!e||se)return"";se=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(T){var a=T}Reflect.construct(e,[],t)}else{try{t.call()}catch(T){a=T}e.call(t.prototype)}else{try{throw Error()}catch(T){a=T}e()}}catch(T){if(T&&a&&typeof T.stack=="string"){for(var c=T.stack.split(`
`),h=a.stack.split(`
`),g=c.length-1,y=h.length-1;1<=g&&0<=y&&c[g]!==h[y];)y--;for(;1<=g&&0<=y;g--,y--)if(c[g]!==h[y]){if(g!==1||y!==1)do if(g--,y--,0>y||c[g]!==h[y]){var _=`
`+c[g].replace(" at new "," at ");return e.displayName&&_.includes("<anonymous>")&&(_=_.replace("<anonymous>",e.displayName)),_}while(1<=g&&0<=y);break}}}finally{se=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?R(e):""}function fe(e){switch(e.tag){case 5:return R(e.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 2:case 15:return e=oe(e.type,!1),e;case 11:return e=oe(e.type.render,!1),e;case 1:return e=oe(e.type,!0),e;default:return""}}function pe(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case le:return"Fragment";case re:return"Portal";case Ae:return"Profiler";case Ee:return"StrictMode";case he:return"Suspense";case ye:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ce:return(e.displayName||"Context")+".Consumer";case $:return(e._context.displayName||"Context")+".Provider";case ue:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ne:return t=e.displayName||null,t!==null?t:pe(e.type)||"Memo";case Me:t=e._payload,e=e._init;try{return pe(e(t))}catch{}}return null}function we(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(t);case 8:return t===Ee?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ge(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Se(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ot(e){var t=Se(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,h=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,h.call(this,g)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function cs(e){e._valueTracker||(e._valueTracker=ot(e))}function wl(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),a="";return e&&(a=Se(e)?e.checked?"true":"false":e.value),e=a,e!==s?(t.setValue(e),!0):!1}function ds(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $i(e,t){var s=t.checked;return z({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function _l(e,t){var s=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;s=ge(t.value!=null?t.value:s),e._wrapperState={initialChecked:a,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function xl(e,t){t=t.checked,t!=null&&D(e,"checked",t,!1)}function zi(e,t){xl(e,t);var s=ge(t.value),a=t.type;if(s!=null)a==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Bi(e,t.type,s):t.hasOwnProperty("defaultValue")&&Bi(e,t.type,ge(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function bl(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Bi(e,t,s){(t!=="number"||ds(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var vn=Array.isArray;function Ir(e,t,s,a){if(e=e.options,t){t={};for(var c=0;c<s.length;c++)t["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=t.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&a&&(e[s].defaultSelected=!0)}else{for(s=""+ge(s),t=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,a&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Mi(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(n(91));return z({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function kl(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(n(92));if(vn(s)){if(1<s.length)throw Error(n(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:ge(s)}}function Sl(e,t){var s=ge(t.value),a=ge(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),a!=null&&(e.defaultValue=""+a)}function jl(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function El(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fi(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?El(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var hs,Nl=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,a,c){MSApp.execUnsafeLocalFunction(function(){return e(t,s,a,c)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(hs=hs||document.createElement("div"),hs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=hs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function yn(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var wn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jh=["Webkit","ms","Moz","O"];Object.keys(wn).forEach(function(e){Jh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),wn[t]=wn[e]})});function Tl(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||wn.hasOwnProperty(e)&&wn[e]?(""+t).trim():t+"px"}function Cl(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var a=s.indexOf("--")===0,c=Tl(s,t[s],a);s==="float"&&(s="cssFloat"),a?e.setProperty(s,c):e[s]=c}}var Qh=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wi(e,t){if(t){if(Qh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(n(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(n(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(n(61))}if(t.style!=null&&typeof t.style!="object")throw Error(n(62))}}function qi(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vi=null;function Hi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ki=null,Lr=null,Ur=null;function Ol(e){if(e=Mn(e)){if(typeof Ki!="function")throw Error(n(280));var t=e.stateNode;t&&(t=Ls(t),Ki(e.stateNode,e.type,t))}}function Pl(e){Lr?Ur?Ur.push(e):Ur=[e]:Lr=e}function Rl(){if(Lr){var e=Lr,t=Ur;if(Ur=Lr=null,Ol(e),t)for(e=0;e<t.length;e++)Ol(t[e])}}function Al(e,t){return e(t)}function Il(){}var Gi=!1;function Ll(e,t,s){if(Gi)return e(t,s);Gi=!0;try{return Al(e,t,s)}finally{Gi=!1,(Lr!==null||Ur!==null)&&(Il(),Rl())}}function _n(e,t){var s=e.stateNode;if(s===null)return null;var a=Ls(s);if(a===null)return null;s=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(n(231,t,typeof s));return s}var Ji=!1;if(p)try{var xn={};Object.defineProperty(xn,"passive",{get:function(){Ji=!0}}),window.addEventListener("test",xn,xn),window.removeEventListener("test",xn,xn)}catch{Ji=!1}function Yh(e,t,s,a,c,h,g,y,_){var T=Array.prototype.slice.call(arguments,3);try{t.apply(s,T)}catch(I){this.onError(I)}}var bn=!1,fs=null,ps=!1,Qi=null,Xh={onError:function(e){bn=!0,fs=e}};function Zh(e,t,s,a,c,h,g,y,_){bn=!1,fs=null,Yh.apply(Xh,arguments)}function ef(e,t,s,a,c,h,g,y,_){if(Zh.apply(this,arguments),bn){if(bn){var T=fs;bn=!1,fs=null}else throw Error(n(198));ps||(ps=!0,Qi=T)}}function pr(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function Ul(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Dl(e){if(pr(e)!==e)throw Error(n(188))}function tf(e){var t=e.alternate;if(!t){if(t=pr(e),t===null)throw Error(n(188));return t!==e?null:e}for(var s=e,a=t;;){var c=s.return;if(c===null)break;var h=c.alternate;if(h===null){if(a=c.return,a!==null){s=a;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===s)return Dl(c),e;if(h===a)return Dl(c),t;h=h.sibling}throw Error(n(188))}if(s.return!==a.return)s=c,a=h;else{for(var g=!1,y=c.child;y;){if(y===s){g=!0,s=c,a=h;break}if(y===a){g=!0,a=c,s=h;break}y=y.sibling}if(!g){for(y=h.child;y;){if(y===s){g=!0,s=h,a=c;break}if(y===a){g=!0,a=h,s=c;break}y=y.sibling}if(!g)throw Error(n(189))}}if(s.alternate!==a)throw Error(n(190))}if(s.tag!==3)throw Error(n(188));return s.stateNode.current===s?e:t}function $l(e){return e=tf(e),e!==null?zl(e):null}function zl(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=zl(e);if(t!==null)return t;e=e.sibling}return null}var Bl=r.unstable_scheduleCallback,Ml=r.unstable_cancelCallback,rf=r.unstable_shouldYield,nf=r.unstable_requestPaint,Ie=r.unstable_now,sf=r.unstable_getCurrentPriorityLevel,Yi=r.unstable_ImmediatePriority,Fl=r.unstable_UserBlockingPriority,ms=r.unstable_NormalPriority,af=r.unstable_LowPriority,Wl=r.unstable_IdlePriority,gs=null,Pt=null;function of(e){if(Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(gs,e,void 0,(e.current.flags&128)===128)}catch{}}var xt=Math.clz32?Math.clz32:cf,lf=Math.log,uf=Math.LN2;function cf(e){return e>>>=0,e===0?32:31-(lf(e)/uf|0)|0}var vs=64,ys=4194304;function kn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ws(e,t){var s=e.pendingLanes;if(s===0)return 0;var a=0,c=e.suspendedLanes,h=e.pingedLanes,g=s&268435455;if(g!==0){var y=g&~c;y!==0?a=kn(y):(h&=g,h!==0&&(a=kn(h)))}else g=s&~c,g!==0?a=kn(g):h!==0&&(a=kn(h));if(a===0)return 0;if(t!==0&&t!==a&&(t&c)===0&&(c=a&-a,h=t&-t,c>=h||c===16&&(h&4194240)!==0))return t;if((a&4)!==0&&(a|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)s=31-xt(t),c=1<<s,a|=e[s],t&=~c;return a}function df(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hf(e,t){for(var s=e.suspendedLanes,a=e.pingedLanes,c=e.expirationTimes,h=e.pendingLanes;0<h;){var g=31-xt(h),y=1<<g,_=c[g];_===-1?((y&s)===0||(y&a)!==0)&&(c[g]=df(y,t)):_<=t&&(e.expiredLanes|=y),h&=~y}}function Xi(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ql(){var e=vs;return vs<<=1,(vs&4194240)===0&&(vs=64),e}function Zi(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function Sn(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-xt(t),e[t]=s}function ff(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<s;){var c=31-xt(s),h=1<<c;t[c]=0,a[c]=-1,e[c]=-1,s&=~h}}function ea(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var a=31-xt(s),c=1<<a;c&t|e[a]&t&&(e[a]|=t),s&=~c}}var ve=0;function Vl(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Hl,ta,Kl,Gl,Jl,ra=!1,_s=[],Ht=null,Kt=null,Gt=null,jn=new Map,En=new Map,Jt=[],pf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ql(e,t){switch(e){case"focusin":case"focusout":Ht=null;break;case"dragenter":case"dragleave":Kt=null;break;case"mouseover":case"mouseout":Gt=null;break;case"pointerover":case"pointerout":jn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":En.delete(t.pointerId)}}function Nn(e,t,s,a,c,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:s,eventSystemFlags:a,nativeEvent:h,targetContainers:[c]},t!==null&&(t=Mn(t),t!==null&&ta(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function mf(e,t,s,a,c){switch(t){case"focusin":return Ht=Nn(Ht,e,t,s,a,c),!0;case"dragenter":return Kt=Nn(Kt,e,t,s,a,c),!0;case"mouseover":return Gt=Nn(Gt,e,t,s,a,c),!0;case"pointerover":var h=c.pointerId;return jn.set(h,Nn(jn.get(h)||null,e,t,s,a,c)),!0;case"gotpointercapture":return h=c.pointerId,En.set(h,Nn(En.get(h)||null,e,t,s,a,c)),!0}return!1}function Yl(e){var t=mr(e.target);if(t!==null){var s=pr(t);if(s!==null){if(t=s.tag,t===13){if(t=Ul(s),t!==null){e.blockedOn=t,Jl(e.priority,function(){Kl(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=sa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var a=new s.constructor(s.type,s);Vi=a,s.target.dispatchEvent(a),Vi=null}else return t=Mn(s),t!==null&&ta(t),e.blockedOn=s,!1;t.shift()}return!0}function Xl(e,t,s){xs(e)&&s.delete(t)}function gf(){ra=!1,Ht!==null&&xs(Ht)&&(Ht=null),Kt!==null&&xs(Kt)&&(Kt=null),Gt!==null&&xs(Gt)&&(Gt=null),jn.forEach(Xl),En.forEach(Xl)}function Tn(e,t){e.blockedOn===t&&(e.blockedOn=null,ra||(ra=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,gf)))}function Cn(e){function t(c){return Tn(c,e)}if(0<_s.length){Tn(_s[0],e);for(var s=1;s<_s.length;s++){var a=_s[s];a.blockedOn===e&&(a.blockedOn=null)}}for(Ht!==null&&Tn(Ht,e),Kt!==null&&Tn(Kt,e),Gt!==null&&Tn(Gt,e),jn.forEach(t),En.forEach(t),s=0;s<Jt.length;s++)a=Jt[s],a.blockedOn===e&&(a.blockedOn=null);for(;0<Jt.length&&(s=Jt[0],s.blockedOn===null);)Yl(s),s.blockedOn===null&&Jt.shift()}var Dr=q.ReactCurrentBatchConfig,bs=!0;function vf(e,t,s,a){var c=ve,h=Dr.transition;Dr.transition=null;try{ve=1,na(e,t,s,a)}finally{ve=c,Dr.transition=h}}function yf(e,t,s,a){var c=ve,h=Dr.transition;Dr.transition=null;try{ve=4,na(e,t,s,a)}finally{ve=c,Dr.transition=h}}function na(e,t,s,a){if(bs){var c=sa(e,t,s,a);if(c===null)xa(e,t,a,ks,s),Ql(e,a);else if(mf(c,e,t,s,a))a.stopPropagation();else if(Ql(e,a),t&4&&-1<pf.indexOf(e)){for(;c!==null;){var h=Mn(c);if(h!==null&&Hl(h),h=sa(e,t,s,a),h===null&&xa(e,t,a,ks,s),h===c)break;c=h}c!==null&&a.stopPropagation()}else xa(e,t,a,null,s)}}var ks=null;function sa(e,t,s,a){if(ks=null,e=Hi(a),e=mr(e),e!==null)if(t=pr(e),t===null)e=null;else if(s=t.tag,s===13){if(e=Ul(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ks=e,null}function Zl(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sf()){case Yi:return 1;case Fl:return 4;case ms:case af:return 16;case Wl:return 536870912;default:return 16}default:return 16}}var Qt=null,ia=null,Ss=null;function eu(){if(Ss)return Ss;var e,t=ia,s=t.length,a,c="value"in Qt?Qt.value:Qt.textContent,h=c.length;for(e=0;e<s&&t[e]===c[e];e++);var g=s-e;for(a=1;a<=g&&t[s-a]===c[h-a];a++);return Ss=c.slice(e,1<a?1-a:void 0)}function js(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Es(){return!0}function tu(){return!1}function lt(e){function t(s,a,c,h,g){this._reactName=s,this._targetInst=c,this.type=a,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(s=e[y],this[y]=s?s(h):h[y]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Es:tu,this.isPropagationStopped=tu,this}return z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Es)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Es)},persist:function(){},isPersistent:Es}),t}var $r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},aa=lt($r),On=z({},$r,{view:0,detail:0}),wf=lt(On),oa,la,Pn,Ns=z({},On,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ca,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Pn&&(Pn&&e.type==="mousemove"?(oa=e.screenX-Pn.screenX,la=e.screenY-Pn.screenY):la=oa=0,Pn=e),oa)},movementY:function(e){return"movementY"in e?e.movementY:la}}),ru=lt(Ns),_f=z({},Ns,{dataTransfer:0}),xf=lt(_f),bf=z({},On,{relatedTarget:0}),ua=lt(bf),kf=z({},$r,{animationName:0,elapsedTime:0,pseudoElement:0}),Sf=lt(kf),jf=z({},$r,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ef=lt(jf),Nf=z({},$r,{data:0}),nu=lt(Nf),Tf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Of={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Of[e])?!!t[e]:!1}function ca(){return Pf}var Rf=z({},On,{key:function(e){if(e.key){var t=Tf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=js(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Cf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ca,charCode:function(e){return e.type==="keypress"?js(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?js(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Af=lt(Rf),If=z({},Ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),su=lt(If),Lf=z({},On,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ca}),Uf=lt(Lf),Df=z({},$r,{propertyName:0,elapsedTime:0,pseudoElement:0}),$f=lt(Df),zf=z({},Ns,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Bf=lt(zf),Mf=[9,13,27,32],da=p&&"CompositionEvent"in window,Rn=null;p&&"documentMode"in document&&(Rn=document.documentMode);var Ff=p&&"TextEvent"in window&&!Rn,iu=p&&(!da||Rn&&8<Rn&&11>=Rn),au=" ",ou=!1;function lu(e,t){switch(e){case"keyup":return Mf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zr=!1;function Wf(e,t){switch(e){case"compositionend":return uu(t);case"keypress":return t.which!==32?null:(ou=!0,au);case"textInput":return e=t.data,e===au&&ou?null:e;default:return null}}function qf(e,t){if(zr)return e==="compositionend"||!da&&lu(e,t)?(e=eu(),Ss=ia=Qt=null,zr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return iu&&t.locale!=="ko"?null:t.data;default:return null}}var Vf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Vf[e.type]:t==="textarea"}function du(e,t,s,a){Pl(a),t=Rs(t,"onChange"),0<t.length&&(s=new aa("onChange","change",null,s,a),e.push({event:s,listeners:t}))}var An=null,In=null;function Hf(e){Cu(e,0)}function Ts(e){var t=qr(e);if(wl(t))return e}function Kf(e,t){if(e==="change")return t}var hu=!1;if(p){var ha;if(p){var fa="oninput"in document;if(!fa){var fu=document.createElement("div");fu.setAttribute("oninput","return;"),fa=typeof fu.oninput=="function"}ha=fa}else ha=!1;hu=ha&&(!document.documentMode||9<document.documentMode)}function pu(){An&&(An.detachEvent("onpropertychange",mu),In=An=null)}function mu(e){if(e.propertyName==="value"&&Ts(In)){var t=[];du(t,In,e,Hi(e)),Ll(Hf,t)}}function Gf(e,t,s){e==="focusin"?(pu(),An=t,In=s,An.attachEvent("onpropertychange",mu)):e==="focusout"&&pu()}function Jf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ts(In)}function Qf(e,t){if(e==="click")return Ts(t)}function Yf(e,t){if(e==="input"||e==="change")return Ts(t)}function Xf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bt=typeof Object.is=="function"?Object.is:Xf;function Ln(e,t){if(bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var c=s[a];if(!m.call(t,c)||!bt(e[c],t[c]))return!1}return!0}function gu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vu(e,t){var s=gu(e);e=0;for(var a;s;){if(s.nodeType===3){if(a=e+s.textContent.length,e<=t&&a>=t)return{node:s,offset:t-e};e=a}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=gu(s)}}function yu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?yu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wu(){for(var e=window,t=ds();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=ds(e.document)}return t}function pa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Zf(e){var t=wu(),s=e.focusedElem,a=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&yu(s.ownerDocument.documentElement,s)){if(a!==null&&pa(s)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var c=s.textContent.length,h=Math.min(a.start,c);a=a.end===void 0?h:Math.min(a.end,c),!e.extend&&h>a&&(c=a,a=h,h=c),c=vu(s,h);var g=vu(s,a);c&&g&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),e.removeAllRanges(),h>a?(e.addRange(t),e.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ep=p&&"documentMode"in document&&11>=document.documentMode,Br=null,ma=null,Un=null,ga=!1;function _u(e,t,s){var a=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ga||Br==null||Br!==ds(a)||(a=Br,"selectionStart"in a&&pa(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Un&&Ln(Un,a)||(Un=a,a=Rs(ma,"onSelect"),0<a.length&&(t=new aa("onSelect","select",null,t,s),e.push({event:t,listeners:a}),t.target=Br)))}function Cs(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Mr={animationend:Cs("Animation","AnimationEnd"),animationiteration:Cs("Animation","AnimationIteration"),animationstart:Cs("Animation","AnimationStart"),transitionend:Cs("Transition","TransitionEnd")},va={},xu={};p&&(xu=document.createElement("div").style,"AnimationEvent"in window||(delete Mr.animationend.animation,delete Mr.animationiteration.animation,delete Mr.animationstart.animation),"TransitionEvent"in window||delete Mr.transitionend.transition);function Os(e){if(va[e])return va[e];if(!Mr[e])return e;var t=Mr[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in xu)return va[e]=t[s];return e}var bu=Os("animationend"),ku=Os("animationiteration"),Su=Os("animationstart"),ju=Os("transitionend"),Eu=new Map,Nu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yt(e,t){Eu.set(e,t),u(t,[e])}for(var ya=0;ya<Nu.length;ya++){var wa=Nu[ya],tp=wa.toLowerCase(),rp=wa[0].toUpperCase()+wa.slice(1);Yt(tp,"on"+rp)}Yt(bu,"onAnimationEnd"),Yt(ku,"onAnimationIteration"),Yt(Su,"onAnimationStart"),Yt("dblclick","onDoubleClick"),Yt("focusin","onFocus"),Yt("focusout","onBlur"),Yt(ju,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),np=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dn));function Tu(e,t,s){var a=e.type||"unknown-event";e.currentTarget=s,ef(a,t,void 0,e),e.currentTarget=null}function Cu(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var a=e[s],c=a.event;a=a.listeners;e:{var h=void 0;if(t)for(var g=a.length-1;0<=g;g--){var y=a[g],_=y.instance,T=y.currentTarget;if(y=y.listener,_!==h&&c.isPropagationStopped())break e;Tu(c,y,T),h=_}else for(g=0;g<a.length;g++){if(y=a[g],_=y.instance,T=y.currentTarget,y=y.listener,_!==h&&c.isPropagationStopped())break e;Tu(c,y,T),h=_}}}if(ps)throw e=Qi,ps=!1,Qi=null,e}function be(e,t){var s=t[Na];s===void 0&&(s=t[Na]=new Set);var a=e+"__bubble";s.has(a)||(Ou(t,e,2,!1),s.add(a))}function _a(e,t,s){var a=0;t&&(a|=4),Ou(s,e,a,t)}var Ps="_reactListening"+Math.random().toString(36).slice(2);function $n(e){if(!e[Ps]){e[Ps]=!0,i.forEach(function(s){s!=="selectionchange"&&(np.has(s)||_a(s,!1,e),_a(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ps]||(t[Ps]=!0,_a("selectionchange",!1,t))}}function Ou(e,t,s,a){switch(Zl(t)){case 1:var c=vf;break;case 4:c=yf;break;default:c=na}s=c.bind(null,t,s,e),c=void 0,!Ji||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),a?c!==void 0?e.addEventListener(t,s,{capture:!0,passive:c}):e.addEventListener(t,s,!0):c!==void 0?e.addEventListener(t,s,{passive:c}):e.addEventListener(t,s,!1)}function xa(e,t,s,a,c){var h=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var g=a.tag;if(g===3||g===4){var y=a.stateNode.containerInfo;if(y===c||y.nodeType===8&&y.parentNode===c)break;if(g===4)for(g=a.return;g!==null;){var _=g.tag;if((_===3||_===4)&&(_=g.stateNode.containerInfo,_===c||_.nodeType===8&&_.parentNode===c))return;g=g.return}for(;y!==null;){if(g=mr(y),g===null)return;if(_=g.tag,_===5||_===6){a=h=g;continue e}y=y.parentNode}}a=a.return}Ll(function(){var T=h,I=Hi(s),L=[];e:{var A=Eu.get(e);if(A!==void 0){var W=aa,H=e;switch(e){case"keypress":if(js(s)===0)break e;case"keydown":case"keyup":W=Af;break;case"focusin":H="focus",W=ua;break;case"focusout":H="blur",W=ua;break;case"beforeblur":case"afterblur":W=ua;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=ru;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=xf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=Uf;break;case bu:case ku:case Su:W=Sf;break;case ju:W=$f;break;case"scroll":W=wf;break;case"wheel":W=Bf;break;case"copy":case"cut":case"paste":W=Ef;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=su}var K=(t&4)!==0,Le=!K&&e==="scroll",E=K?A!==null?A+"Capture":null:A;K=[];for(var b=T,N;b!==null;){N=b;var U=N.stateNode;if(N.tag===5&&U!==null&&(N=U,E!==null&&(U=_n(b,E),U!=null&&K.push(zn(b,U,N)))),Le)break;b=b.return}0<K.length&&(A=new W(A,H,null,s,I),L.push({event:A,listeners:K}))}}if((t&7)===0){e:{if(A=e==="mouseover"||e==="pointerover",W=e==="mouseout"||e==="pointerout",A&&s!==Vi&&(H=s.relatedTarget||s.fromElement)&&(mr(H)||H[Dt]))break e;if((W||A)&&(A=I.window===I?I:(A=I.ownerDocument)?A.defaultView||A.parentWindow:window,W?(H=s.relatedTarget||s.toElement,W=T,H=H?mr(H):null,H!==null&&(Le=pr(H),H!==Le||H.tag!==5&&H.tag!==6)&&(H=null)):(W=null,H=T),W!==H)){if(K=ru,U="onMouseLeave",E="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(K=su,U="onPointerLeave",E="onPointerEnter",b="pointer"),Le=W==null?A:qr(W),N=H==null?A:qr(H),A=new K(U,b+"leave",W,s,I),A.target=Le,A.relatedTarget=N,U=null,mr(I)===T&&(K=new K(E,b+"enter",H,s,I),K.target=N,K.relatedTarget=Le,U=K),Le=U,W&&H)t:{for(K=W,E=H,b=0,N=K;N;N=Fr(N))b++;for(N=0,U=E;U;U=Fr(U))N++;for(;0<b-N;)K=Fr(K),b--;for(;0<N-b;)E=Fr(E),N--;for(;b--;){if(K===E||E!==null&&K===E.alternate)break t;K=Fr(K),E=Fr(E)}K=null}else K=null;W!==null&&Pu(L,A,W,K,!1),H!==null&&Le!==null&&Pu(L,Le,H,K,!0)}}e:{if(A=T?qr(T):window,W=A.nodeName&&A.nodeName.toLowerCase(),W==="select"||W==="input"&&A.type==="file")var G=Kf;else if(cu(A))if(hu)G=Yf;else{G=Jf;var Y=Gf}else(W=A.nodeName)&&W.toLowerCase()==="input"&&(A.type==="checkbox"||A.type==="radio")&&(G=Qf);if(G&&(G=G(e,T))){du(L,G,s,I);break e}Y&&Y(e,A,T),e==="focusout"&&(Y=A._wrapperState)&&Y.controlled&&A.type==="number"&&Bi(A,"number",A.value)}switch(Y=T?qr(T):window,e){case"focusin":(cu(Y)||Y.contentEditable==="true")&&(Br=Y,ma=T,Un=null);break;case"focusout":Un=ma=Br=null;break;case"mousedown":ga=!0;break;case"contextmenu":case"mouseup":case"dragend":ga=!1,_u(L,s,I);break;case"selectionchange":if(ep)break;case"keydown":case"keyup":_u(L,s,I)}var X;if(da)e:{switch(e){case"compositionstart":var te="onCompositionStart";break e;case"compositionend":te="onCompositionEnd";break e;case"compositionupdate":te="onCompositionUpdate";break e}te=void 0}else zr?lu(e,s)&&(te="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(te="onCompositionStart");te&&(iu&&s.locale!=="ko"&&(zr||te!=="onCompositionStart"?te==="onCompositionEnd"&&zr&&(X=eu()):(Qt=I,ia="value"in Qt?Qt.value:Qt.textContent,zr=!0)),Y=Rs(T,te),0<Y.length&&(te=new nu(te,e,null,s,I),L.push({event:te,listeners:Y}),X?te.data=X:(X=uu(s),X!==null&&(te.data=X)))),(X=Ff?Wf(e,s):qf(e,s))&&(T=Rs(T,"onBeforeInput"),0<T.length&&(I=new nu("onBeforeInput","beforeinput",null,s,I),L.push({event:I,listeners:T}),I.data=X))}Cu(L,t)})}function zn(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Rs(e,t){for(var s=t+"Capture",a=[];e!==null;){var c=e,h=c.stateNode;c.tag===5&&h!==null&&(c=h,h=_n(e,s),h!=null&&a.unshift(zn(e,h,c)),h=_n(e,t),h!=null&&a.push(zn(e,h,c))),e=e.return}return a}function Fr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Pu(e,t,s,a,c){for(var h=t._reactName,g=[];s!==null&&s!==a;){var y=s,_=y.alternate,T=y.stateNode;if(_!==null&&_===a)break;y.tag===5&&T!==null&&(y=T,c?(_=_n(s,h),_!=null&&g.unshift(zn(s,_,y))):c||(_=_n(s,h),_!=null&&g.push(zn(s,_,y)))),s=s.return}g.length!==0&&e.push({event:t,listeners:g})}var sp=/\r\n?/g,ip=/\u0000|\uFFFD/g;function Ru(e){return(typeof e=="string"?e:""+e).replace(sp,`
`).replace(ip,"")}function As(e,t,s){if(t=Ru(t),Ru(e)!==t&&s)throw Error(n(425))}function Is(){}var ba=null,ka=null;function Sa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ja=typeof setTimeout=="function"?setTimeout:void 0,ap=typeof clearTimeout=="function"?clearTimeout:void 0,Au=typeof Promise=="function"?Promise:void 0,op=typeof queueMicrotask=="function"?queueMicrotask:typeof Au<"u"?function(e){return Au.resolve(null).then(e).catch(lp)}:ja;function lp(e){setTimeout(function(){throw e})}function Ea(e,t){var s=t,a=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"){if(a===0){e.removeChild(c),Cn(t);return}a--}else s!=="$"&&s!=="$?"&&s!=="$!"||a++;s=c}while(s);Cn(t)}function Xt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Iu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var Wr=Math.random().toString(36).slice(2),Rt="__reactFiber$"+Wr,Bn="__reactProps$"+Wr,Dt="__reactContainer$"+Wr,Na="__reactEvents$"+Wr,up="__reactListeners$"+Wr,cp="__reactHandles$"+Wr;function mr(e){var t=e[Rt];if(t)return t;for(var s=e.parentNode;s;){if(t=s[Dt]||s[Rt]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=Iu(e);e!==null;){if(s=e[Rt])return s;e=Iu(e)}return t}e=s,s=e.parentNode}return null}function Mn(e){return e=e[Rt]||e[Dt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(n(33))}function Ls(e){return e[Bn]||null}var Ta=[],Vr=-1;function Zt(e){return{current:e}}function ke(e){0>Vr||(e.current=Ta[Vr],Ta[Vr]=null,Vr--)}function _e(e,t){Vr++,Ta[Vr]=e.current,e.current=t}var er={},Ge=Zt(er),tt=Zt(!1),gr=er;function Hr(e,t){var s=e.type.contextTypes;if(!s)return er;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var c={},h;for(h in s)c[h]=t[h];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=c),c}function rt(e){return e=e.childContextTypes,e!=null}function Us(){ke(tt),ke(Ge)}function Lu(e,t,s){if(Ge.current!==er)throw Error(n(168));_e(Ge,t),_e(tt,s)}function Uu(e,t,s){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return s;a=a.getChildContext();for(var c in a)if(!(c in t))throw Error(n(108,we(e)||"Unknown",c));return z({},s,a)}function Ds(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||er,gr=Ge.current,_e(Ge,e),_e(tt,tt.current),!0}function Du(e,t,s){var a=e.stateNode;if(!a)throw Error(n(169));s?(e=Uu(e,t,gr),a.__reactInternalMemoizedMergedChildContext=e,ke(tt),ke(Ge),_e(Ge,e)):ke(tt),_e(tt,s)}var $t=null,$s=!1,Ca=!1;function $u(e){$t===null?$t=[e]:$t.push(e)}function dp(e){$s=!0,$u(e)}function tr(){if(!Ca&&$t!==null){Ca=!0;var e=0,t=ve;try{var s=$t;for(ve=1;e<s.length;e++){var a=s[e];do a=a(!0);while(a!==null)}$t=null,$s=!1}catch(c){throw $t!==null&&($t=$t.slice(e+1)),Bl(Yi,tr),c}finally{ve=t,Ca=!1}}return null}var Kr=[],Gr=0,zs=null,Bs=0,pt=[],mt=0,vr=null,zt=1,Bt="";function yr(e,t){Kr[Gr++]=Bs,Kr[Gr++]=zs,zs=e,Bs=t}function zu(e,t,s){pt[mt++]=zt,pt[mt++]=Bt,pt[mt++]=vr,vr=e;var a=zt;e=Bt;var c=32-xt(a)-1;a&=~(1<<c),s+=1;var h=32-xt(t)+c;if(30<h){var g=c-c%5;h=(a&(1<<g)-1).toString(32),a>>=g,c-=g,zt=1<<32-xt(t)+c|s<<c|a,Bt=h+e}else zt=1<<h|s<<c|a,Bt=e}function Oa(e){e.return!==null&&(yr(e,1),zu(e,1,0))}function Pa(e){for(;e===zs;)zs=Kr[--Gr],Kr[Gr]=null,Bs=Kr[--Gr],Kr[Gr]=null;for(;e===vr;)vr=pt[--mt],pt[mt]=null,Bt=pt[--mt],pt[mt]=null,zt=pt[--mt],pt[mt]=null}var ut=null,ct=null,je=!1,kt=null;function Bu(e,t){var s=wt(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function Mu(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ut=e,ct=Xt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ut=e,ct=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=vr!==null?{id:zt,overflow:Bt}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=wt(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,ut=e,ct=null,!0):!1;default:return!1}}function Ra(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Aa(e){if(je){var t=ct;if(t){var s=t;if(!Mu(e,t)){if(Ra(e))throw Error(n(418));t=Xt(s.nextSibling);var a=ut;t&&Mu(e,t)?Bu(a,s):(e.flags=e.flags&-4097|2,je=!1,ut=e)}}else{if(Ra(e))throw Error(n(418));e.flags=e.flags&-4097|2,je=!1,ut=e}}}function Fu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ut=e}function Ms(e){if(e!==ut)return!1;if(!je)return Fu(e),je=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Sa(e.type,e.memoizedProps)),t&&(t=ct)){if(Ra(e))throw Wu(),Error(n(418));for(;t;)Bu(e,t),t=Xt(t.nextSibling)}if(Fu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){ct=Xt(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}ct=null}}else ct=ut?Xt(e.stateNode.nextSibling):null;return!0}function Wu(){for(var e=ct;e;)e=Xt(e.nextSibling)}function Jr(){ct=ut=null,je=!1}function Ia(e){kt===null?kt=[e]:kt.push(e)}var hp=q.ReactCurrentBatchConfig;function Fn(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(n(309));var a=s.stateNode}if(!a)throw Error(n(147,e));var c=a,h=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===h?t.ref:(t=function(g){var y=c.refs;g===null?delete y[h]:y[h]=g},t._stringRef=h,t)}if(typeof e!="string")throw Error(n(284));if(!s._owner)throw Error(n(290,e))}return e}function Fs(e,t){throw e=Object.prototype.toString.call(t),Error(n(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qu(e){var t=e._init;return t(e._payload)}function Vu(e){function t(E,b){if(e){var N=E.deletions;N===null?(E.deletions=[b],E.flags|=16):N.push(b)}}function s(E,b){if(!e)return null;for(;b!==null;)t(E,b),b=b.sibling;return null}function a(E,b){for(E=new Map;b!==null;)b.key!==null?E.set(b.key,b):E.set(b.index,b),b=b.sibling;return E}function c(E,b){return E=ur(E,b),E.index=0,E.sibling=null,E}function h(E,b,N){return E.index=N,e?(N=E.alternate,N!==null?(N=N.index,N<b?(E.flags|=2,b):N):(E.flags|=2,b)):(E.flags|=1048576,b)}function g(E){return e&&E.alternate===null&&(E.flags|=2),E}function y(E,b,N,U){return b===null||b.tag!==6?(b=Eo(N,E.mode,U),b.return=E,b):(b=c(b,N),b.return=E,b)}function _(E,b,N,U){var G=N.type;return G===le?I(E,b,N.props.children,U,N.key):b!==null&&(b.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===Me&&qu(G)===b.type)?(U=c(b,N.props),U.ref=Fn(E,b,N),U.return=E,U):(U=hi(N.type,N.key,N.props,null,E.mode,U),U.ref=Fn(E,b,N),U.return=E,U)}function T(E,b,N,U){return b===null||b.tag!==4||b.stateNode.containerInfo!==N.containerInfo||b.stateNode.implementation!==N.implementation?(b=No(N,E.mode,U),b.return=E,b):(b=c(b,N.children||[]),b.return=E,b)}function I(E,b,N,U,G){return b===null||b.tag!==7?(b=Er(N,E.mode,U,G),b.return=E,b):(b=c(b,N),b.return=E,b)}function L(E,b,N){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Eo(""+b,E.mode,N),b.return=E,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ie:return N=hi(b.type,b.key,b.props,null,E.mode,N),N.ref=Fn(E,null,b),N.return=E,N;case re:return b=No(b,E.mode,N),b.return=E,b;case Me:var U=b._init;return L(E,U(b._payload),N)}if(vn(b)||Z(b))return b=Er(b,E.mode,N,null),b.return=E,b;Fs(E,b)}return null}function A(E,b,N,U){var G=b!==null?b.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return G!==null?null:y(E,b,""+N,U);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case ie:return N.key===G?_(E,b,N,U):null;case re:return N.key===G?T(E,b,N,U):null;case Me:return G=N._init,A(E,b,G(N._payload),U)}if(vn(N)||Z(N))return G!==null?null:I(E,b,N,U,null);Fs(E,N)}return null}function W(E,b,N,U,G){if(typeof U=="string"&&U!==""||typeof U=="number")return E=E.get(N)||null,y(b,E,""+U,G);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case ie:return E=E.get(U.key===null?N:U.key)||null,_(b,E,U,G);case re:return E=E.get(U.key===null?N:U.key)||null,T(b,E,U,G);case Me:var Y=U._init;return W(E,b,N,Y(U._payload),G)}if(vn(U)||Z(U))return E=E.get(N)||null,I(b,E,U,G,null);Fs(b,U)}return null}function H(E,b,N,U){for(var G=null,Y=null,X=b,te=b=0,qe=null;X!==null&&te<N.length;te++){X.index>te?(qe=X,X=null):qe=X.sibling;var me=A(E,X,N[te],U);if(me===null){X===null&&(X=qe);break}e&&X&&me.alternate===null&&t(E,X),b=h(me,b,te),Y===null?G=me:Y.sibling=me,Y=me,X=qe}if(te===N.length)return s(E,X),je&&yr(E,te),G;if(X===null){for(;te<N.length;te++)X=L(E,N[te],U),X!==null&&(b=h(X,b,te),Y===null?G=X:Y.sibling=X,Y=X);return je&&yr(E,te),G}for(X=a(E,X);te<N.length;te++)qe=W(X,E,te,N[te],U),qe!==null&&(e&&qe.alternate!==null&&X.delete(qe.key===null?te:qe.key),b=h(qe,b,te),Y===null?G=qe:Y.sibling=qe,Y=qe);return e&&X.forEach(function(cr){return t(E,cr)}),je&&yr(E,te),G}function K(E,b,N,U){var G=Z(N);if(typeof G!="function")throw Error(n(150));if(N=G.call(N),N==null)throw Error(n(151));for(var Y=G=null,X=b,te=b=0,qe=null,me=N.next();X!==null&&!me.done;te++,me=N.next()){X.index>te?(qe=X,X=null):qe=X.sibling;var cr=A(E,X,me.value,U);if(cr===null){X===null&&(X=qe);break}e&&X&&cr.alternate===null&&t(E,X),b=h(cr,b,te),Y===null?G=cr:Y.sibling=cr,Y=cr,X=qe}if(me.done)return s(E,X),je&&yr(E,te),G;if(X===null){for(;!me.done;te++,me=N.next())me=L(E,me.value,U),me!==null&&(b=h(me,b,te),Y===null?G=me:Y.sibling=me,Y=me);return je&&yr(E,te),G}for(X=a(E,X);!me.done;te++,me=N.next())me=W(X,E,te,me.value,U),me!==null&&(e&&me.alternate!==null&&X.delete(me.key===null?te:me.key),b=h(me,b,te),Y===null?G=me:Y.sibling=me,Y=me);return e&&X.forEach(function(Vp){return t(E,Vp)}),je&&yr(E,te),G}function Le(E,b,N,U){if(typeof N=="object"&&N!==null&&N.type===le&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case ie:e:{for(var G=N.key,Y=b;Y!==null;){if(Y.key===G){if(G=N.type,G===le){if(Y.tag===7){s(E,Y.sibling),b=c(Y,N.props.children),b.return=E,E=b;break e}}else if(Y.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===Me&&qu(G)===Y.type){s(E,Y.sibling),b=c(Y,N.props),b.ref=Fn(E,Y,N),b.return=E,E=b;break e}s(E,Y);break}else t(E,Y);Y=Y.sibling}N.type===le?(b=Er(N.props.children,E.mode,U,N.key),b.return=E,E=b):(U=hi(N.type,N.key,N.props,null,E.mode,U),U.ref=Fn(E,b,N),U.return=E,E=U)}return g(E);case re:e:{for(Y=N.key;b!==null;){if(b.key===Y)if(b.tag===4&&b.stateNode.containerInfo===N.containerInfo&&b.stateNode.implementation===N.implementation){s(E,b.sibling),b=c(b,N.children||[]),b.return=E,E=b;break e}else{s(E,b);break}else t(E,b);b=b.sibling}b=No(N,E.mode,U),b.return=E,E=b}return g(E);case Me:return Y=N._init,Le(E,b,Y(N._payload),U)}if(vn(N))return H(E,b,N,U);if(Z(N))return K(E,b,N,U);Fs(E,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,b!==null&&b.tag===6?(s(E,b.sibling),b=c(b,N),b.return=E,E=b):(s(E,b),b=Eo(N,E.mode,U),b.return=E,E=b),g(E)):s(E,b)}return Le}var Qr=Vu(!0),Hu=Vu(!1),Ws=Zt(null),qs=null,Yr=null,La=null;function Ua(){La=Yr=qs=null}function Da(e){var t=Ws.current;ke(Ws),e._currentValue=t}function $a(e,t,s){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===s)break;e=e.return}}function Xr(e,t){qs=e,La=Yr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(nt=!0),e.firstContext=null)}function gt(e){var t=e._currentValue;if(La!==e)if(e={context:e,memoizedValue:t,next:null},Yr===null){if(qs===null)throw Error(n(308));Yr=e,qs.dependencies={lanes:0,firstContext:e}}else Yr=Yr.next=e;return t}var wr=null;function za(e){wr===null?wr=[e]:wr.push(e)}function Ku(e,t,s,a){var c=t.interleaved;return c===null?(s.next=s,za(t)):(s.next=c.next,c.next=s),t.interleaved=s,Mt(e,a)}function Mt(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var rr=!1;function Ba(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ft(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function nr(e,t,s){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(de&2)!==0){var c=a.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),a.pending=t,Mt(e,s)}return c=a.interleaved,c===null?(t.next=t,za(a)):(t.next=c.next,c.next=t),a.interleaved=t,Mt(e,s)}function Vs(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,s|=a,t.lanes=s,ea(e,s)}}function Ju(e,t){var s=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,s===a)){var c=null,h=null;if(s=s.firstBaseUpdate,s!==null){do{var g={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};h===null?c=h=g:h=h.next=g,s=s.next}while(s!==null);h===null?c=h=t:h=h.next=t}else c=h=t;s={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:a.shared,effects:a.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Hs(e,t,s,a){var c=e.updateQueue;rr=!1;var h=c.firstBaseUpdate,g=c.lastBaseUpdate,y=c.shared.pending;if(y!==null){c.shared.pending=null;var _=y,T=_.next;_.next=null,g===null?h=T:g.next=T,g=_;var I=e.alternate;I!==null&&(I=I.updateQueue,y=I.lastBaseUpdate,y!==g&&(y===null?I.firstBaseUpdate=T:y.next=T,I.lastBaseUpdate=_))}if(h!==null){var L=c.baseState;g=0,I=T=_=null,y=h;do{var A=y.lane,W=y.eventTime;if((a&A)===A){I!==null&&(I=I.next={eventTime:W,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null});e:{var H=e,K=y;switch(A=t,W=s,K.tag){case 1:if(H=K.payload,typeof H=="function"){L=H.call(W,L,A);break e}L=H;break e;case 3:H.flags=H.flags&-65537|128;case 0:if(H=K.payload,A=typeof H=="function"?H.call(W,L,A):H,A==null)break e;L=z({},L,A);break e;case 2:rr=!0}}y.callback!==null&&y.lane!==0&&(e.flags|=64,A=c.effects,A===null?c.effects=[y]:A.push(y))}else W={eventTime:W,lane:A,tag:y.tag,payload:y.payload,callback:y.callback,next:null},I===null?(T=I=W,_=L):I=I.next=W,g|=A;if(y=y.next,y===null){if(y=c.shared.pending,y===null)break;A=y,y=A.next,A.next=null,c.lastBaseUpdate=A,c.shared.pending=null}}while(!0);if(I===null&&(_=L),c.baseState=_,c.firstBaseUpdate=T,c.lastBaseUpdate=I,t=c.shared.interleaved,t!==null){c=t;do g|=c.lane,c=c.next;while(c!==t)}else h===null&&(c.shared.lanes=0);br|=g,e.lanes=g,e.memoizedState=L}}function Qu(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],c=a.callback;if(c!==null){if(a.callback=null,a=s,typeof c!="function")throw Error(n(191,c));c.call(a)}}}var Wn={},At=Zt(Wn),qn=Zt(Wn),Vn=Zt(Wn);function _r(e){if(e===Wn)throw Error(n(174));return e}function Ma(e,t){switch(_e(Vn,t),_e(qn,e),_e(At,Wn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Fi(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Fi(t,e)}ke(At),_e(At,t)}function Zr(){ke(At),ke(qn),ke(Vn)}function Yu(e){_r(Vn.current);var t=_r(At.current),s=Fi(t,e.type);t!==s&&(_e(qn,e),_e(At,s))}function Fa(e){qn.current===e&&(ke(At),ke(qn))}var Ce=Zt(0);function Ks(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wa=[];function qa(){for(var e=0;e<Wa.length;e++)Wa[e]._workInProgressVersionPrimary=null;Wa.length=0}var Gs=q.ReactCurrentDispatcher,Va=q.ReactCurrentBatchConfig,xr=0,Oe=null,$e=null,Fe=null,Js=!1,Hn=!1,Kn=0,fp=0;function Je(){throw Error(n(321))}function Ha(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!bt(e[s],t[s]))return!1;return!0}function Ka(e,t,s,a,c,h){if(xr=h,Oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Gs.current=e===null||e.memoizedState===null?vp:yp,e=s(a,c),Hn){h=0;do{if(Hn=!1,Kn=0,25<=h)throw Error(n(301));h+=1,Fe=$e=null,t.updateQueue=null,Gs.current=wp,e=s(a,c)}while(Hn)}if(Gs.current=Xs,t=$e!==null&&$e.next!==null,xr=0,Fe=$e=Oe=null,Js=!1,t)throw Error(n(300));return e}function Ga(){var e=Kn!==0;return Kn=0,e}function It(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?Oe.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function vt(){if($e===null){var e=Oe.alternate;e=e!==null?e.memoizedState:null}else e=$e.next;var t=Fe===null?Oe.memoizedState:Fe.next;if(t!==null)Fe=t,$e=e;else{if(e===null)throw Error(n(310));$e=e,e={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},Fe===null?Oe.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function Gn(e,t){return typeof t=="function"?t(e):t}function Ja(e){var t=vt(),s=t.queue;if(s===null)throw Error(n(311));s.lastRenderedReducer=e;var a=$e,c=a.baseQueue,h=s.pending;if(h!==null){if(c!==null){var g=c.next;c.next=h.next,h.next=g}a.baseQueue=c=h,s.pending=null}if(c!==null){h=c.next,a=a.baseState;var y=g=null,_=null,T=h;do{var I=T.lane;if((xr&I)===I)_!==null&&(_=_.next={lane:0,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null}),a=T.hasEagerState?T.eagerState:e(a,T.action);else{var L={lane:I,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null};_===null?(y=_=L,g=a):_=_.next=L,Oe.lanes|=I,br|=I}T=T.next}while(T!==null&&T!==h);_===null?g=a:_.next=y,bt(a,t.memoizedState)||(nt=!0),t.memoizedState=a,t.baseState=g,t.baseQueue=_,s.lastRenderedState=a}if(e=s.interleaved,e!==null){c=e;do h=c.lane,Oe.lanes|=h,br|=h,c=c.next;while(c!==e)}else c===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function Qa(e){var t=vt(),s=t.queue;if(s===null)throw Error(n(311));s.lastRenderedReducer=e;var a=s.dispatch,c=s.pending,h=t.memoizedState;if(c!==null){s.pending=null;var g=c=c.next;do h=e(h,g.action),g=g.next;while(g!==c);bt(h,t.memoizedState)||(nt=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),s.lastRenderedState=h}return[h,a]}function Xu(){}function Zu(e,t){var s=Oe,a=vt(),c=t(),h=!bt(a.memoizedState,c);if(h&&(a.memoizedState=c,nt=!0),a=a.queue,Ya(rc.bind(null,s,a,e),[e]),a.getSnapshot!==t||h||Fe!==null&&Fe.memoizedState.tag&1){if(s.flags|=2048,Jn(9,tc.bind(null,s,a,c,t),void 0,null),We===null)throw Error(n(349));(xr&30)!==0||ec(s,t,c)}return c}function ec(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function tc(e,t,s,a){t.value=s,t.getSnapshot=a,nc(t)&&sc(e)}function rc(e,t,s){return s(function(){nc(t)&&sc(e)})}function nc(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!bt(e,s)}catch{return!0}}function sc(e){var t=Mt(e,1);t!==null&&Nt(t,e,1,-1)}function ic(e){var t=It();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:e},t.queue=e,e=e.dispatch=gp.bind(null,Oe,e),[t.memoizedState,e]}function Jn(e,t,s,a){return e={tag:e,create:t,destroy:s,deps:a,next:null},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(a=s.next,s.next=e,e.next=a,t.lastEffect=e)),e}function ac(){return vt().memoizedState}function Qs(e,t,s,a){var c=It();Oe.flags|=e,c.memoizedState=Jn(1|t,s,void 0,a===void 0?null:a)}function Ys(e,t,s,a){var c=vt();a=a===void 0?null:a;var h=void 0;if($e!==null){var g=$e.memoizedState;if(h=g.destroy,a!==null&&Ha(a,g.deps)){c.memoizedState=Jn(t,s,h,a);return}}Oe.flags|=e,c.memoizedState=Jn(1|t,s,h,a)}function oc(e,t){return Qs(8390656,8,e,t)}function Ya(e,t){return Ys(2048,8,e,t)}function lc(e,t){return Ys(4,2,e,t)}function uc(e,t){return Ys(4,4,e,t)}function cc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function dc(e,t,s){return s=s!=null?s.concat([e]):null,Ys(4,4,cc.bind(null,t,e),s)}function Xa(){}function hc(e,t){var s=vt();t=t===void 0?null:t;var a=s.memoizedState;return a!==null&&t!==null&&Ha(t,a[1])?a[0]:(s.memoizedState=[e,t],e)}function fc(e,t){var s=vt();t=t===void 0?null:t;var a=s.memoizedState;return a!==null&&t!==null&&Ha(t,a[1])?a[0]:(e=e(),s.memoizedState=[e,t],e)}function pc(e,t,s){return(xr&21)===0?(e.baseState&&(e.baseState=!1,nt=!0),e.memoizedState=s):(bt(s,t)||(s=ql(),Oe.lanes|=s,br|=s,e.baseState=!0),t)}function pp(e,t){var s=ve;ve=s!==0&&4>s?s:4,e(!0);var a=Va.transition;Va.transition={};try{e(!1),t()}finally{ve=s,Va.transition=a}}function mc(){return vt().memoizedState}function mp(e,t,s){var a=or(e);if(s={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null},gc(e))vc(t,s);else if(s=Ku(e,t,s,a),s!==null){var c=et();Nt(s,e,a,c),yc(s,t,a)}}function gp(e,t,s){var a=or(e),c={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null};if(gc(e))vc(t,c);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var g=t.lastRenderedState,y=h(g,s);if(c.hasEagerState=!0,c.eagerState=y,bt(y,g)){var _=t.interleaved;_===null?(c.next=c,za(t)):(c.next=_.next,_.next=c),t.interleaved=c;return}}catch{}finally{}s=Ku(e,t,c,a),s!==null&&(c=et(),Nt(s,e,a,c),yc(s,t,a))}}function gc(e){var t=e.alternate;return e===Oe||t!==null&&t===Oe}function vc(e,t){Hn=Js=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function yc(e,t,s){if((s&4194240)!==0){var a=t.lanes;a&=e.pendingLanes,s|=a,t.lanes=s,ea(e,s)}}var Xs={readContext:gt,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useInsertionEffect:Je,useLayoutEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useMutableSource:Je,useSyncExternalStore:Je,useId:Je,unstable_isNewReconciler:!1},vp={readContext:gt,useCallback:function(e,t){return It().memoizedState=[e,t===void 0?null:t],e},useContext:gt,useEffect:oc,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,Qs(4194308,4,cc.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Qs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Qs(4,2,e,t)},useMemo:function(e,t){var s=It();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var a=It();return t=s!==void 0?s(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=mp.bind(null,Oe,e),[a.memoizedState,e]},useRef:function(e){var t=It();return e={current:e},t.memoizedState=e},useState:ic,useDebugValue:Xa,useDeferredValue:function(e){return It().memoizedState=e},useTransition:function(){var e=ic(!1),t=e[0];return e=pp.bind(null,e[1]),It().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var a=Oe,c=It();if(je){if(s===void 0)throw Error(n(407));s=s()}else{if(s=t(),We===null)throw Error(n(349));(xr&30)!==0||ec(a,t,s)}c.memoizedState=s;var h={value:s,getSnapshot:t};return c.queue=h,oc(rc.bind(null,a,h,e),[e]),a.flags|=2048,Jn(9,tc.bind(null,a,h,s,t),void 0,null),s},useId:function(){var e=It(),t=We.identifierPrefix;if(je){var s=Bt,a=zt;s=(a&~(1<<32-xt(a)-1)).toString(32)+s,t=":"+t+"R"+s,s=Kn++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=fp++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},yp={readContext:gt,useCallback:hc,useContext:gt,useEffect:Ya,useImperativeHandle:dc,useInsertionEffect:lc,useLayoutEffect:uc,useMemo:fc,useReducer:Ja,useRef:ac,useState:function(){return Ja(Gn)},useDebugValue:Xa,useDeferredValue:function(e){var t=vt();return pc(t,$e.memoizedState,e)},useTransition:function(){var e=Ja(Gn)[0],t=vt().memoizedState;return[e,t]},useMutableSource:Xu,useSyncExternalStore:Zu,useId:mc,unstable_isNewReconciler:!1},wp={readContext:gt,useCallback:hc,useContext:gt,useEffect:Ya,useImperativeHandle:dc,useInsertionEffect:lc,useLayoutEffect:uc,useMemo:fc,useReducer:Qa,useRef:ac,useState:function(){return Qa(Gn)},useDebugValue:Xa,useDeferredValue:function(e){var t=vt();return $e===null?t.memoizedState=e:pc(t,$e.memoizedState,e)},useTransition:function(){var e=Qa(Gn)[0],t=vt().memoizedState;return[e,t]},useMutableSource:Xu,useSyncExternalStore:Zu,useId:mc,unstable_isNewReconciler:!1};function St(e,t){if(e&&e.defaultProps){t=z({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function Za(e,t,s,a){t=e.memoizedState,s=s(a,t),s=s==null?t:z({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Zs={isMounted:function(e){return(e=e._reactInternals)?pr(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var a=et(),c=or(e),h=Ft(a,c);h.payload=t,s!=null&&(h.callback=s),t=nr(e,h,c),t!==null&&(Nt(t,e,c,a),Vs(t,e,c))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var a=et(),c=or(e),h=Ft(a,c);h.tag=1,h.payload=t,s!=null&&(h.callback=s),t=nr(e,h,c),t!==null&&(Nt(t,e,c,a),Vs(t,e,c))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=et(),a=or(e),c=Ft(s,a);c.tag=2,t!=null&&(c.callback=t),t=nr(e,c,a),t!==null&&(Nt(t,e,a,s),Vs(t,e,a))}};function wc(e,t,s,a,c,h,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,h,g):t.prototype&&t.prototype.isPureReactComponent?!Ln(s,a)||!Ln(c,h):!0}function _c(e,t,s){var a=!1,c=er,h=t.contextType;return typeof h=="object"&&h!==null?h=gt(h):(c=rt(t)?gr:Ge.current,a=t.contextTypes,h=(a=a!=null)?Hr(e,c):er),t=new t(s,h),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Zs,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=h),t}function xc(e,t,s,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,a),t.state!==e&&Zs.enqueueReplaceState(t,t.state,null)}function eo(e,t,s,a){var c=e.stateNode;c.props=s,c.state=e.memoizedState,c.refs={},Ba(e);var h=t.contextType;typeof h=="object"&&h!==null?c.context=gt(h):(h=rt(t)?gr:Ge.current,c.context=Hr(e,h)),c.state=e.memoizedState,h=t.getDerivedStateFromProps,typeof h=="function"&&(Za(e,t,h,s),c.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(t=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),t!==c.state&&Zs.enqueueReplaceState(c,c.state,null),Hs(e,s,c,a),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function en(e,t){try{var s="",a=t;do s+=fe(a),a=a.return;while(a);var c=s}catch(h){c=`
Error generating stack: `+h.message+`
`+h.stack}return{value:e,source:t,stack:c,digest:null}}function to(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function ro(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var _p=typeof WeakMap=="function"?WeakMap:Map;function bc(e,t,s){s=Ft(-1,s),s.tag=3,s.payload={element:null};var a=t.value;return s.callback=function(){ai||(ai=!0,yo=a),ro(e,t)},s}function kc(e,t,s){s=Ft(-1,s),s.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var c=t.value;s.payload=function(){return a(c)},s.callback=function(){ro(e,t)}}var h=e.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(s.callback=function(){ro(e,t),typeof a!="function"&&(ir===null?ir=new Set([this]):ir.add(this));var g=t.stack;this.componentDidCatch(t.value,{componentStack:g!==null?g:""})}),s}function Sc(e,t,s){var a=e.pingCache;if(a===null){a=e.pingCache=new _p;var c=new Set;a.set(t,c)}else c=a.get(t),c===void 0&&(c=new Set,a.set(t,c));c.has(s)||(c.add(s),e=Ip.bind(null,e,t,s),t.then(e,e))}function jc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ec(e,t,s,a,c){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=Ft(-1,1),t.tag=2,nr(s,t,1))),s.lanes|=1),e):(e.flags|=65536,e.lanes=c,e)}var xp=q.ReactCurrentOwner,nt=!1;function Ze(e,t,s,a){t.child=e===null?Hu(t,null,s,a):Qr(t,e.child,s,a)}function Nc(e,t,s,a,c){s=s.render;var h=t.ref;return Xr(t,c),a=Ka(e,t,s,a,h,c),s=Ga(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,Wt(e,t,c)):(je&&s&&Oa(t),t.flags|=1,Ze(e,t,a,c),t.child)}function Tc(e,t,s,a,c){if(e===null){var h=s.type;return typeof h=="function"&&!jo(h)&&h.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=h,Cc(e,t,h,a,c)):(e=hi(s.type,null,a,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,(e.lanes&c)===0){var g=h.memoizedProps;if(s=s.compare,s=s!==null?s:Ln,s(g,a)&&e.ref===t.ref)return Wt(e,t,c)}return t.flags|=1,e=ur(h,a),e.ref=t.ref,e.return=t,t.child=e}function Cc(e,t,s,a,c){if(e!==null){var h=e.memoizedProps;if(Ln(h,a)&&e.ref===t.ref)if(nt=!1,t.pendingProps=a=h,(e.lanes&c)!==0)(e.flags&131072)!==0&&(nt=!0);else return t.lanes=e.lanes,Wt(e,t,c)}return no(e,t,s,a,c)}function Oc(e,t,s){var a=t.pendingProps,c=a.children,h=e!==null?e.memoizedState:null;if(a.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(rn,dt),dt|=s;else{if((s&1073741824)===0)return e=h!==null?h.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_e(rn,dt),dt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=h!==null?h.baseLanes:s,_e(rn,dt),dt|=a}else h!==null?(a=h.baseLanes|s,t.memoizedState=null):a=s,_e(rn,dt),dt|=a;return Ze(e,t,c,s),t.child}function Pc(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function no(e,t,s,a,c){var h=rt(s)?gr:Ge.current;return h=Hr(t,h),Xr(t,c),s=Ka(e,t,s,a,h,c),a=Ga(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,Wt(e,t,c)):(je&&a&&Oa(t),t.flags|=1,Ze(e,t,s,c),t.child)}function Rc(e,t,s,a,c){if(rt(s)){var h=!0;Ds(t)}else h=!1;if(Xr(t,c),t.stateNode===null)ti(e,t),_c(t,s,a),eo(t,s,a,c),a=!0;else if(e===null){var g=t.stateNode,y=t.memoizedProps;g.props=y;var _=g.context,T=s.contextType;typeof T=="object"&&T!==null?T=gt(T):(T=rt(s)?gr:Ge.current,T=Hr(t,T));var I=s.getDerivedStateFromProps,L=typeof I=="function"||typeof g.getSnapshotBeforeUpdate=="function";L||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(y!==a||_!==T)&&xc(t,g,a,T),rr=!1;var A=t.memoizedState;g.state=A,Hs(t,a,g,c),_=t.memoizedState,y!==a||A!==_||tt.current||rr?(typeof I=="function"&&(Za(t,s,I,a),_=t.memoizedState),(y=rr||wc(t,s,y,a,A,_,T))?(L||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(t.flags|=4194308)):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=_),g.props=a,g.state=_,g.context=T,a=y):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{g=t.stateNode,Gu(e,t),y=t.memoizedProps,T=t.type===t.elementType?y:St(t.type,y),g.props=T,L=t.pendingProps,A=g.context,_=s.contextType,typeof _=="object"&&_!==null?_=gt(_):(_=rt(s)?gr:Ge.current,_=Hr(t,_));var W=s.getDerivedStateFromProps;(I=typeof W=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(y!==L||A!==_)&&xc(t,g,a,_),rr=!1,A=t.memoizedState,g.state=A,Hs(t,a,g,c);var H=t.memoizedState;y!==L||A!==H||tt.current||rr?(typeof W=="function"&&(Za(t,s,W,a),H=t.memoizedState),(T=rr||wc(t,s,T,a,A,H,_)||!1)?(I||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(a,H,_),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(a,H,_)),typeof g.componentDidUpdate=="function"&&(t.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof g.componentDidUpdate!="function"||y===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=H),g.props=a,g.state=H,g.context=_,a=T):(typeof g.componentDidUpdate!="function"||y===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),a=!1)}return so(e,t,s,a,h,c)}function so(e,t,s,a,c,h){Pc(e,t);var g=(t.flags&128)!==0;if(!a&&!g)return c&&Du(t,s,!1),Wt(e,t,h);a=t.stateNode,xp.current=t;var y=g&&typeof s.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&g?(t.child=Qr(t,e.child,null,h),t.child=Qr(t,null,y,h)):Ze(e,t,y,h),t.memoizedState=a.state,c&&Du(t,s,!0),t.child}function Ac(e){var t=e.stateNode;t.pendingContext?Lu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Lu(e,t.context,!1),Ma(e,t.containerInfo)}function Ic(e,t,s,a,c){return Jr(),Ia(c),t.flags|=256,Ze(e,t,s,a),t.child}var io={dehydrated:null,treeContext:null,retryLane:0};function ao(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lc(e,t,s){var a=t.pendingProps,c=Ce.current,h=!1,g=(t.flags&128)!==0,y;if((y=g)||(y=e!==null&&e.memoizedState===null?!1:(c&2)!==0),y?(h=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),_e(Ce,c&1),e===null)return Aa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(g=a.children,e=a.fallback,h?(a=t.mode,h=t.child,g={mode:"hidden",children:g},(a&1)===0&&h!==null?(h.childLanes=0,h.pendingProps=g):h=fi(g,a,0,null),e=Er(e,a,s,null),h.return=t,e.return=t,h.sibling=e,t.child=h,t.child.memoizedState=ao(s),t.memoizedState=io,e):oo(t,g));if(c=e.memoizedState,c!==null&&(y=c.dehydrated,y!==null))return bp(e,t,g,a,y,c,s);if(h){h=a.fallback,g=t.mode,c=e.child,y=c.sibling;var _={mode:"hidden",children:a.children};return(g&1)===0&&t.child!==c?(a=t.child,a.childLanes=0,a.pendingProps=_,t.deletions=null):(a=ur(c,_),a.subtreeFlags=c.subtreeFlags&14680064),y!==null?h=ur(y,h):(h=Er(h,g,s,null),h.flags|=2),h.return=t,a.return=t,a.sibling=h,t.child=a,a=h,h=t.child,g=e.child.memoizedState,g=g===null?ao(s):{baseLanes:g.baseLanes|s,cachePool:null,transitions:g.transitions},h.memoizedState=g,h.childLanes=e.childLanes&~s,t.memoizedState=io,a}return h=e.child,e=h.sibling,a=ur(h,{mode:"visible",children:a.children}),(t.mode&1)===0&&(a.lanes=s),a.return=t,a.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=a,t.memoizedState=null,a}function oo(e,t){return t=fi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ei(e,t,s,a){return a!==null&&Ia(a),Qr(t,e.child,null,s),e=oo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function bp(e,t,s,a,c,h,g){if(s)return t.flags&256?(t.flags&=-257,a=to(Error(n(422))),ei(e,t,g,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(h=a.fallback,c=t.mode,a=fi({mode:"visible",children:a.children},c,0,null),h=Er(h,c,g,null),h.flags|=2,a.return=t,h.return=t,a.sibling=h,t.child=a,(t.mode&1)!==0&&Qr(t,e.child,null,g),t.child.memoizedState=ao(g),t.memoizedState=io,h);if((t.mode&1)===0)return ei(e,t,g,null);if(c.data==="$!"){if(a=c.nextSibling&&c.nextSibling.dataset,a)var y=a.dgst;return a=y,h=Error(n(419)),a=to(h,a,void 0),ei(e,t,g,a)}if(y=(g&e.childLanes)!==0,nt||y){if(a=We,a!==null){switch(g&-g){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=(c&(a.suspendedLanes|g))!==0?0:c,c!==0&&c!==h.retryLane&&(h.retryLane=c,Mt(e,c),Nt(a,e,c,-1))}return So(),a=to(Error(n(421))),ei(e,t,g,a)}return c.data==="$?"?(t.flags|=128,t.child=e.child,t=Lp.bind(null,e),c._reactRetry=t,null):(e=h.treeContext,ct=Xt(c.nextSibling),ut=t,je=!0,kt=null,e!==null&&(pt[mt++]=zt,pt[mt++]=Bt,pt[mt++]=vr,zt=e.id,Bt=e.overflow,vr=t),t=oo(t,a.children),t.flags|=4096,t)}function Uc(e,t,s){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),$a(e.return,t,s)}function lo(e,t,s,a,c){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:c}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=a,h.tail=s,h.tailMode=c)}function Dc(e,t,s){var a=t.pendingProps,c=a.revealOrder,h=a.tail;if(Ze(e,t,a.children,s),a=Ce.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Uc(e,s,t);else if(e.tag===19)Uc(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(_e(Ce,a),(t.mode&1)===0)t.memoizedState=null;else switch(c){case"forwards":for(s=t.child,c=null;s!==null;)e=s.alternate,e!==null&&Ks(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=t.child,t.child=null):(c=s.sibling,s.sibling=null),lo(t,!1,c,s,h);break;case"backwards":for(s=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Ks(e)===null){t.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}lo(t,!0,s,null,h);break;case"together":lo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ti(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wt(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),br|=t.lanes,(s&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(n(153));if(t.child!==null){for(e=t.child,s=ur(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=ur(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function kp(e,t,s){switch(t.tag){case 3:Ac(t),Jr();break;case 5:Yu(t);break;case 1:rt(t.type)&&Ds(t);break;case 4:Ma(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,c=t.memoizedProps.value;_e(Ws,a._currentValue),a._currentValue=c;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(_e(Ce,Ce.current&1),t.flags|=128,null):(s&t.child.childLanes)!==0?Lc(e,t,s):(_e(Ce,Ce.current&1),e=Wt(e,t,s),e!==null?e.sibling:null);_e(Ce,Ce.current&1);break;case 19:if(a=(s&t.childLanes)!==0,(e.flags&128)!==0){if(a)return Dc(e,t,s);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),_e(Ce,Ce.current),a)break;return null;case 22:case 23:return t.lanes=0,Oc(e,t,s)}return Wt(e,t,s)}var $c,uo,zc,Bc;$c=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},uo=function(){},zc=function(e,t,s,a){var c=e.memoizedProps;if(c!==a){e=t.stateNode,_r(At.current);var h=null;switch(s){case"input":c=$i(e,c),a=$i(e,a),h=[];break;case"select":c=z({},c,{value:void 0}),a=z({},a,{value:void 0}),h=[];break;case"textarea":c=Mi(e,c),a=Mi(e,a),h=[];break;default:typeof c.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Is)}Wi(s,a);var g;s=null;for(T in c)if(!a.hasOwnProperty(T)&&c.hasOwnProperty(T)&&c[T]!=null)if(T==="style"){var y=c[T];for(g in y)y.hasOwnProperty(g)&&(s||(s={}),s[g]="")}else T!=="dangerouslySetInnerHTML"&&T!=="children"&&T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(l.hasOwnProperty(T)?h||(h=[]):(h=h||[]).push(T,null));for(T in a){var _=a[T];if(y=c!=null?c[T]:void 0,a.hasOwnProperty(T)&&_!==y&&(_!=null||y!=null))if(T==="style")if(y){for(g in y)!y.hasOwnProperty(g)||_&&_.hasOwnProperty(g)||(s||(s={}),s[g]="");for(g in _)_.hasOwnProperty(g)&&y[g]!==_[g]&&(s||(s={}),s[g]=_[g])}else s||(h||(h=[]),h.push(T,s)),s=_;else T==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,y=y?y.__html:void 0,_!=null&&y!==_&&(h=h||[]).push(T,_)):T==="children"?typeof _!="string"&&typeof _!="number"||(h=h||[]).push(T,""+_):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&(l.hasOwnProperty(T)?(_!=null&&T==="onScroll"&&be("scroll",e),h||y===_||(h=[])):(h=h||[]).push(T,_))}s&&(h=h||[]).push("style",s);var T=h;(t.updateQueue=T)&&(t.flags|=4)}},Bc=function(e,t,s,a){s!==a&&(t.flags|=4)};function Qn(e,t){if(!je)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,a=0;if(t)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,a|=c.subtreeFlags&14680064,a|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=a,e.childLanes=s,t}function Sp(e,t,s){var a=t.pendingProps;switch(Pa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(t),null;case 1:return rt(t.type)&&Us(),Qe(t),null;case 3:return a=t.stateNode,Zr(),ke(tt),ke(Ge),qa(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ms(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,kt!==null&&(xo(kt),kt=null))),uo(e,t),Qe(t),null;case 5:Fa(t);var c=_r(Vn.current);if(s=t.type,e!==null&&t.stateNode!=null)zc(e,t,s,a,c),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(n(166));return Qe(t),null}if(e=_r(At.current),Ms(t)){a=t.stateNode,s=t.type;var h=t.memoizedProps;switch(a[Rt]=t,a[Bn]=h,e=(t.mode&1)!==0,s){case"dialog":be("cancel",a),be("close",a);break;case"iframe":case"object":case"embed":be("load",a);break;case"video":case"audio":for(c=0;c<Dn.length;c++)be(Dn[c],a);break;case"source":be("error",a);break;case"img":case"image":case"link":be("error",a),be("load",a);break;case"details":be("toggle",a);break;case"input":_l(a,h),be("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!h.multiple},be("invalid",a);break;case"textarea":kl(a,h),be("invalid",a)}Wi(s,h),c=null;for(var g in h)if(h.hasOwnProperty(g)){var y=h[g];g==="children"?typeof y=="string"?a.textContent!==y&&(h.suppressHydrationWarning!==!0&&As(a.textContent,y,e),c=["children",y]):typeof y=="number"&&a.textContent!==""+y&&(h.suppressHydrationWarning!==!0&&As(a.textContent,y,e),c=["children",""+y]):l.hasOwnProperty(g)&&y!=null&&g==="onScroll"&&be("scroll",a)}switch(s){case"input":cs(a),bl(a,h,!0);break;case"textarea":cs(a),jl(a);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(a.onclick=Is)}a=c,t.updateQueue=a,a!==null&&(t.flags|=4)}else{g=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=El(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=g.createElement(s,{is:a.is}):(e=g.createElement(s),s==="select"&&(g=e,a.multiple?g.multiple=!0:a.size&&(g.size=a.size))):e=g.createElementNS(e,s),e[Rt]=t,e[Bn]=a,$c(e,t,!1,!1),t.stateNode=e;e:{switch(g=qi(s,a),s){case"dialog":be("cancel",e),be("close",e),c=a;break;case"iframe":case"object":case"embed":be("load",e),c=a;break;case"video":case"audio":for(c=0;c<Dn.length;c++)be(Dn[c],e);c=a;break;case"source":be("error",e),c=a;break;case"img":case"image":case"link":be("error",e),be("load",e),c=a;break;case"details":be("toggle",e),c=a;break;case"input":_l(e,a),c=$i(e,a),be("invalid",e);break;case"option":c=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},c=z({},a,{value:void 0}),be("invalid",e);break;case"textarea":kl(e,a),c=Mi(e,a),be("invalid",e);break;default:c=a}Wi(s,c),y=c;for(h in y)if(y.hasOwnProperty(h)){var _=y[h];h==="style"?Cl(e,_):h==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,_!=null&&Nl(e,_)):h==="children"?typeof _=="string"?(s!=="textarea"||_!=="")&&yn(e,_):typeof _=="number"&&yn(e,""+_):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(l.hasOwnProperty(h)?_!=null&&h==="onScroll"&&be("scroll",e):_!=null&&D(e,h,_,g))}switch(s){case"input":cs(e),bl(e,a,!1);break;case"textarea":cs(e),jl(e);break;case"option":a.value!=null&&e.setAttribute("value",""+ge(a.value));break;case"select":e.multiple=!!a.multiple,h=a.value,h!=null?Ir(e,!!a.multiple,h,!1):a.defaultValue!=null&&Ir(e,!!a.multiple,a.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=Is)}switch(s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Qe(t),null;case 6:if(e&&t.stateNode!=null)Bc(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(n(166));if(s=_r(Vn.current),_r(At.current),Ms(t)){if(a=t.stateNode,s=t.memoizedProps,a[Rt]=t,(h=a.nodeValue!==s)&&(e=ut,e!==null))switch(e.tag){case 3:As(a.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&As(a.nodeValue,s,(e.mode&1)!==0)}h&&(t.flags|=4)}else a=(s.nodeType===9?s:s.ownerDocument).createTextNode(a),a[Rt]=t,t.stateNode=a}return Qe(t),null;case 13:if(ke(Ce),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(je&&ct!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Wu(),Jr(),t.flags|=98560,h=!1;else if(h=Ms(t),a!==null&&a.dehydrated!==null){if(e===null){if(!h)throw Error(n(318));if(h=t.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(n(317));h[Rt]=t}else Jr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Qe(t),h=!1}else kt!==null&&(xo(kt),kt=null),h=!0;if(!h)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=s,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ce.current&1)!==0?ze===0&&(ze=3):So())),t.updateQueue!==null&&(t.flags|=4),Qe(t),null);case 4:return Zr(),uo(e,t),e===null&&$n(t.stateNode.containerInfo),Qe(t),null;case 10:return Da(t.type._context),Qe(t),null;case 17:return rt(t.type)&&Us(),Qe(t),null;case 19:if(ke(Ce),h=t.memoizedState,h===null)return Qe(t),null;if(a=(t.flags&128)!==0,g=h.rendering,g===null)if(a)Qn(h,!1);else{if(ze!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(g=Ks(e),g!==null){for(t.flags|=128,Qn(h,!1),a=g.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=s,s=t.child;s!==null;)h=s,e=a,h.flags&=14680066,g=h.alternate,g===null?(h.childLanes=0,h.lanes=e,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=g.childLanes,h.lanes=g.lanes,h.child=g.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=g.memoizedProps,h.memoizedState=g.memoizedState,h.updateQueue=g.updateQueue,h.type=g.type,e=g.dependencies,h.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return _e(Ce,Ce.current&1|2),t.child}e=e.sibling}h.tail!==null&&Ie()>nn&&(t.flags|=128,a=!0,Qn(h,!1),t.lanes=4194304)}else{if(!a)if(e=Ks(g),e!==null){if(t.flags|=128,a=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),Qn(h,!0),h.tail===null&&h.tailMode==="hidden"&&!g.alternate&&!je)return Qe(t),null}else 2*Ie()-h.renderingStartTime>nn&&s!==1073741824&&(t.flags|=128,a=!0,Qn(h,!1),t.lanes=4194304);h.isBackwards?(g.sibling=t.child,t.child=g):(s=h.last,s!==null?s.sibling=g:t.child=g,h.last=g)}return h.tail!==null?(t=h.tail,h.rendering=t,h.tail=t.sibling,h.renderingStartTime=Ie(),t.sibling=null,s=Ce.current,_e(Ce,a?s&1|2:s&1),t):(Qe(t),null);case 22:case 23:return ko(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&(t.mode&1)!==0?(dt&1073741824)!==0&&(Qe(t),t.subtreeFlags&6&&(t.flags|=8192)):Qe(t),null;case 24:return null;case 25:return null}throw Error(n(156,t.tag))}function jp(e,t){switch(Pa(t),t.tag){case 1:return rt(t.type)&&Us(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Zr(),ke(tt),ke(Ge),qa(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Fa(t),null;case 13:if(ke(Ce),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(n(340));Jr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ke(Ce),null;case 4:return Zr(),null;case 10:return Da(t.type._context),null;case 22:case 23:return ko(),null;case 24:return null;default:return null}}var ri=!1,Ye=!1,Ep=typeof WeakSet=="function"?WeakSet:Set,V=null;function tn(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(a){Re(e,t,a)}else s.current=null}function co(e,t,s){try{s()}catch(a){Re(e,t,a)}}var Mc=!1;function Np(e,t){if(ba=bs,e=wu(),pa(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var a=s.getSelection&&s.getSelection();if(a&&a.rangeCount!==0){s=a.anchorNode;var c=a.anchorOffset,h=a.focusNode;a=a.focusOffset;try{s.nodeType,h.nodeType}catch{s=null;break e}var g=0,y=-1,_=-1,T=0,I=0,L=e,A=null;t:for(;;){for(var W;L!==s||c!==0&&L.nodeType!==3||(y=g+c),L!==h||a!==0&&L.nodeType!==3||(_=g+a),L.nodeType===3&&(g+=L.nodeValue.length),(W=L.firstChild)!==null;)A=L,L=W;for(;;){if(L===e)break t;if(A===s&&++T===c&&(y=g),A===h&&++I===a&&(_=g),(W=L.nextSibling)!==null)break;L=A,A=L.parentNode}L=W}s=y===-1||_===-1?null:{start:y,end:_}}else s=null}s=s||{start:0,end:0}}else s=null;for(ka={focusedElem:e,selectionRange:s},bs=!1,V=t;V!==null;)if(t=V,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,V=e;else for(;V!==null;){t=V;try{var H=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(H!==null){var K=H.memoizedProps,Le=H.memoizedState,E=t.stateNode,b=E.getSnapshotBeforeUpdate(t.elementType===t.type?K:St(t.type,K),Le);E.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var N=t.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(U){Re(t,t.return,U)}if(e=t.sibling,e!==null){e.return=t.return,V=e;break}V=t.return}return H=Mc,Mc=!1,H}function Yn(e,t,s){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&e)===e){var h=c.destroy;c.destroy=void 0,h!==void 0&&co(t,s,h)}c=c.next}while(c!==a)}}function ni(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var a=s.create;s.destroy=a()}s=s.next}while(s!==t)}}function ho(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function Fc(e){var t=e.alternate;t!==null&&(e.alternate=null,Fc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rt],delete t[Bn],delete t[Na],delete t[up],delete t[cp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Wc(e){return e.tag===5||e.tag===3||e.tag===4}function qc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fo(e,t,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=Is));else if(a!==4&&(e=e.child,e!==null))for(fo(e,t,s),e=e.sibling;e!==null;)fo(e,t,s),e=e.sibling}function po(e,t,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(po(e,t,s),e=e.sibling;e!==null;)po(e,t,s),e=e.sibling}var Ve=null,jt=!1;function sr(e,t,s){for(s=s.child;s!==null;)Vc(e,t,s),s=s.sibling}function Vc(e,t,s){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(gs,s)}catch{}switch(s.tag){case 5:Ye||tn(s,t);case 6:var a=Ve,c=jt;Ve=null,sr(e,t,s),Ve=a,jt=c,Ve!==null&&(jt?(e=Ve,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Ve.removeChild(s.stateNode));break;case 18:Ve!==null&&(jt?(e=Ve,s=s.stateNode,e.nodeType===8?Ea(e.parentNode,s):e.nodeType===1&&Ea(e,s),Cn(e)):Ea(Ve,s.stateNode));break;case 4:a=Ve,c=jt,Ve=s.stateNode.containerInfo,jt=!0,sr(e,t,s),Ve=a,jt=c;break;case 0:case 11:case 14:case 15:if(!Ye&&(a=s.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){c=a=a.next;do{var h=c,g=h.destroy;h=h.tag,g!==void 0&&((h&2)!==0||(h&4)!==0)&&co(s,t,g),c=c.next}while(c!==a)}sr(e,t,s);break;case 1:if(!Ye&&(tn(s,t),a=s.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=s.memoizedProps,a.state=s.memoizedState,a.componentWillUnmount()}catch(y){Re(s,t,y)}sr(e,t,s);break;case 21:sr(e,t,s);break;case 22:s.mode&1?(Ye=(a=Ye)||s.memoizedState!==null,sr(e,t,s),Ye=a):sr(e,t,s);break;default:sr(e,t,s)}}function Hc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Ep),t.forEach(function(a){var c=Up.bind(null,e,a);s.has(a)||(s.add(a),a.then(c,c))})}}function Et(e,t){var s=t.deletions;if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];try{var h=e,g=t,y=g;e:for(;y!==null;){switch(y.tag){case 5:Ve=y.stateNode,jt=!1;break e;case 3:Ve=y.stateNode.containerInfo,jt=!0;break e;case 4:Ve=y.stateNode.containerInfo,jt=!0;break e}y=y.return}if(Ve===null)throw Error(n(160));Vc(h,g,c),Ve=null,jt=!1;var _=c.alternate;_!==null&&(_.return=null),c.return=null}catch(T){Re(c,t,T)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Kc(t,e),t=t.sibling}function Kc(e,t){var s=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Et(t,e),Lt(e),a&4){try{Yn(3,e,e.return),ni(3,e)}catch(K){Re(e,e.return,K)}try{Yn(5,e,e.return)}catch(K){Re(e,e.return,K)}}break;case 1:Et(t,e),Lt(e),a&512&&s!==null&&tn(s,s.return);break;case 5:if(Et(t,e),Lt(e),a&512&&s!==null&&tn(s,s.return),e.flags&32){var c=e.stateNode;try{yn(c,"")}catch(K){Re(e,e.return,K)}}if(a&4&&(c=e.stateNode,c!=null)){var h=e.memoizedProps,g=s!==null?s.memoizedProps:h,y=e.type,_=e.updateQueue;if(e.updateQueue=null,_!==null)try{y==="input"&&h.type==="radio"&&h.name!=null&&xl(c,h),qi(y,g);var T=qi(y,h);for(g=0;g<_.length;g+=2){var I=_[g],L=_[g+1];I==="style"?Cl(c,L):I==="dangerouslySetInnerHTML"?Nl(c,L):I==="children"?yn(c,L):D(c,I,L,T)}switch(y){case"input":zi(c,h);break;case"textarea":Sl(c,h);break;case"select":var A=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!h.multiple;var W=h.value;W!=null?Ir(c,!!h.multiple,W,!1):A!==!!h.multiple&&(h.defaultValue!=null?Ir(c,!!h.multiple,h.defaultValue,!0):Ir(c,!!h.multiple,h.multiple?[]:"",!1))}c[Bn]=h}catch(K){Re(e,e.return,K)}}break;case 6:if(Et(t,e),Lt(e),a&4){if(e.stateNode===null)throw Error(n(162));c=e.stateNode,h=e.memoizedProps;try{c.nodeValue=h}catch(K){Re(e,e.return,K)}}break;case 3:if(Et(t,e),Lt(e),a&4&&s!==null&&s.memoizedState.isDehydrated)try{Cn(t.containerInfo)}catch(K){Re(e,e.return,K)}break;case 4:Et(t,e),Lt(e);break;case 13:Et(t,e),Lt(e),c=e.child,c.flags&8192&&(h=c.memoizedState!==null,c.stateNode.isHidden=h,!h||c.alternate!==null&&c.alternate.memoizedState!==null||(vo=Ie())),a&4&&Hc(e);break;case 22:if(I=s!==null&&s.memoizedState!==null,e.mode&1?(Ye=(T=Ye)||I,Et(t,e),Ye=T):Et(t,e),Lt(e),a&8192){if(T=e.memoizedState!==null,(e.stateNode.isHidden=T)&&!I&&(e.mode&1)!==0)for(V=e,I=e.child;I!==null;){for(L=V=I;V!==null;){switch(A=V,W=A.child,A.tag){case 0:case 11:case 14:case 15:Yn(4,A,A.return);break;case 1:tn(A,A.return);var H=A.stateNode;if(typeof H.componentWillUnmount=="function"){a=A,s=A.return;try{t=a,H.props=t.memoizedProps,H.state=t.memoizedState,H.componentWillUnmount()}catch(K){Re(a,s,K)}}break;case 5:tn(A,A.return);break;case 22:if(A.memoizedState!==null){Qc(L);continue}}W!==null?(W.return=A,V=W):Qc(L)}I=I.sibling}e:for(I=null,L=e;;){if(L.tag===5){if(I===null){I=L;try{c=L.stateNode,T?(h=c.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(y=L.stateNode,_=L.memoizedProps.style,g=_!=null&&_.hasOwnProperty("display")?_.display:null,y.style.display=Tl("display",g))}catch(K){Re(e,e.return,K)}}}else if(L.tag===6){if(I===null)try{L.stateNode.nodeValue=T?"":L.memoizedProps}catch(K){Re(e,e.return,K)}}else if((L.tag!==22&&L.tag!==23||L.memoizedState===null||L===e)&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===e)break e;for(;L.sibling===null;){if(L.return===null||L.return===e)break e;I===L&&(I=null),L=L.return}I===L&&(I=null),L.sibling.return=L.return,L=L.sibling}}break;case 19:Et(t,e),Lt(e),a&4&&Hc(e);break;case 21:break;default:Et(t,e),Lt(e)}}function Lt(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(Wc(s)){var a=s;break e}s=s.return}throw Error(n(160))}switch(a.tag){case 5:var c=a.stateNode;a.flags&32&&(yn(c,""),a.flags&=-33);var h=qc(e);po(e,h,c);break;case 3:case 4:var g=a.stateNode.containerInfo,y=qc(e);fo(e,y,g);break;default:throw Error(n(161))}}catch(_){Re(e,e.return,_)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Tp(e,t,s){V=e,Gc(e)}function Gc(e,t,s){for(var a=(e.mode&1)!==0;V!==null;){var c=V,h=c.child;if(c.tag===22&&a){var g=c.memoizedState!==null||ri;if(!g){var y=c.alternate,_=y!==null&&y.memoizedState!==null||Ye;y=ri;var T=Ye;if(ri=g,(Ye=_)&&!T)for(V=c;V!==null;)g=V,_=g.child,g.tag===22&&g.memoizedState!==null?Yc(c):_!==null?(_.return=g,V=_):Yc(c);for(;h!==null;)V=h,Gc(h),h=h.sibling;V=c,ri=y,Ye=T}Jc(e)}else(c.subtreeFlags&8772)!==0&&h!==null?(h.return=c,V=h):Jc(e)}}function Jc(e){for(;V!==null;){var t=V;if((t.flags&8772)!==0){var s=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Ye||ni(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!Ye)if(s===null)a.componentDidMount();else{var c=t.elementType===t.type?s.memoizedProps:St(t.type,s.memoizedProps);a.componentDidUpdate(c,s.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var h=t.updateQueue;h!==null&&Qu(t,h,a);break;case 3:var g=t.updateQueue;if(g!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}Qu(t,g,s)}break;case 5:var y=t.stateNode;if(s===null&&t.flags&4){s=y;var _=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":_.autoFocus&&s.focus();break;case"img":_.src&&(s.src=_.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var T=t.alternate;if(T!==null){var I=T.memoizedState;if(I!==null){var L=I.dehydrated;L!==null&&Cn(L)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Ye||t.flags&512&&ho(t)}catch(A){Re(t,t.return,A)}}if(t===e){V=null;break}if(s=t.sibling,s!==null){s.return=t.return,V=s;break}V=t.return}}function Qc(e){for(;V!==null;){var t=V;if(t===e){V=null;break}var s=t.sibling;if(s!==null){s.return=t.return,V=s;break}V=t.return}}function Yc(e){for(;V!==null;){var t=V;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{ni(4,t)}catch(_){Re(t,s,_)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var c=t.return;try{a.componentDidMount()}catch(_){Re(t,c,_)}}var h=t.return;try{ho(t)}catch(_){Re(t,h,_)}break;case 5:var g=t.return;try{ho(t)}catch(_){Re(t,g,_)}}}catch(_){Re(t,t.return,_)}if(t===e){V=null;break}var y=t.sibling;if(y!==null){y.return=t.return,V=y;break}V=t.return}}var Cp=Math.ceil,si=q.ReactCurrentDispatcher,mo=q.ReactCurrentOwner,yt=q.ReactCurrentBatchConfig,de=0,We=null,Ue=null,He=0,dt=0,rn=Zt(0),ze=0,Xn=null,br=0,ii=0,go=0,Zn=null,st=null,vo=0,nn=1/0,qt=null,ai=!1,yo=null,ir=null,oi=!1,ar=null,li=0,es=0,wo=null,ui=-1,ci=0;function et(){return(de&6)!==0?Ie():ui!==-1?ui:ui=Ie()}function or(e){return(e.mode&1)===0?1:(de&2)!==0&&He!==0?He&-He:hp.transition!==null?(ci===0&&(ci=ql()),ci):(e=ve,e!==0||(e=window.event,e=e===void 0?16:Zl(e.type)),e)}function Nt(e,t,s,a){if(50<es)throw es=0,wo=null,Error(n(185));Sn(e,s,a),((de&2)===0||e!==We)&&(e===We&&((de&2)===0&&(ii|=s),ze===4&&lr(e,He)),it(e,a),s===1&&de===0&&(t.mode&1)===0&&(nn=Ie()+500,$s&&tr()))}function it(e,t){var s=e.callbackNode;hf(e,t);var a=ws(e,e===We?He:0);if(a===0)s!==null&&Ml(s),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(s!=null&&Ml(s),t===1)e.tag===0?dp(Zc.bind(null,e)):$u(Zc.bind(null,e)),op(function(){(de&6)===0&&tr()}),s=null;else{switch(Vl(a)){case 1:s=Yi;break;case 4:s=Fl;break;case 16:s=ms;break;case 536870912:s=Wl;break;default:s=ms}s=od(s,Xc.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function Xc(e,t){if(ui=-1,ci=0,(de&6)!==0)throw Error(n(327));var s=e.callbackNode;if(sn()&&e.callbackNode!==s)return null;var a=ws(e,e===We?He:0);if(a===0)return null;if((a&30)!==0||(a&e.expiredLanes)!==0||t)t=di(e,a);else{t=a;var c=de;de|=2;var h=td();(We!==e||He!==t)&&(qt=null,nn=Ie()+500,Sr(e,t));do try{Rp();break}catch(y){ed(e,y)}while(!0);Ua(),si.current=h,de=c,Ue!==null?t=0:(We=null,He=0,t=ze)}if(t!==0){if(t===2&&(c=Xi(e),c!==0&&(a=c,t=_o(e,c))),t===1)throw s=Xn,Sr(e,0),lr(e,a),it(e,Ie()),s;if(t===6)lr(e,a);else{if(c=e.current.alternate,(a&30)===0&&!Op(c)&&(t=di(e,a),t===2&&(h=Xi(e),h!==0&&(a=h,t=_o(e,h))),t===1))throw s=Xn,Sr(e,0),lr(e,a),it(e,Ie()),s;switch(e.finishedWork=c,e.finishedLanes=a,t){case 0:case 1:throw Error(n(345));case 2:jr(e,st,qt);break;case 3:if(lr(e,a),(a&130023424)===a&&(t=vo+500-Ie(),10<t)){if(ws(e,0)!==0)break;if(c=e.suspendedLanes,(c&a)!==a){et(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=ja(jr.bind(null,e,st,qt),t);break}jr(e,st,qt);break;case 4:if(lr(e,a),(a&4194240)===a)break;for(t=e.eventTimes,c=-1;0<a;){var g=31-xt(a);h=1<<g,g=t[g],g>c&&(c=g),a&=~h}if(a=c,a=Ie()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Cp(a/1960))-a,10<a){e.timeoutHandle=ja(jr.bind(null,e,st,qt),a);break}jr(e,st,qt);break;case 5:jr(e,st,qt);break;default:throw Error(n(329))}}}return it(e,Ie()),e.callbackNode===s?Xc.bind(null,e):null}function _o(e,t){var s=Zn;return e.current.memoizedState.isDehydrated&&(Sr(e,t).flags|=256),e=di(e,t),e!==2&&(t=st,st=s,t!==null&&xo(t)),e}function xo(e){st===null?st=e:st.push.apply(st,e)}function Op(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var a=0;a<s.length;a++){var c=s[a],h=c.getSnapshot;c=c.value;try{if(!bt(h(),c))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function lr(e,t){for(t&=~go,t&=~ii,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-xt(t),a=1<<s;e[s]=-1,t&=~a}}function Zc(e){if((de&6)!==0)throw Error(n(327));sn();var t=ws(e,0);if((t&1)===0)return it(e,Ie()),null;var s=di(e,t);if(e.tag!==0&&s===2){var a=Xi(e);a!==0&&(t=a,s=_o(e,a))}if(s===1)throw s=Xn,Sr(e,0),lr(e,t),it(e,Ie()),s;if(s===6)throw Error(n(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jr(e,st,qt),it(e,Ie()),null}function bo(e,t){var s=de;de|=1;try{return e(t)}finally{de=s,de===0&&(nn=Ie()+500,$s&&tr())}}function kr(e){ar!==null&&ar.tag===0&&(de&6)===0&&sn();var t=de;de|=1;var s=yt.transition,a=ve;try{if(yt.transition=null,ve=1,e)return e()}finally{ve=a,yt.transition=s,de=t,(de&6)===0&&tr()}}function ko(){dt=rn.current,ke(rn)}function Sr(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,ap(s)),Ue!==null)for(s=Ue.return;s!==null;){var a=s;switch(Pa(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Us();break;case 3:Zr(),ke(tt),ke(Ge),qa();break;case 5:Fa(a);break;case 4:Zr();break;case 13:ke(Ce);break;case 19:ke(Ce);break;case 10:Da(a.type._context);break;case 22:case 23:ko()}s=s.return}if(We=e,Ue=e=ur(e.current,null),He=dt=t,ze=0,Xn=null,go=ii=br=0,st=Zn=null,wr!==null){for(t=0;t<wr.length;t++)if(s=wr[t],a=s.interleaved,a!==null){s.interleaved=null;var c=a.next,h=s.pending;if(h!==null){var g=h.next;h.next=c,a.next=g}s.pending=a}wr=null}return e}function ed(e,t){do{var s=Ue;try{if(Ua(),Gs.current=Xs,Js){for(var a=Oe.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}Js=!1}if(xr=0,Fe=$e=Oe=null,Hn=!1,Kn=0,mo.current=null,s===null||s.return===null){ze=1,Xn=t,Ue=null;break}e:{var h=e,g=s.return,y=s,_=t;if(t=He,y.flags|=32768,_!==null&&typeof _=="object"&&typeof _.then=="function"){var T=_,I=y,L=I.tag;if((I.mode&1)===0&&(L===0||L===11||L===15)){var A=I.alternate;A?(I.updateQueue=A.updateQueue,I.memoizedState=A.memoizedState,I.lanes=A.lanes):(I.updateQueue=null,I.memoizedState=null)}var W=jc(g);if(W!==null){W.flags&=-257,Ec(W,g,y,h,t),W.mode&1&&Sc(h,T,t),t=W,_=T;var H=t.updateQueue;if(H===null){var K=new Set;K.add(_),t.updateQueue=K}else H.add(_);break e}else{if((t&1)===0){Sc(h,T,t),So();break e}_=Error(n(426))}}else if(je&&y.mode&1){var Le=jc(g);if(Le!==null){(Le.flags&65536)===0&&(Le.flags|=256),Ec(Le,g,y,h,t),Ia(en(_,y));break e}}h=_=en(_,y),ze!==4&&(ze=2),Zn===null?Zn=[h]:Zn.push(h),h=g;do{switch(h.tag){case 3:h.flags|=65536,t&=-t,h.lanes|=t;var E=bc(h,_,t);Ju(h,E);break e;case 1:y=_;var b=h.type,N=h.stateNode;if((h.flags&128)===0&&(typeof b.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(ir===null||!ir.has(N)))){h.flags|=65536,t&=-t,h.lanes|=t;var U=kc(h,y,t);Ju(h,U);break e}}h=h.return}while(h!==null)}nd(s)}catch(G){t=G,Ue===s&&s!==null&&(Ue=s=s.return);continue}break}while(!0)}function td(){var e=si.current;return si.current=Xs,e===null?Xs:e}function So(){(ze===0||ze===3||ze===2)&&(ze=4),We===null||(br&268435455)===0&&(ii&268435455)===0||lr(We,He)}function di(e,t){var s=de;de|=2;var a=td();(We!==e||He!==t)&&(qt=null,Sr(e,t));do try{Pp();break}catch(c){ed(e,c)}while(!0);if(Ua(),de=s,si.current=a,Ue!==null)throw Error(n(261));return We=null,He=0,ze}function Pp(){for(;Ue!==null;)rd(Ue)}function Rp(){for(;Ue!==null&&!rf();)rd(Ue)}function rd(e){var t=ad(e.alternate,e,dt);e.memoizedProps=e.pendingProps,t===null?nd(e):Ue=t,mo.current=null}function nd(e){var t=e;do{var s=t.alternate;if(e=t.return,(t.flags&32768)===0){if(s=Sp(s,t,dt),s!==null){Ue=s;return}}else{if(s=jp(s,t),s!==null){s.flags&=32767,Ue=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ze=6,Ue=null;return}}if(t=t.sibling,t!==null){Ue=t;return}Ue=t=e}while(t!==null);ze===0&&(ze=5)}function jr(e,t,s){var a=ve,c=yt.transition;try{yt.transition=null,ve=1,Ap(e,t,s,a)}finally{yt.transition=c,ve=a}return null}function Ap(e,t,s,a){do sn();while(ar!==null);if((de&6)!==0)throw Error(n(327));s=e.finishedWork;var c=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(n(177));e.callbackNode=null,e.callbackPriority=0;var h=s.lanes|s.childLanes;if(ff(e,h),e===We&&(Ue=We=null,He=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||oi||(oi=!0,od(ms,function(){return sn(),null})),h=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||h){h=yt.transition,yt.transition=null;var g=ve;ve=1;var y=de;de|=4,mo.current=null,Np(e,s),Kc(s,e),Zf(ka),bs=!!ba,ka=ba=null,e.current=s,Tp(s),nf(),de=y,ve=g,yt.transition=h}else e.current=s;if(oi&&(oi=!1,ar=e,li=c),h=e.pendingLanes,h===0&&(ir=null),of(s.stateNode),it(e,Ie()),t!==null)for(a=e.onRecoverableError,s=0;s<t.length;s++)c=t[s],a(c.value,{componentStack:c.stack,digest:c.digest});if(ai)throw ai=!1,e=yo,yo=null,e;return(li&1)!==0&&e.tag!==0&&sn(),h=e.pendingLanes,(h&1)!==0?e===wo?es++:(es=0,wo=e):es=0,tr(),null}function sn(){if(ar!==null){var e=Vl(li),t=yt.transition,s=ve;try{if(yt.transition=null,ve=16>e?16:e,ar===null)var a=!1;else{if(e=ar,ar=null,li=0,(de&6)!==0)throw Error(n(331));var c=de;for(de|=4,V=e.current;V!==null;){var h=V,g=h.child;if((V.flags&16)!==0){var y=h.deletions;if(y!==null){for(var _=0;_<y.length;_++){var T=y[_];for(V=T;V!==null;){var I=V;switch(I.tag){case 0:case 11:case 15:Yn(8,I,h)}var L=I.child;if(L!==null)L.return=I,V=L;else for(;V!==null;){I=V;var A=I.sibling,W=I.return;if(Fc(I),I===T){V=null;break}if(A!==null){A.return=W,V=A;break}V=W}}}var H=h.alternate;if(H!==null){var K=H.child;if(K!==null){H.child=null;do{var Le=K.sibling;K.sibling=null,K=Le}while(K!==null)}}V=h}}if((h.subtreeFlags&2064)!==0&&g!==null)g.return=h,V=g;else e:for(;V!==null;){if(h=V,(h.flags&2048)!==0)switch(h.tag){case 0:case 11:case 15:Yn(9,h,h.return)}var E=h.sibling;if(E!==null){E.return=h.return,V=E;break e}V=h.return}}var b=e.current;for(V=b;V!==null;){g=V;var N=g.child;if((g.subtreeFlags&2064)!==0&&N!==null)N.return=g,V=N;else e:for(g=b;V!==null;){if(y=V,(y.flags&2048)!==0)try{switch(y.tag){case 0:case 11:case 15:ni(9,y)}}catch(G){Re(y,y.return,G)}if(y===g){V=null;break e}var U=y.sibling;if(U!==null){U.return=y.return,V=U;break e}V=y.return}}if(de=c,tr(),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(gs,e)}catch{}a=!0}return a}finally{ve=s,yt.transition=t}}return!1}function sd(e,t,s){t=en(s,t),t=bc(e,t,1),e=nr(e,t,1),t=et(),e!==null&&(Sn(e,1,t),it(e,t))}function Re(e,t,s){if(e.tag===3)sd(e,e,s);else for(;t!==null;){if(t.tag===3){sd(t,e,s);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(ir===null||!ir.has(a))){e=en(s,e),e=kc(t,e,1),t=nr(t,e,1),e=et(),t!==null&&(Sn(t,1,e),it(t,e));break}}t=t.return}}function Ip(e,t,s){var a=e.pingCache;a!==null&&a.delete(t),t=et(),e.pingedLanes|=e.suspendedLanes&s,We===e&&(He&s)===s&&(ze===4||ze===3&&(He&130023424)===He&&500>Ie()-vo?Sr(e,0):go|=s),it(e,t)}function id(e,t){t===0&&((e.mode&1)===0?t=1:(t=ys,ys<<=1,(ys&130023424)===0&&(ys=4194304)));var s=et();e=Mt(e,t),e!==null&&(Sn(e,t,s),it(e,s))}function Lp(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),id(e,s)}function Up(e,t){var s=0;switch(e.tag){case 13:var a=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(n(314))}a!==null&&a.delete(t),id(e,s)}var ad;ad=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||tt.current)nt=!0;else{if((e.lanes&s)===0&&(t.flags&128)===0)return nt=!1,kp(e,t,s);nt=(e.flags&131072)!==0}else nt=!1,je&&(t.flags&1048576)!==0&&zu(t,Bs,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;ti(e,t),e=t.pendingProps;var c=Hr(t,Ge.current);Xr(t,s),c=Ka(null,t,a,e,c,s);var h=Ga();return t.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,rt(a)?(h=!0,Ds(t)):h=!1,t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,Ba(t),c.updater=Zs,t.stateNode=c,c._reactInternals=t,eo(t,a,e,s),t=so(null,t,a,!0,h,s)):(t.tag=0,je&&h&&Oa(t),Ze(null,t,c,s),t=t.child),t;case 16:a=t.elementType;e:{switch(ti(e,t),e=t.pendingProps,c=a._init,a=c(a._payload),t.type=a,c=t.tag=$p(a),e=St(a,e),c){case 0:t=no(null,t,a,e,s);break e;case 1:t=Rc(null,t,a,e,s);break e;case 11:t=Nc(null,t,a,e,s);break e;case 14:t=Tc(null,t,a,St(a.type,e),s);break e}throw Error(n(306,a,""))}return t;case 0:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:St(a,c),no(e,t,a,c,s);case 1:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:St(a,c),Rc(e,t,a,c,s);case 3:e:{if(Ac(t),e===null)throw Error(n(387));a=t.pendingProps,h=t.memoizedState,c=h.element,Gu(e,t),Hs(t,a,null,s);var g=t.memoizedState;if(a=g.element,h.isDehydrated)if(h={element:a,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){c=en(Error(n(423)),t),t=Ic(e,t,a,s,c);break e}else if(a!==c){c=en(Error(n(424)),t),t=Ic(e,t,a,s,c);break e}else for(ct=Xt(t.stateNode.containerInfo.firstChild),ut=t,je=!0,kt=null,s=Hu(t,null,a,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Jr(),a===c){t=Wt(e,t,s);break e}Ze(e,t,a,s)}t=t.child}return t;case 5:return Yu(t),e===null&&Aa(t),a=t.type,c=t.pendingProps,h=e!==null?e.memoizedProps:null,g=c.children,Sa(a,c)?g=null:h!==null&&Sa(a,h)&&(t.flags|=32),Pc(e,t),Ze(e,t,g,s),t.child;case 6:return e===null&&Aa(t),null;case 13:return Lc(e,t,s);case 4:return Ma(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Qr(t,null,a,s):Ze(e,t,a,s),t.child;case 11:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:St(a,c),Nc(e,t,a,c,s);case 7:return Ze(e,t,t.pendingProps,s),t.child;case 8:return Ze(e,t,t.pendingProps.children,s),t.child;case 12:return Ze(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(a=t.type._context,c=t.pendingProps,h=t.memoizedProps,g=c.value,_e(Ws,a._currentValue),a._currentValue=g,h!==null)if(bt(h.value,g)){if(h.children===c.children&&!tt.current){t=Wt(e,t,s);break e}}else for(h=t.child,h!==null&&(h.return=t);h!==null;){var y=h.dependencies;if(y!==null){g=h.child;for(var _=y.firstContext;_!==null;){if(_.context===a){if(h.tag===1){_=Ft(-1,s&-s),_.tag=2;var T=h.updateQueue;if(T!==null){T=T.shared;var I=T.pending;I===null?_.next=_:(_.next=I.next,I.next=_),T.pending=_}}h.lanes|=s,_=h.alternate,_!==null&&(_.lanes|=s),$a(h.return,s,t),y.lanes|=s;break}_=_.next}}else if(h.tag===10)g=h.type===t.type?null:h.child;else if(h.tag===18){if(g=h.return,g===null)throw Error(n(341));g.lanes|=s,y=g.alternate,y!==null&&(y.lanes|=s),$a(g,s,t),g=h.sibling}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}Ze(e,t,c.children,s),t=t.child}return t;case 9:return c=t.type,a=t.pendingProps.children,Xr(t,s),c=gt(c),a=a(c),t.flags|=1,Ze(e,t,a,s),t.child;case 14:return a=t.type,c=St(a,t.pendingProps),c=St(a.type,c),Tc(e,t,a,c,s);case 15:return Cc(e,t,t.type,t.pendingProps,s);case 17:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:St(a,c),ti(e,t),t.tag=1,rt(a)?(e=!0,Ds(t)):e=!1,Xr(t,s),_c(t,a,c),eo(t,a,c,s),so(null,t,a,!0,e,s);case 19:return Dc(e,t,s);case 22:return Oc(e,t,s)}throw Error(n(156,t.tag))};function od(e,t){return Bl(e,t)}function Dp(e,t,s,a){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wt(e,t,s,a){return new Dp(e,t,s,a)}function jo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $p(e){if(typeof e=="function")return jo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ue)return 11;if(e===Ne)return 14}return 2}function ur(e,t){var s=e.alternate;return s===null?(s=wt(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function hi(e,t,s,a,c,h){var g=2;if(a=e,typeof e=="function")jo(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case le:return Er(s.children,c,h,t);case Ee:g=8,c|=8;break;case Ae:return e=wt(12,s,t,c|2),e.elementType=Ae,e.lanes=h,e;case he:return e=wt(13,s,t,c),e.elementType=he,e.lanes=h,e;case ye:return e=wt(19,s,t,c),e.elementType=ye,e.lanes=h,e;case Te:return fi(s,c,h,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $:g=10;break e;case ce:g=9;break e;case ue:g=11;break e;case Ne:g=14;break e;case Me:g=16,a=null;break e}throw Error(n(130,e==null?e:typeof e,""))}return t=wt(g,s,t,c),t.elementType=e,t.type=a,t.lanes=h,t}function Er(e,t,s,a){return e=wt(7,e,a,t),e.lanes=s,e}function fi(e,t,s,a){return e=wt(22,e,a,t),e.elementType=Te,e.lanes=s,e.stateNode={isHidden:!1},e}function Eo(e,t,s){return e=wt(6,e,null,t),e.lanes=s,e}function No(e,t,s){return t=wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zp(e,t,s,a,c){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zi(0),this.expirationTimes=Zi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zi(0),this.identifierPrefix=a,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function To(e,t,s,a,c,h,g,y,_){return e=new zp(e,t,s,y,_),t===1?(t=1,h===!0&&(t|=8)):t=0,h=wt(3,null,null,t),e.current=h,h.stateNode=e,h.memoizedState={element:a,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ba(h),e}function Bp(e,t,s){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:re,key:a==null?null:""+a,children:e,containerInfo:t,implementation:s}}function ld(e){if(!e)return er;e=e._reactInternals;e:{if(pr(e)!==e||e.tag!==1)throw Error(n(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(rt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(n(171))}if(e.tag===1){var s=e.type;if(rt(s))return Uu(e,s,t)}return t}function ud(e,t,s,a,c,h,g,y,_){return e=To(s,a,!0,e,c,h,g,y,_),e.context=ld(null),s=e.current,a=et(),c=or(s),h=Ft(a,c),h.callback=t??null,nr(s,h,c),e.current.lanes=c,Sn(e,c,a),it(e,a),e}function pi(e,t,s,a){var c=t.current,h=et(),g=or(c);return s=ld(s),t.context===null?t.context=s:t.pendingContext=s,t=Ft(h,g),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=nr(c,t,g),e!==null&&(Nt(e,c,g,h),Vs(e,c,g)),g}function mi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function cd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function Co(e,t){cd(e,t),(e=e.alternate)&&cd(e,t)}function Mp(){return null}var dd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Oo(e){this._internalRoot=e}gi.prototype.render=Oo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(n(409));pi(e,t,null,null)},gi.prototype.unmount=Oo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;kr(function(){pi(null,e,null,null)}),t[Dt]=null}};function gi(e){this._internalRoot=e}gi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Gl();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Jt.length&&t!==0&&t<Jt[s].priority;s++);Jt.splice(s,0,e),s===0&&Yl(e)}};function Po(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function vi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function hd(){}function Fp(e,t,s,a,c){if(c){if(typeof a=="function"){var h=a;a=function(){var T=mi(g);h.call(T)}}var g=ud(t,a,e,0,null,!1,!1,"",hd);return e._reactRootContainer=g,e[Dt]=g.current,$n(e.nodeType===8?e.parentNode:e),kr(),g}for(;c=e.lastChild;)e.removeChild(c);if(typeof a=="function"){var y=a;a=function(){var T=mi(_);y.call(T)}}var _=To(e,0,!1,null,null,!1,!1,"",hd);return e._reactRootContainer=_,e[Dt]=_.current,$n(e.nodeType===8?e.parentNode:e),kr(function(){pi(t,_,s,a)}),_}function yi(e,t,s,a,c){var h=s._reactRootContainer;if(h){var g=h;if(typeof c=="function"){var y=c;c=function(){var _=mi(g);y.call(_)}}pi(t,g,e,c)}else g=Fp(s,t,e,c,a);return mi(g)}Hl=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=kn(t.pendingLanes);s!==0&&(ea(t,s|1),it(t,Ie()),(de&6)===0&&(nn=Ie()+500,tr()))}break;case 13:kr(function(){var a=Mt(e,1);if(a!==null){var c=et();Nt(a,e,1,c)}}),Co(e,1)}},ta=function(e){if(e.tag===13){var t=Mt(e,134217728);if(t!==null){var s=et();Nt(t,e,134217728,s)}Co(e,134217728)}},Kl=function(e){if(e.tag===13){var t=or(e),s=Mt(e,t);if(s!==null){var a=et();Nt(s,e,t,a)}Co(e,t)}},Gl=function(){return ve},Jl=function(e,t){var s=ve;try{return ve=e,t()}finally{ve=s}},Ki=function(e,t,s){switch(t){case"input":if(zi(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var a=s[t];if(a!==e&&a.form===e.form){var c=Ls(a);if(!c)throw Error(n(90));wl(a),zi(a,c)}}}break;case"textarea":Sl(e,s);break;case"select":t=s.value,t!=null&&Ir(e,!!s.multiple,t,!1)}},Al=bo,Il=kr;var Wp={usingClientEntryPoint:!1,Events:[Mn,qr,Ls,Pl,Rl,bo]},ts={findFiberByHostInstance:mr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qp={bundleType:ts.bundleType,version:ts.version,rendererPackageName:ts.rendererPackageName,rendererConfig:ts.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:q.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=$l(e),e===null?null:e.stateNode},findFiberByHostInstance:ts.findFiberByHostInstance||Mp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wi.isDisabled&&wi.supportsFiber)try{gs=wi.inject(qp),Pt=wi}catch{}}return at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wp,at.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Po(t))throw Error(n(200));return Bp(e,t,null,s)},at.createRoot=function(e,t){if(!Po(e))throw Error(n(299));var s=!1,a="",c=dd;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=To(e,1,!1,null,null,s,!1,a,c),e[Dt]=t.current,$n(e.nodeType===8?e.parentNode:e),new Oo(t)},at.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(n(188)):(e=Object.keys(e).join(","),Error(n(268,e)));return e=$l(t),e=e===null?null:e.stateNode,e},at.flushSync=function(e){return kr(e)},at.hydrate=function(e,t,s){if(!vi(t))throw Error(n(200));return yi(null,e,t,!0,s)},at.hydrateRoot=function(e,t,s){if(!Po(e))throw Error(n(405));var a=s!=null&&s.hydratedSources||null,c=!1,h="",g=dd;if(s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(g=s.onRecoverableError)),t=ud(t,null,e,1,s??null,c,!1,h,g),e[Dt]=t.current,$n(e),a)for(e=0;e<a.length;e++)s=a[e],c=s._getVersion,c=c(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,c]:t.mutableSourceEagerHydrationData.push(s,c);return new gi(t)},at.render=function(e,t,s){if(!vi(t))throw Error(n(200));return yi(null,e,t,!1,s)},at.unmountComponentAtNode=function(e){if(!vi(e))throw Error(n(40));return e._reactRootContainer?(kr(function(){yi(null,null,e,!1,function(){e._reactRootContainer=null,e[Dt]=null})}),!0):!1},at.unstable_batchedUpdates=bo,at.unstable_renderSubtreeIntoContainer=function(e,t,s,a){if(!vi(s))throw Error(n(200));if(e==null||e._reactInternals===void 0)throw Error(n(38));return yi(e,t,s,!1,a)},at.version="18.3.1-next-f1338f8080-20240426",at}var _d;function tm(){if(_d)return Io.exports;_d=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(r){console.error(r)}}return o(),Io.exports=em(),Io.exports}var xd;function rm(){if(xd)return _i;xd=1;var o=tm();return _i.createRoot=o.createRoot,_i.hydrateRoot=o.hydrateRoot,_i}var nm=rm();const sm=ll(nm),th=ne.createContext(void 0),Do={hero_tagline:{en:"Homemade Snack Subscription",ml:"   ",hi:"     ",ta:"   ",te:"   ",kn:"   ",mt:"Abbonament ta Snacks Magmulin id-Dar"},hero_title_1:{en:"Fresh Homemade Snacks,",ml:"   ,",hi:"    ,",ta:"  ,",te:"  ,",kn:"   ,",mt:"Snacks friski magmulin id-dar,"},hero_title_2:{en:"Delivered to Your Door.",ml:"  .",hi:"   ",ta:"    .",te:"    .",kn:"  .",mt:"Kunsinnati sal-bieb tiegek."},hero_subtitle:{en:"Bi-weekly or monthly snack boxes filled with Kerala-style homemade goodies.",ml:"          .",hi:"-              ",ta:"           .",te:"             .",kn:"             .",mt:"Kaxxi ta snacks mimlija blewwiet magmulin id-dar fl-istil ta Kerala  kull imagtejn jew kull xahar."},hero_feature_1:{en:"Small-batch homemade snacks",ml:"    ",hi:"      ",ta:"    ",te:"    ",kn:"    ",mt:"Snacks magmulin id-dar flottijiet gar"},hero_feature_2:{en:"Bi-weekly / Monthly delivery options",ml:" /   ",hi:" /   ",ta:" /   ",te:" /   ",kn:" /   ",mt:"Galiet ta kunsinna kull imagtejn / kull xahar"},hero_feature_3:{en:"WhatsApp confirmation included",ml:"  ",hi:"  ",ta:"WhatsApp  ",te:"WhatsApp  ",kn:"WhatsApp  ",mt:"Konferma fuq WhatsApp inklua"},hero_no_card:{en:"No card required. Pay via Cash or Revolut on delivery.",ml:" .   Cash  Revolut  .",hi:"        Revolut   ",ta:" .  Cash  Revolut  .",te:"  .   Cash  Revolut  .",kn:" .     Revolut  .",mt:"Mhemmx bonn karta. allas bil-flus kontanti jew Revolut mal-kunsinna."},hero_sample_onetime:{en:"Pay via Cash or Revolut only when you receive your order.",ml:"      ",hi:"          ",ta:"       ",te:"      ",kn:"       ",mt:"Kaxxa Kampjun hija Ordni ta' Darba Wada  L-ebda Abbonament"},how_it_works_title:{en:"How It Works",ml:"  ?",hi:"    ?",ta:"   ?",te:"  ?",kn:"   ?",mt:"Kif tadem"},how_it_works_desc:{en:"Simple, flexible subscription for fresh homemade snacks.",ml:"      .",hi:"          ",ta:"   ,  .",te:"    ,  .",kn:"       .",mt:"Abbonament semplii u flessibbli gal snacks friski magmulin id-dar."},step_1_title:{en:"Choose a plan",ml:"  ",hi:"  ",ta:"  ",te:"  ",kn:"   ",mt:"Agel pjan"},step_1_desc:{en:"Pick a monthly or bi-weekly snack box that matches your cravings.",ml:"    /    .",hi:"         ",ta:"        .",te:"        .",kn:"         .",mt:"Agel kaxxa ta snacks kull xahar jew kull imagtejn skont dak li tixtieq."},step_2_title:{en:"Choose delivery day",ml:"  ",hi:"   ",ta:"  ",te:"  ",kn:"   ",mt:"Agel il-jum tal-kunsinna"},step_2_desc:{en:"Select the day that works best for you. Well plan our cooking around it.",ml:"   .     .",hi:"      ,         ",ta:"   .    .",te:"   .       .",kn:"    .     .",mt:"Agel il-jum li jadem l-ajar galik. Ana nippjanaw it-tisjir skontu."},step_3_title:{en:"Enjoy fresh snacks",ml:"  ",hi:"    ",ta:"  ",te:"  ",kn:"  ",mt:"Igawdi snacks friski"},step_3_desc:{en:"Receive freshly prepared homemade snacks at your doorstep.",ml:"     .",hi:"         ",ta:"      .",te:"        .",kn:"       .",mt:"Irievi snacks friski magmulin id-dar sal-bieb tiegek."},plans_title:{en:"Choose Your Subscription Plan",ml:"   ",hi:"   ",ta:"   ",te:"   ",kn:"    ",mt:"Agel il-Pjan ta Abbonament Tiegek"},plans_subtitle:{en:"Select bi-weekly or monthly delivery, and well handle the rest. Bi-weekly plans are delivered every 2 weeks.",ml:" /      .    2    .",hi:"           2     ",ta:"      .    2   .",te:"       .    2    .",kn:"      .    2   .",mt:"Agel kunsinna kull imagtejn jew kull xahar, u ana niedu sieb il-bqija. Il-pjan ta kull imagtejn jitwassal kull 2 imgat."},no_payment_banner:{en:"No payment required now. You only pay via Cash or Revolut when your snacks arrive!",ml:" .   Cash  Revolut    !",hi:"           Revolut   !",ta:"   .    Cash  Revolut  !",te:"   .     Cash  Revolut  !",kn:"  .        Revolut  !",mt:"L-ebda las metie issa. Tallas biss bil-flus kontanti jew Revolut meta jaslu l-isnacks tiegek!"},plan_1_name:{en:"Monthly Snack Box",ml:"  ",hi:"  ",ta:"  ",te:"  ",kn:"  ",mt:"Kaxxa ta Snacks ta Kull Xahar"},plan_1_desc:{en:"A fresh selection of homemade snacks every month.",ml:"      .",hi:"        ",ta:"     .",te:"      .",kn:"      .",mt:"Gala friska ta snacks magmulin id-dar kull xahar."},plan_2_name:{en:"Bi-Weekly Family Box",ml:"  ",hi:"  ",ta:"  ",te:"  ",kn:"  ",mt:"Kaxxa tal-Familja ta Kull imagtejn"},plan_2_desc:{en:"Perfect for families, delivered every two weeks.",ml:"    .",hi:"      2   ",ta:"  2   .",te:"  2   .",kn:"  2   .",mt:"Perfett gall-familji, imwassal kull imagtejn."},label_most_popular:{en:"Most popular",ml:" ",hi:" ",ta:" ",te:"  ",kn:" ",mt:"L-aktar popolari"},label_frequency:{en:"Frequency",ml:"",hi:"",ta:"",te:"",kn:"",mt:"Frekwenza"},val_biweekly:{en:"Bi-weekly delivery",ml:"  ",hi:" 2   ",ta:" ",te:" 2  ",kn:" 2  ",mt:"Kunsinna kull imagtejn"},val_monthly:{en:"Monthly delivery",ml:"  ",hi:" ",ta:" ",te:" ",kn:" ",mt:"Kunsinna ta kull xahar"},label_what_you_get:{en:"What you get",ml:" ",hi:"  ",ta:" ",te:" ",kn:" ",mt:"Dak li tikseb"},feature_1:{en:"Mix of sweet, spicy and savoury Kerala-style snacks",ml:", ,     ",hi:",    -   ",ta:", ,       ",te:", ,      ",kn:",        ",mt:"Talita ta snacks stil Kerala: elwin, pikkanti u melin"},feature_2:{en:"Freshly prepared in small batches for your delivery day",ml:"       ",hi:"            ",ta:"      ",te:"        ",kn:"      ",mt:"Ippreparat frisk flottijiet gar gall-jum tal-kunsinna tiegek"},feature_3:{en:"Room to customise what you like more",ml:"    ",hi:"       ",ta:"   ",te:"    ",kn:"    ",mt:"Tista tippersonalizza skont xtippreferi"},label_delivery_days:{en:"Delivery days available",ml:"  ",hi:"  ",ta:"  ",te:"   ",kn:"  ",mt:"ranet tal-kunsinna disponibbli"},btn_choose_plan:{en:"Choose Plan",ml:" ",hi:" ",ta:" ",te:" ",kn:"  ",mt:"Agel Pjan"},cta_title:{en:"Unsure which subscription works best?",ml:"   ?",hi:"       ?",ta:"    ?",te:"     ?",kn:"    ?",mt:"Mintix ert liema abbonament huwa l-ajar?"},cta_desc_start:{en:"Start with our one-time ",ml:"    ",hi:" - ",ta:"   ",te:"  ",kn:"   ",mt:"Ibda bil-kaxxa tagna ta darba "},cta_sample_box:{en:"Sample Snack Box",ml:"  ",hi:"  ",ta:"  ",te:"  ",kn:"  ",mt:"Kaxxa Kampjun ta Snacks"},cta_desc_end:{en:". Taste a mix of our sweet, spicy and salted Kerala snacks before you commit to a subscription.",ml:"  .          .",hi:"         ,        ",ta:"  .     ,      .",te:"  .     ,      .",kn:"  .    ,      .",mt:". Duq talita ta snacks elwin, pikkanti u melin tagna qabel ma tikkommetti ruek."},cta_feature_1:{en:"No subscription, one-time order only",ml:" ,    ",hi:"  ,     ",ta:" ,    ",te:"  ,   ",kn:" ,    ",mt:"L-ebda abbonament, ordni ta darba biss"},cta_feature_2:{en:"Curated mix of our most-loved snacks",ml:"   ",hi:"      ",ta:"   ",te:"    ",kn:"    ",mt:"Talita kkurata tal-isnacks l-aktar mabubin tagna"},cta_feature_3:{en:"Perfect to decide which plan fits your family",ml:"      ",hi:"        ,      ",ta:"        ",te:"       ",kn:"      ",mt:"Perfetta biex tiddeiedi liema pjan jaqbel lill-familja tiegek"},cta_price_from:{en:"From ",ml:": ",hi:" : ",ta:": ",te:": ",kn:" : ",mt:"Minn "},cta_price_note:{en:"(Price varies based on product selection)",ml:"(   )",hi:"(       )",ta:"(    )",te:"(    )",kn:"(    )",mt:"(Il-prezz ivarja skont il-prodotti magula)"},cta_btn_try:{en:"One-Time Order",ml:"   ",hi:"   ",ta:"   ",te:"   ",kn:"   ",mt:"Ipprova l-Kaxxa Kampjun"},label_total:{en:"Total",ml:"",hi:"",ta:"",te:"",kn:"",mt:"Total"},contact_title:{en:"Contact Us",ml:" ",hi:"  ",ta:"  ",te:" ",kn:" ",mt:"Ikkuntattjana"},contact_description:{en:"Have a question about our homemade snack subscription, delivery areas or plans? Send us a message and we'll get back to you via WhatsApp or email.",ml:"    ,      ?    , WhatsApp      .",hi:"     ,          ?       WhatsApp        ",ta:"    ,        ?    , WhatsApp     .",te:"    ,        ?   ,  WhatsApp      .",kn:"    ,        ?   ,  WhatsApp     .",mt:"Gandek mistoqsija dwar l-abbonament tagna ta' snacks magmulin id-dar, oni tal-kunsinna jew pjanijiet? Ibgatilna messa u ana nirrispondu permezz ta' WhatsApp jew email."},contact_point_1:{en:"Ask anything about our monthly or bi-weekly snack plans",ml:"       ",hi:"           ",ta:"        ",te:"        ",kn:"        ",mt:"Staqsi kwalunkwe aa dwar il-pjanijiet tagna ta' snacks kull xahar jew kull imagtejn"},contact_point_2:{en:"Check if we deliver to your area",ml:"      ",hi:"          ",ta:"      ",te:"       ",kn:"     ",mt:"Iekkja jekk nwasslu fi-ona tiegek"},contact_point_3:{en:"Request details about bulk orders or special occasions",ml:"      ",hi:"           ",ta:"       ",te:"       ",kn:"       ",mt:"Itlob dettalji dwar ordnijiet bil-bulk jew okkajonijiet spejali"},contact_point_4:{en:"Share feedback or suggestions  we love hearing from you!",ml:"         !",hi:"           !",ta:"        !",te:"         !",kn:"        !",mt:"Aqsam feedback jew suerimenti  inobbu nisimgu minnek!"},faq_title:{en:"Frequently Asked Questions",ml:"  ",hi:"    ",ta:"  ",te:"  ",kn:"  ",mt:"Mistoqsijiet Frekwenti"},faq_q1:{en:"If I subscribe today, when will I receive my first delivery?",ml:"  ,     ?",hi:"    ,      ?",ta:"  ,     ?",te:"   ,     ?",kn:"  ,     ?",mt:"Jekk nabbona llum, meta nirievi l-ewwel kunsinna tiegi?"},faq_a1:{en:"Once you subscribe, we'll add you to our upcoming delivery batch. We will be in touch via WhatsApp to confirm your order and delivery date. If you choose the bi-weekly plan you will receive your first box in 1-2 weeks, and for the monthly plan within 3-4 weeks.",ml:"  ,      .       WhatsApp  .    1-2    ,   3-4 .",hi:"       ,                       WhatsApp              1-2     ,      3-4   ",ta:"  ,      .       WhatsApp   .    1-2    ,   3-4 .",te:"   ,       .       WhatsApp  .    1-2    ,    3-4 .",kn:"  ,       .       WhatsApp  .    1-2    ,   3-4 .",mt:"Ladarba tabbona, se niduk fil-lott tal-kunsinna li ej tagna. Se nkunu f'kuntatt permezz ta' WhatsApp biex nikkonferma l-ordni u d-data tal-kunsinna tiegek. Jekk tagel il-pjan ta' kull imagtejn se tirievi l-ewwel kaxxa tiegek f'1-2 imgat, u gall-pjan ta' kull xahar fi mien 3-4 imgat."},faq_q2:{en:"Which areas do you deliver to?",ml:"    ?",hi:"      ?",ta:"    ?",te:"    ?",kn:"   ?",mt:"F'liema oni twasslu?"},faq_a2:{en:"We currently deliver in and around Birkirkara and nearby localities in Malta. Send us a message with your area and we'll confirm.",ml:"       .      ,  .",hi:"       -                  ",ta:"        .      ,  .",te:"        .     ,  .",kn:"       .     ,  .",mt:"Balissa nwasslu f'Birkirkara u madwarha u lokalitajiet fil-qrib f'Malta. Ibgatilna messa bi-ona tiegek u ana nikkonferma."},faq_q3:{en:"Can I change my delivery day after subscribing?",ml:"      ?",hi:"            ?",ta:"       ?",te:"       ?",kn:"      ?",mt:"Nista' nbiddel il-jum tal-kunsinna tiegi wara li nabbona?"},faq_a3:{en:"Yes, you can message us on WhatsApp to request a change. We'll try our best to adjust based on our cooking schedule.",ml:",    WhatsApp-  .        .",hi:",        WhatsApp                     ",ta:",   WhatsApp    .      .",te:",    WhatsApp    .        .",kn:",    WhatsApp    .        .",mt:"Iva, tista' tibgatilna messa fuq WhatsApp biex titlob bidla. Se nippruvaw l-ajar tagna biex naustaw skont l-iskeda tat-tisjir tagna."},faq_q4:{en:"Do you offer Sample Box orders, or only subscriptions?",ml:"    ,   ?",hi:"      ,   ?",ta:"    ,   ?",te:"    ,   ?",kn:"    ,   ?",mt:"Toffru ordnijiet ta' Kaxxa Kampjun, jew biss abbonamenti?"},faq_a4:{en:"Yes, we do offer one-time orders. You can try our Sample Box, where you can choose your own customised snacks. Our main focus is on weekly and bi-weekly subscriptions, but if you need bulk quantities for events or special occasions, feel free to contact us  we'll be happy to help.",ml:",    .     ,      .    ,   ,       ,       .",hi:",               ,                   ,              ,            ",ta:",     .      ,       .        ,        ,          .",te:",    .     ,       .        ,        ,        .",kn:",     .      ,         .        ,        ,        .",mt:"Iva, noffru ordnijiet ta' darba wada. Tista' tipprova l-Kaxxa Kampjun tagna, fejn tista' tagel l-isnacks personalizzati tiegek stess. Il-fokus prinipali tagna huwa fuq abbonamenti ta' kull imga u kull imagtejn, ida jekk gandek bonn kwantitajiet bil-bulk gal avvenimenti jew okkajonijiet spejali, ossok liberu li tikkuntattjana  ana nkunu kuntenti li nginu."},faq_q5:{en:"Can I cancel my subscription anytime?",ml:"      ?",hi:"         ?",ta:"      ?",te:"     ?",kn:"     ?",mt:"Nista' nikkanella l-abbonament tiegi kull meta rrid?"},faq_a5:{en:"Yes! You can cancel your subscription anytime with no charges or fees. Simply reach out via WhatsApp on the same number we contacted you, and we'll remove you from our subscription list. If you'd like to rejoin in the future, you're always welcome back.",ml:"!      ,    .      WhatsApp  ,        .     ,   .",hi:"!                     WhatsApp            ,                   ,     ",ta:"!            .       WhatsApp   ,       .    ,   .",te:"!           .      WhatsApp  ,       .   ,   .",kn:"!          .      WhatsApp  ,       .     ,   .",mt:"Iva! Tista' tikkanella l-abbonament tiegek kull meta trid mingajr lasijiet jew tariffi. Sempliement ikkuntattjana permezz ta' WhatsApp fuq l-istess numru li ana kkuntattjajna, u ana nneuk mil-lista tal-abbonamenti tagna. Jekk tixtieq tera' tingaqad fil-futur, dejjem tkun milqug lura."},faq_float_text:{en:"Still confused? Read FAQ",ml:" ? FAQ ",hi:"   ? FAQ ",ta:" ? FAQ ",te:"  ? FAQ ",kn:" ? FAQ ",mt:"Gadek konfu? Aqra l-FAQ"}},im=({children:o})=>{const[r,n]=ne.useState(()=>{const u=localStorage.getItem("app_language");return u&&["en","ml","hi","ta","te","kn","mt"].includes(u)?u:"en"}),i=u=>{n(u),localStorage.setItem("app_language",u)},l=u=>Do[u]?Do[u][r]||Do[u].en:u;return f.jsx(th.Provider,{value:{language:r,setLanguage:i,t:l},children:o})},Ut=()=>{const o=ne.useContext(th);if(!o)throw new Error("useLanguage must be used within a LanguageProvider");return o},am=({onNavigate:o})=>{const[r,n]=ne.useState(!1),{language:i,setLanguage:l}=Ut(),u=p=>{o(p),n(!1)},d=[{code:"en",label:"English"},{code:"ml",label:""},{code:"hi",label:""},{code:"ta",label:""},{code:"te",label:""},{code:"kn",label:""},{code:"mt",label:"Malti"}];return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"bg-amber-600 text-white text-[10px] md:text-xs font-semibold text-center py-2 px-4 shadow-sm relative z-30",children:" No credit card required! Pay via Cash or Revolut only when you receive your order."}),f.jsxs("header",{className:"sticky top-0 z-20 w-full border-b border-amber-100 bg-white/90 backdrop-blur",children:[f.jsxs("div",{className:"mx-auto flex max-w-5xl items-center justify-between px-4 py-3 md:py-4",children:[f.jsxs("button",{onClick:()=>u("/"),className:"flex items-center gap-2 focus:outline-none",children:[f.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-full bg-gradient-to-br from-amber-500 to-orange-400 text-white text-lg font-bold shadow-sm",children:"HS"}),f.jsxs("div",{className:"flex flex-col items-start leading-tight",children:[f.jsx("span",{className:"text-base font-semibold tracking-tight md:text-lg",children:"Homemade Snacks"}),f.jsx("span",{className:"text-[11px] uppercase tracking-[0.18em] text-amber-700/70 md:text-xs",children:"Fresh  Crispy  Daily"})]})]}),f.jsxs("nav",{className:"hidden items-center gap-6 text-sm font-medium text-slate-700 md:flex",children:[f.jsx("button",{className:"hover:text-amber-600 transition-colors",onClick:()=>u("/"),children:"Home"}),f.jsx("button",{className:"hover:text-amber-600 transition-colors",onClick:()=>u("/plans"),children:"Subscription Plans"}),f.jsx("button",{className:"hover:text-amber-600 transition-colors",onClick:()=>u("/contact"),children:"Contact"}),f.jsxs("div",{className:"relative",children:[f.jsx("select",{value:i,onChange:p=>l(p.target.value),className:"appearance-none cursor-pointer hover:text-amber-600 transition-colors font-semibold text-amber-800 bg-amber-50 pl-3 pr-8 py-1 rounded-full text-xs shadow-sm border border-amber-100 focus:outline-none focus:ring-2 focus:ring-amber-500/50",children:d.map(p=>f.jsx("option",{value:p.code,children:p.label},p.code))}),f.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-amber-800",children:f.jsx("svg",{className:"h-3 w-3 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:f.jsx("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"})})})]})]}),f.jsxs("button",{className:"inline-flex items-center justify-center rounded-md p-2 text-slate-800 md:hidden focus:outline-none focus:ring-2 focus:ring-amber-500/70",onClick:()=>n(p=>!p),"aria-label":"Toggle navigation",children:[f.jsx("span",{className:"sr-only",children:"Open main menu"}),f.jsxs("div",{className:"flex h-5 w-6 flex-col justify-between",children:[f.jsx("span",{className:`h-0.5 w-full rounded-full bg-slate-900 transition-transform ${r?"translate-y-2 rotate-45":""}`}),f.jsx("span",{className:`h-0.5 w-full rounded-full bg-slate-900 transition-opacity ${r?"opacity-0":"opacity-100"}`}),f.jsx("span",{className:`h-0.5 w-full rounded-full bg-slate-900 transition-transform ${r?"-translate-y-2 -rotate-45":""}`})]})]})]}),r&&f.jsx("nav",{className:"border-t border-amber-100 bg-white md:hidden",children:f.jsxs("div",{className:"mx-auto flex max-w-5xl flex-col px-4 py-2 text-sm font-medium text-slate-800",children:[f.jsxs("div",{className:"w-full rounded-md px-2 py-2 flex items-center justify-between hover:bg-amber-50",children:[f.jsx("span",{children:"Language"}),f.jsxs("div",{className:"relative",children:[f.jsx("select",{value:i,onChange:p=>l(p.target.value),className:"appearance-none cursor-pointer font-bold text-amber-600 bg-transparent pr-6 text-right focus:outline-none",children:d.map(p=>f.jsx("option",{value:p.code,children:p.label},p.code))}),f.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center text-amber-600",children:f.jsx("svg",{className:"h-3 w-3 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:f.jsx("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"})})})]})]}),f.jsx("button",{className:"w-full rounded-md px-2 py-2 text-left hover:bg-amber-50",onClick:()=>u("/"),children:"Home"}),f.jsx("button",{className:"w-full rounded-md px-2 py-2 text-left hover:bg-amber-50",onClick:()=>u("/plans"),children:"Subscription Plans"}),f.jsx("button",{className:"w-full rounded-md px-2 py-2 text-left hover:bg-amber-50",onClick:()=>u("/contact"),children:"Contact"})]})})]})]})};var Jo=function(o,r){return Jo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(n[l]=i[l])},Jo(o,r)};function rh(o,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");Jo(o,r);function n(){this.constructor=o}o.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}var Oi=function(){return Oi=Object.assign||function(r){for(var n,i=1,l=arguments.length;i<l;i++){n=arguments[i];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(r[u]=n[u])}return r},Oi.apply(this,arguments)};function mn(o,r){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&r.indexOf(i)<0&&(n[i]=o[i]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(o);l<i.length;l++)r.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(o,i[l])&&(n[i[l]]=o[i[l]]);return n}function nh(o,r,n,i){var l=arguments.length,u=l<3?r:i===null?i=Object.getOwnPropertyDescriptor(r,n):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(o,r,n,i);else for(var p=o.length-1;p>=0;p--)(d=o[p])&&(u=(l<3?d(u):l>3?d(r,n,u):d(r,n))||u);return l>3&&u&&Object.defineProperty(r,n,u),u}function sh(o,r){return function(n,i){r(n,i,o)}}function ih(o,r,n,i,l,u){function d(B){if(B!==void 0&&typeof B!="function")throw new TypeError("Function expected");return B}for(var p=i.kind,m=p==="getter"?"get":p==="setter"?"set":"value",v=!r&&o?i.static?o:o.prototype:null,w=r||(v?Object.getOwnPropertyDescriptor(v,i.name):{}),x,k=!1,S=n.length-1;S>=0;S--){var C={};for(var P in i)C[P]=P==="access"?{}:i[P];for(var P in i.access)C.access[P]=i.access[P];C.addInitializer=function(B){if(k)throw new TypeError("Cannot add initializers after decoration has completed");u.push(d(B||null))};var O=(0,n[S])(p==="accessor"?{get:w.get,set:w.set}:w[m],C);if(p==="accessor"){if(O===void 0)continue;if(O===null||typeof O!="object")throw new TypeError("Object expected");(x=d(O.get))&&(w.get=x),(x=d(O.set))&&(w.set=x),(x=d(O.init))&&l.unshift(x)}else(x=d(O))&&(p==="field"?l.unshift(x):w[m]=x)}v&&Object.defineProperty(v,i.name,w),k=!0}function ah(o,r,n){for(var i=arguments.length>2,l=0;l<r.length;l++)n=i?r[l].call(o,n):r[l].call(o);return i?n:void 0}function oh(o){return typeof o=="symbol"?o:"".concat(o)}function lh(o,r,n){return typeof r=="symbol"&&(r=r.description?"[".concat(r.description,"]"):""),Object.defineProperty(o,"name",{configurable:!0,value:n?"".concat(n," ",r):r})}function uh(o,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(o,r)}function J(o,r,n,i){function l(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function p(w){try{v(i.next(w))}catch(x){d(x)}}function m(w){try{v(i.throw(w))}catch(x){d(x)}}function v(w){w.done?u(w.value):l(w.value).then(p,m)}v((i=i.apply(o,r||[])).next())})}function ch(o,r){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},i,l,u,d=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return d.next=p(0),d.throw=p(1),d.return=p(2),typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function p(v){return function(w){return m([v,w])}}function m(v){if(i)throw new TypeError("Generator is already executing.");for(;d&&(d=0,v[0]&&(n=0)),n;)try{if(i=1,l&&(u=v[0]&2?l.return:v[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,v[1])).done)return u;switch(l=0,u&&(v=[v[0]&2,u.value]),v[0]){case 0:case 1:u=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,l=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!u||v[1]>u[0]&&v[1]<u[3])){n.label=v[1];break}if(v[0]===6&&n.label<u[1]){n.label=u[1],u=v;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(v);break}u[2]&&n.ops.pop(),n.trys.pop();continue}v=r.call(o,n)}catch(w){v=[6,w],l=0}finally{i=u=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}}var Li=Object.create?(function(o,r,n,i){i===void 0&&(i=n);var l=Object.getOwnPropertyDescriptor(r,n);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(o,i,l)}):(function(o,r,n,i){i===void 0&&(i=n),o[i]=r[n]});function dh(o,r){for(var n in o)n!=="default"&&!Object.prototype.hasOwnProperty.call(r,n)&&Li(r,o,n)}function Pi(o){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&o[r],i=0;if(n)return n.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function cl(o,r){var n=typeof Symbol=="function"&&o[Symbol.iterator];if(!n)return o;var i=n.call(o),l,u=[],d;try{for(;(r===void 0||r-- >0)&&!(l=i.next()).done;)u.push(l.value)}catch(p){d={error:p}}finally{try{l&&!l.done&&(n=i.return)&&n.call(i)}finally{if(d)throw d.error}}return u}function hh(){for(var o=[],r=0;r<arguments.length;r++)o=o.concat(cl(arguments[r]));return o}function fh(){for(var o=0,r=0,n=arguments.length;r<n;r++)o+=arguments[r].length;for(var i=Array(o),l=0,r=0;r<n;r++)for(var u=arguments[r],d=0,p=u.length;d<p;d++,l++)i[l]=u[d];return i}function ph(o,r,n){if(n||arguments.length===2)for(var i=0,l=r.length,u;i<l;i++)(u||!(i in r))&&(u||(u=Array.prototype.slice.call(r,0,i)),u[i]=r[i]);return o.concat(u||Array.prototype.slice.call(r))}function pn(o){return this instanceof pn?(this.v=o,this):new pn(o)}function mh(o,r,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(o,r||[]),l,u=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",d),l[Symbol.asyncIterator]=function(){return this},l;function d(S){return function(C){return Promise.resolve(C).then(S,x)}}function p(S,C){i[S]&&(l[S]=function(P){return new Promise(function(O,B){u.push([S,P,O,B])>1||m(S,P)})},C&&(l[S]=C(l[S])))}function m(S,C){try{v(i[S](C))}catch(P){k(u[0][3],P)}}function v(S){S.value instanceof pn?Promise.resolve(S.value.v).then(w,x):k(u[0][2],S)}function w(S){m("next",S)}function x(S){m("throw",S)}function k(S,C){S(C),u.shift(),u.length&&m(u[0][0],u[0][1])}}function gh(o){var r,n;return r={},i("next"),i("throw",function(l){throw l}),i("return"),r[Symbol.iterator]=function(){return this},r;function i(l,u){r[l]=o[l]?function(d){return(n=!n)?{value:pn(o[l](d)),done:!1}:u?u(d):d}:u}}function vh(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=o[Symbol.asyncIterator],n;return r?r.call(o):(o=typeof Pi=="function"?Pi(o):o[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(u){n[u]=o[u]&&function(d){return new Promise(function(p,m){d=o[u](d),l(p,m,d.done,d.value)})}}function l(u,d,p,m){Promise.resolve(m).then(function(v){u({value:v,done:p})},d)}}function yh(o,r){return Object.defineProperty?Object.defineProperty(o,"raw",{value:r}):o.raw=r,o}var om=Object.create?(function(o,r){Object.defineProperty(o,"default",{enumerable:!0,value:r})}):function(o,r){o.default=r},Qo=function(o){return Qo=Object.getOwnPropertyNames||function(r){var n=[];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[n.length]=i);return n},Qo(o)};function wh(o){if(o&&o.__esModule)return o;var r={};if(o!=null)for(var n=Qo(o),i=0;i<n.length;i++)n[i]!=="default"&&Li(r,o,n[i]);return om(r,o),r}function _h(o){return o&&o.__esModule?o:{default:o}}function xh(o,r,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?o!==r||!i:!r.has(o))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(o):i?i.value:r.get(o)}function bh(o,r,n,i,l){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?o!==r||!l:!r.has(o))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?l.call(o,n):l?l.value=n:r.set(o,n),n}function kh(o,r){if(r===null||typeof r!="object"&&typeof r!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof o=="function"?r===o:o.has(r)}function Sh(o,r,n){if(r!=null){if(typeof r!="object"&&typeof r!="function")throw new TypeError("Object expected.");var i,l;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=r[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=r[Symbol.dispose],n&&(l=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");l&&(i=function(){try{l.call(this)}catch(u){return Promise.reject(u)}}),o.stack.push({value:r,dispose:i,async:n})}else n&&o.stack.push({async:!0});return r}var lm=typeof SuppressedError=="function"?SuppressedError:function(o,r,n){var i=new Error(n);return i.name="SuppressedError",i.error=o,i.suppressed=r,i};function jh(o){function r(u){o.error=o.hasError?new lm(u,o.error,"An error was suppressed during disposal."):u,o.hasError=!0}var n,i=0;function l(){for(;n=o.stack.pop();)try{if(!n.async&&i===1)return i=0,o.stack.push(n),Promise.resolve().then(l);if(n.dispose){var u=n.dispose.call(n.value);if(n.async)return i|=2,Promise.resolve(u).then(l,function(d){return r(d),l()})}else i|=1}catch(d){r(d)}if(i===1)return o.hasError?Promise.reject(o.error):Promise.resolve();if(o.hasError)throw o.error}return l()}function Eh(o,r){return typeof o=="string"&&/^\.\.?\//.test(o)?o.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,i,l,u,d){return i?r?".jsx":".js":l&&(!u||!d)?n:l+u+"."+d.toLowerCase()+"js"}):o}const um={__extends:rh,__assign:Oi,__rest:mn,__decorate:nh,__param:sh,__esDecorate:ih,__runInitializers:ah,__propKey:oh,__setFunctionName:lh,__metadata:uh,__awaiter:J,__generator:ch,__createBinding:Li,__exportStar:dh,__values:Pi,__read:cl,__spread:hh,__spreadArrays:fh,__spreadArray:ph,__await:pn,__asyncGenerator:mh,__asyncDelegator:gh,__asyncValues:vh,__makeTemplateObject:yh,__importStar:wh,__importDefault:_h,__classPrivateFieldGet:xh,__classPrivateFieldSet:bh,__classPrivateFieldIn:kh,__addDisposableResource:Sh,__disposeResources:jh,__rewriteRelativeImportExtension:Eh},cm=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Sh,get __assign(){return Oi},__asyncDelegator:gh,__asyncGenerator:mh,__asyncValues:vh,__await:pn,__awaiter:J,__classPrivateFieldGet:xh,__classPrivateFieldIn:kh,__classPrivateFieldSet:bh,__createBinding:Li,__decorate:nh,__disposeResources:jh,__esDecorate:ih,__exportStar:dh,__extends:rh,__generator:ch,__importDefault:_h,__importStar:wh,__makeTemplateObject:yh,__metadata:uh,__param:sh,__propKey:oh,__read:cl,__rest:mn,__rewriteRelativeImportExtension:Eh,__runInitializers:ah,__setFunctionName:lh,__spread:hh,__spreadArray:ph,__spreadArrays:fh,__values:Pi,default:um},Symbol.toStringTag,{value:"Module"})),dm=o=>o?(...r)=>o(...r):(...r)=>fetch(...r);class dl extends Error{constructor(r,n="FunctionsError",i){super(r),this.name=n,this.context=i}}class hm extends dl{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class bd extends dl{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class kd extends dl{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var Yo;(function(o){o.Any="any",o.ApNortheast1="ap-northeast-1",o.ApNortheast2="ap-northeast-2",o.ApSouth1="ap-south-1",o.ApSoutheast1="ap-southeast-1",o.ApSoutheast2="ap-southeast-2",o.CaCentral1="ca-central-1",o.EuCentral1="eu-central-1",o.EuWest1="eu-west-1",o.EuWest2="eu-west-2",o.EuWest3="eu-west-3",o.SaEast1="sa-east-1",o.UsEast1="us-east-1",o.UsWest1="us-west-1",o.UsWest2="us-west-2"})(Yo||(Yo={}));class fm{constructor(r,{headers:n={},customFetch:i,region:l=Yo.Any}={}){this.url=r,this.headers=n,this.region=l,this.fetch=dm(i)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return J(this,arguments,void 0,function*(n,i={}){var l;let u,d;try{const{headers:p,method:m,body:v,signal:w,timeout:x}=i;let k={},{region:S}=i;S||(S=this.region);const C=new URL(`${this.url}/${n}`);S&&S!=="any"&&(k["x-region"]=S,C.searchParams.set("forceFunctionRegion",S));let P;v&&(p&&!Object.prototype.hasOwnProperty.call(p,"Content-Type")||!p)?typeof Blob<"u"&&v instanceof Blob||v instanceof ArrayBuffer?(k["Content-Type"]="application/octet-stream",P=v):typeof v=="string"?(k["Content-Type"]="text/plain",P=v):typeof FormData<"u"&&v instanceof FormData?P=v:(k["Content-Type"]="application/json",P=JSON.stringify(v)):P=v;let O=w;x&&(d=new AbortController,u=setTimeout(()=>d.abort(),x),w?(O=d.signal,w.addEventListener("abort",()=>d.abort())):O=d.signal);const B=yield this.fetch(C.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},k),this.headers),p),body:P,signal:O}).catch(ie=>{throw new hm(ie)}),F=B.headers.get("x-relay-error");if(F&&F==="true")throw new bd(B);if(!B.ok)throw new kd(B);let D=((l=B.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),q;return D==="application/json"?q=yield B.json():D==="application/octet-stream"||D==="application/pdf"?q=yield B.blob():D==="text/event-stream"?q=B:D==="multipart/form-data"?q=yield B.formData():q=yield B.text(),{data:q,error:null,response:B}}catch(p){return{data:null,error:p,response:p instanceof kd||p instanceof bd?p.context:void 0}}finally{u&&clearTimeout(u)}})}}var Xe={};const gn=Kp(cm);var xi={},bi={},ki={},Si={},ji={},Ei={},Sd;function Nh(){if(Sd)return Ei;Sd=1,Object.defineProperty(Ei,"__esModule",{value:!0});class o extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Ei.default=o,Ei}var jd;function Th(){if(jd)return ji;jd=1,Object.defineProperty(ji,"__esModule",{value:!0});const r=gn.__importDefault(Nh());class n{constructor(l){var u,d;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(u=l.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=l.signal,this.isMaybeSingle=(d=l.isMaybeSingle)!==null&&d!==void 0?d:!1,l.fetch?this.fetch=l.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,u){return this.headers=new Headers(this.headers),this.headers.set(l,u),this}then(l,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let p=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var v,w,x,k;let S=null,C=null,P=null,O=m.status,B=m.statusText;if(m.ok){if(this.method!=="HEAD"){const ie=await m.text();ie===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((v=this.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?C=ie:C=JSON.parse(ie))}const D=(w=this.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),q=(x=m.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");D&&q&&q.length>1&&(P=parseInt(q[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(C)&&(C.length>1?(S={code:"PGRST116",details:`Results contain ${C.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},C=null,P=null,O=406,B="Not Acceptable"):C.length===1?C=C[0]:C=null)}else{const D=await m.text();try{S=JSON.parse(D),Array.isArray(S)&&m.status===404&&(C=[],S=null,O=200,B="OK")}catch{m.status===404&&D===""?(O=204,B="No Content"):S={message:D}}if(S&&this.isMaybeSingle&&(!((k=S==null?void 0:S.details)===null||k===void 0)&&k.includes("0 rows"))&&(S=null,O=200,B="OK"),S&&this.shouldThrowOnError)throw new r.default(S)}return{error:S,data:C,count:P,status:O,statusText:B}});return this.shouldThrowOnError||(p=p.catch(m=>{var v,w,x;return{error:{message:`${(v=m==null?void 0:m.name)!==null&&v!==void 0?v:"FetchError"}: ${m==null?void 0:m.message}`,details:`${(w=m==null?void 0:m.stack)!==null&&w!==void 0?w:""}`,hint:"",code:`${(x=m==null?void 0:m.code)!==null&&x!==void 0?x:""}`},data:null,count:null,status:0,statusText:""}})),p.then(l,u)}returns(){return this}overrideTypes(){return this}}return ji.default=n,ji}var Ed;function Ch(){if(Ed)return Si;Ed=1,Object.defineProperty(Si,"__esModule",{value:!0});const r=gn.__importDefault(Th());class n extends r.default{select(l){let u=!1;const d=(l??"*").split("").map(p=>/\s/.test(p)&&!u?"":(p==='"'&&(u=!u),p)).join("");return this.url.searchParams.set("select",d),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:u=!0,nullsFirst:d,foreignTable:p,referencedTable:m=p}={}){const v=m?`${m}.order`:"order",w=this.url.searchParams.get(v);return this.url.searchParams.set(v,`${w?`${w},`:""}${l}.${u?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:u,referencedTable:d=u}={}){const p=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(p,`${l}`),this}range(l,u,{foreignTable:d,referencedTable:p=d}={}){const m=typeof p>"u"?"offset":`${p}.offset`,v=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(m,`${l}`),this.url.searchParams.set(v,`${u-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:u=!1,settings:d=!1,buffers:p=!1,wal:m=!1,format:v="text"}={}){var w;const x=[l?"analyze":null,u?"verbose":null,d?"settings":null,p?"buffers":null,m?"wal":null].filter(Boolean).join("|"),k=(w=this.headers.get("Accept"))!==null&&w!==void 0?w:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${v}; for="${k}"; options=${x};`),v==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}}return Si.default=n,Si}var Nd;function hl(){if(Nd)return ki;Nd=1,Object.defineProperty(ki,"__esModule",{value:!0});const r=gn.__importDefault(Ch()),n=new RegExp("[,()]");class i extends r.default{eq(u,d){return this.url.searchParams.append(u,`eq.${d}`),this}neq(u,d){return this.url.searchParams.append(u,`neq.${d}`),this}gt(u,d){return this.url.searchParams.append(u,`gt.${d}`),this}gte(u,d){return this.url.searchParams.append(u,`gte.${d}`),this}lt(u,d){return this.url.searchParams.append(u,`lt.${d}`),this}lte(u,d){return this.url.searchParams.append(u,`lte.${d}`),this}like(u,d){return this.url.searchParams.append(u,`like.${d}`),this}likeAllOf(u,d){return this.url.searchParams.append(u,`like(all).{${d.join(",")}}`),this}likeAnyOf(u,d){return this.url.searchParams.append(u,`like(any).{${d.join(",")}}`),this}ilike(u,d){return this.url.searchParams.append(u,`ilike.${d}`),this}ilikeAllOf(u,d){return this.url.searchParams.append(u,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(u,d){return this.url.searchParams.append(u,`ilike(any).{${d.join(",")}}`),this}is(u,d){return this.url.searchParams.append(u,`is.${d}`),this}in(u,d){const p=Array.from(new Set(d)).map(m=>typeof m=="string"&&n.test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(u,`in.(${p})`),this}contains(u,d){return typeof d=="string"?this.url.searchParams.append(u,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(u,`cs.{${d.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(d)}`),this}containedBy(u,d){return typeof d=="string"?this.url.searchParams.append(u,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(u,`cd.{${d.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(d)}`),this}rangeGt(u,d){return this.url.searchParams.append(u,`sr.${d}`),this}rangeGte(u,d){return this.url.searchParams.append(u,`nxl.${d}`),this}rangeLt(u,d){return this.url.searchParams.append(u,`sl.${d}`),this}rangeLte(u,d){return this.url.searchParams.append(u,`nxr.${d}`),this}rangeAdjacent(u,d){return this.url.searchParams.append(u,`adj.${d}`),this}overlaps(u,d){return typeof d=="string"?this.url.searchParams.append(u,`ov.${d}`):this.url.searchParams.append(u,`ov.{${d.join(",")}}`),this}textSearch(u,d,{config:p,type:m}={}){let v="";m==="plain"?v="pl":m==="phrase"?v="ph":m==="websearch"&&(v="w");const w=p===void 0?"":`(${p})`;return this.url.searchParams.append(u,`${v}fts${w}.${d}`),this}match(u){return Object.entries(u).forEach(([d,p])=>{this.url.searchParams.append(d,`eq.${p}`)}),this}not(u,d,p){return this.url.searchParams.append(u,`not.${d}.${p}`),this}or(u,{foreignTable:d,referencedTable:p=d}={}){const m=p?`${p}.or`:"or";return this.url.searchParams.append(m,`(${u})`),this}filter(u,d,p){return this.url.searchParams.append(u,`${d}.${p}`),this}}return ki.default=i,ki}var Td;function Oh(){if(Td)return bi;Td=1,Object.defineProperty(bi,"__esModule",{value:!0});const r=gn.__importDefault(hl());class n{constructor(l,{headers:u={},schema:d,fetch:p}){this.url=l,this.headers=new Headers(u),this.schema=d,this.fetch=p}select(l,u){const{head:d=!1,count:p}=u??{},m=d?"HEAD":"GET";let v=!1;const w=(l??"*").split("").map(x=>/\s/.test(x)&&!v?"":(x==='"'&&(v=!v),x)).join("");return this.url.searchParams.set("select",w),p&&this.headers.append("Prefer",`count=${p}`),new r.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(l,{count:u,defaultToNull:d=!0}={}){var p;const m="POST";if(u&&this.headers.append("Prefer",`count=${u}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const v=l.reduce((w,x)=>w.concat(Object.keys(x)),[]);if(v.length>0){const w=[...new Set(v)].map(x=>`"${x}"`);this.url.searchParams.set("columns",w.join(","))}}return new r.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}upsert(l,{onConflict:u,ignoreDuplicates:d=!1,count:p,defaultToNull:m=!0}={}){var v;const w="POST";if(this.headers.append("Prefer",`resolution=${d?"ignore":"merge"}-duplicates`),u!==void 0&&this.url.searchParams.set("on_conflict",u),p&&this.headers.append("Prefer",`count=${p}`),m||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const x=l.reduce((k,S)=>k.concat(Object.keys(S)),[]);if(x.length>0){const k=[...new Set(x)].map(S=>`"${S}"`);this.url.searchParams.set("columns",k.join(","))}}return new r.default({method:w,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}update(l,{count:u}={}){var d;const p="PATCH";return u&&this.headers.append("Prefer",`count=${u}`),new r.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}delete({count:l}={}){var u;const d="DELETE";return l&&this.headers.append("Prefer",`count=${l}`),new r.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return bi.default=n,bi}var Cd;function pm(){if(Cd)return xi;Cd=1,Object.defineProperty(xi,"__esModule",{value:!0});const o=gn,r=o.__importDefault(Oh()),n=o.__importDefault(hl());class i{constructor(u,{headers:d={},schema:p,fetch:m}={}){this.url=u,this.headers=new Headers(d),this.schemaName=p,this.fetch=m}from(u){const d=new URL(`${this.url}/${u}`);return new r.default(d,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new i(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,d={},{head:p=!1,get:m=!1,count:v}={}){var w;let x;const k=new URL(`${this.url}/rpc/${u}`);let S;p||m?(x=p?"HEAD":"GET",Object.entries(d).filter(([P,O])=>O!==void 0).map(([P,O])=>[P,Array.isArray(O)?`{${O.join(",")}}`:`${O}`]).forEach(([P,O])=>{k.searchParams.append(P,O)})):(x="POST",S=d);const C=new Headers(this.headers);return v&&C.set("Prefer",`count=${v}`),new n.default({method:x,url:k,headers:C,schema:this.schemaName,body:S,fetch:(w=this.fetch)!==null&&w!==void 0?w:fetch})}}return xi.default=i,xi}var Od;function mm(){if(Od)return Xe;Od=1,Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.PostgrestError=Xe.PostgrestBuilder=Xe.PostgrestTransformBuilder=Xe.PostgrestFilterBuilder=Xe.PostgrestQueryBuilder=Xe.PostgrestClient=void 0;const o=gn,r=o.__importDefault(pm());Xe.PostgrestClient=r.default;const n=o.__importDefault(Oh());Xe.PostgrestQueryBuilder=n.default;const i=o.__importDefault(hl());Xe.PostgrestFilterBuilder=i.default;const l=o.__importDefault(Ch());Xe.PostgrestTransformBuilder=l.default;const u=o.__importDefault(Th());Xe.PostgrestBuilder=u.default;const d=o.__importDefault(Nh());return Xe.PostgrestError=d.default,Xe.default={PostgrestClient:r.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:u.default,PostgrestError:d.default},Xe}var Ph=mm();const Rh=ll(Ph),gm=Hp({__proto__:null,default:Rh},[Ph]),{PostgrestClient:vm,PostgrestQueryBuilder:Zv,PostgrestFilterBuilder:e0,PostgrestTransformBuilder:t0,PostgrestBuilder:r0,PostgrestError:n0}=Rh||gm;class ym{static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const i=n.node,l=parseInt(i.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let n=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(n+=`

Suggested solution: ${r.workaround}`),new Error(n)}static createWebSocket(r,n){const i=this.getWebSocketConstructor();return new i(r,n)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const wm="2.81.1",_m=`realtime-js/${wm}`,Ah="1.0.0",xm="2.0.0",Pd=Ah,Xo=1e4,bm=1e3,km=100;var Or;(function(o){o[o.connecting=0]="connecting",o[o.open=1]="open",o[o.closing=2]="closing",o[o.closed=3]="closed"})(Or||(Or={}));var Be;(function(o){o.closed="closed",o.errored="errored",o.joined="joined",o.joining="joining",o.leaving="leaving"})(Be||(Be={}));var _t;(function(o){o.close="phx_close",o.error="phx_error",o.join="phx_join",o.reply="phx_reply",o.leave="phx_leave",o.access_token="access_token"})(_t||(_t={}));var Zo;(function(o){o.websocket="websocket"})(Zo||(Zo={}));var Pr;(function(o){o.Connecting="connecting",o.Open="open",o.Closing="closing",o.Closed="closed"})(Pr||(Pr={}));class Sm{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(r,n){if(this._isArrayBuffer(r.payload))return n(this._binaryEncodePush(r));if(r.event===this.BROADCAST&&!(r.payload instanceof ArrayBuffer)&&typeof r.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(r));let i=[r.join_ref,r.ref,r.topic,r.event,r.payload];return n(JSON.stringify(i))}_binaryEncodePush(r){const{join_ref:n,ref:i,event:l,topic:u,payload:d}=r,p=this.META_LENGTH+n.length+i.length+u.length+l.length,m=new ArrayBuffer(this.HEADER_LENGTH+p);let v=new DataView(m),w=0;v.setUint8(w++,this.KINDS.push),v.setUint8(w++,n.length),v.setUint8(w++,i.length),v.setUint8(w++,u.length),v.setUint8(w++,l.length),Array.from(n,k=>v.setUint8(w++,k.charCodeAt(0))),Array.from(i,k=>v.setUint8(w++,k.charCodeAt(0))),Array.from(u,k=>v.setUint8(w++,k.charCodeAt(0))),Array.from(l,k=>v.setUint8(w++,k.charCodeAt(0)));var x=new Uint8Array(m.byteLength+d.byteLength);return x.set(new Uint8Array(m),0),x.set(new Uint8Array(d),m.byteLength),x.buffer}_binaryEncodeUserBroadcastPush(r){var n;return this._isArrayBuffer((n=r.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(r):this._encodeJsonUserBroadcastPush(r)}_encodeBinaryUserBroadcastPush(r){var n,i;const{join_ref:l,ref:u,topic:d}=r,p=r.payload.event,m=(i=(n=r.payload)===null||n===void 0?void 0:n.payload)!==null&&i!==void 0?i:new ArrayBuffer(0),v=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+u.length+d.length+p.length,w=new ArrayBuffer(this.HEADER_LENGTH+v);let x=new DataView(w),k=0;x.setUint8(k++,this.KINDS.userBroadcastPush),x.setUint8(k++,l.length),x.setUint8(k++,u.length),x.setUint8(k++,d.length),x.setUint8(k++,p.length),x.setUint8(k++,this.BINARY_ENCODING),Array.from(l,C=>x.setUint8(k++,C.charCodeAt(0))),Array.from(u,C=>x.setUint8(k++,C.charCodeAt(0))),Array.from(d,C=>x.setUint8(k++,C.charCodeAt(0))),Array.from(p,C=>x.setUint8(k++,C.charCodeAt(0)));var S=new Uint8Array(w.byteLength+m.byteLength);return S.set(new Uint8Array(w),0),S.set(new Uint8Array(m),w.byteLength),S.buffer}_encodeJsonUserBroadcastPush(r){var n,i;const{join_ref:l,ref:u,topic:d}=r,p=r.payload.event,m=(i=(n=r.payload)===null||n===void 0?void 0:n.payload)!==null&&i!==void 0?i:{},w=new TextEncoder().encode(JSON.stringify(m)).buffer,x=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+u.length+d.length+p.length,k=new ArrayBuffer(this.HEADER_LENGTH+x);let S=new DataView(k),C=0;S.setUint8(C++,this.KINDS.userBroadcastPush),S.setUint8(C++,l.length),S.setUint8(C++,u.length),S.setUint8(C++,d.length),S.setUint8(C++,p.length),S.setUint8(C++,this.JSON_ENCODING),Array.from(l,O=>S.setUint8(C++,O.charCodeAt(0))),Array.from(u,O=>S.setUint8(C++,O.charCodeAt(0))),Array.from(d,O=>S.setUint8(C++,O.charCodeAt(0))),Array.from(p,O=>S.setUint8(C++,O.charCodeAt(0)));var P=new Uint8Array(k.byteLength+w.byteLength);return P.set(new Uint8Array(k),0),P.set(new Uint8Array(w),k.byteLength),P.buffer}decode(r,n){if(this._isArrayBuffer(r)){let i=this._binaryDecode(r);return n(i)}if(typeof r=="string"){const i=JSON.parse(r),[l,u,d,p,m]=i;return n({join_ref:l,ref:u,topic:d,event:p,payload:m})}return n({})}_binaryDecode(r){const n=new DataView(r),i=n.getUint8(0),l=new TextDecoder;switch(i){case this.KINDS.push:return this._decodePush(r,n,l);case this.KINDS.reply:return this._decodeReply(r,n,l);case this.KINDS.broadcast:return this._decodeBroadcast(r,n,l);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(r,n,l)}}_decodePush(r,n,i){const l=n.getUint8(1),u=n.getUint8(2),d=n.getUint8(3);let p=this.HEADER_LENGTH+this.META_LENGTH-1;const m=i.decode(r.slice(p,p+l));p=p+l;const v=i.decode(r.slice(p,p+u));p=p+u;const w=i.decode(r.slice(p,p+d));p=p+d;const x=JSON.parse(i.decode(r.slice(p,r.byteLength)));return{join_ref:m,ref:null,topic:v,event:w,payload:x}}_decodeReply(r,n,i){const l=n.getUint8(1),u=n.getUint8(2),d=n.getUint8(3),p=n.getUint8(4);let m=this.HEADER_LENGTH+this.META_LENGTH;const v=i.decode(r.slice(m,m+l));m=m+l;const w=i.decode(r.slice(m,m+u));m=m+u;const x=i.decode(r.slice(m,m+d));m=m+d;const k=i.decode(r.slice(m,m+p));m=m+p;const S=JSON.parse(i.decode(r.slice(m,r.byteLength))),C={status:k,response:S};return{join_ref:v,ref:w,topic:x,event:_t.reply,payload:C}}_decodeBroadcast(r,n,i){const l=n.getUint8(1),u=n.getUint8(2);let d=this.HEADER_LENGTH+2;const p=i.decode(r.slice(d,d+l));d=d+l;const m=i.decode(r.slice(d,d+u));d=d+u;const v=JSON.parse(i.decode(r.slice(d,r.byteLength)));return{join_ref:null,ref:null,topic:p,event:m,payload:v}}_decodeUserBroadcast(r,n,i){const l=n.getUint8(1),u=n.getUint8(2),d=n.getUint8(3),p=n.getUint8(4);let m=this.HEADER_LENGTH+4;const v=i.decode(r.slice(m,m+l));m=m+l;const w=i.decode(r.slice(m,m+u));m=m+u;const x=i.decode(r.slice(m,m+d));m=m+d;const k=r.slice(m,r.byteLength),S=p===this.JSON_ENCODING?JSON.parse(i.decode(k)):k,C={type:this.BROADCAST,event:w,payload:S};return d>0&&(C.meta=JSON.parse(x)),{join_ref:null,ref:null,topic:v,event:this.BROADCAST,payload:C}}_isArrayBuffer(r){var n;return r instanceof ArrayBuffer||((n=r==null?void 0:r.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}}class Ih{constructor(r,n){this.callback=r,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var xe;(function(o){o.abstime="abstime",o.bool="bool",o.date="date",o.daterange="daterange",o.float4="float4",o.float8="float8",o.int2="int2",o.int4="int4",o.int4range="int4range",o.int8="int8",o.int8range="int8range",o.json="json",o.jsonb="jsonb",o.money="money",o.numeric="numeric",o.oid="oid",o.reltime="reltime",o.text="text",o.time="time",o.timestamp="timestamp",o.timestamptz="timestamptz",o.timetz="timetz",o.tsrange="tsrange",o.tstzrange="tstzrange"})(xe||(xe={}));const Rd=(o,r,n={})=>{var i;const l=(i=n.skipTypes)!==null&&i!==void 0?i:[];return r?Object.keys(r).reduce((u,d)=>(u[d]=jm(d,o,r,l),u),{}):{}},jm=(o,r,n,i)=>{const l=r.find(p=>p.name===o),u=l==null?void 0:l.type,d=n[o];return u&&!i.includes(u)?Lh(u,d):el(d)},Lh=(o,r)=>{if(o.charAt(0)==="_"){const n=o.slice(1,o.length);return Cm(r,n)}switch(o){case xe.bool:return Em(r);case xe.float4:case xe.float8:case xe.int2:case xe.int4:case xe.int8:case xe.numeric:case xe.oid:return Nm(r);case xe.json:case xe.jsonb:return Tm(r);case xe.timestamp:return Om(r);case xe.abstime:case xe.date:case xe.daterange:case xe.int4range:case xe.int8range:case xe.money:case xe.reltime:case xe.text:case xe.time:case xe.timestamptz:case xe.timetz:case xe.tsrange:case xe.tstzrange:return el(r);default:return el(r)}},el=o=>o,Em=o=>{switch(o){case"t":return!0;case"f":return!1;default:return o}},Nm=o=>{if(typeof o=="string"){const r=parseFloat(o);if(!Number.isNaN(r))return r}return o},Tm=o=>{if(typeof o=="string")try{return JSON.parse(o)}catch(r){return console.log(`JSON parse error: ${r}`),o}return o},Cm=(o,r)=>{if(typeof o!="string")return o;const n=o.length-1,i=o[n];if(o[0]==="{"&&i==="}"){let u;const d=o.slice(1,n);try{u=JSON.parse("["+d+"]")}catch{u=d?d.split(","):[]}return u.map(p=>Lh(r,p))}return o},Om=o=>typeof o=="string"?o.replace(" ","T"):o,Uh=o=>{const r=new URL(o);return r.protocol=r.protocol.replace(/^ws/i,"http"),r.pathname=r.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),r.pathname===""||r.pathname==="/"?r.pathname="/api/broadcast":r.pathname=r.pathname+"/api/broadcast",r.href};class $o{constructor(r,n,i={},l=Xo){this.channel=r,this.event=n,this.payload=i,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,n){var i;return this._hasReceived(r)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:r,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:n}){this.recHooks.filter(i=>i.status===r).forEach(i=>i.callback(n))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var Ad;(function(o){o.SYNC="sync",o.JOIN="join",o.LEAVE="leave"})(Ad||(Ad={}));class ss{constructor(r,n){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},l=>{const{onJoin:u,onLeave:d,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ss.syncState(this.state,l,u,d),this.pendingDiffs.forEach(m=>{this.state=ss.syncDiff(this.state,m,u,d)}),this.pendingDiffs=[],p()}),this.channel._on(i.diff,{},l=>{const{onJoin:u,onLeave:d,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=ss.syncDiff(this.state,l,u,d),p())}),this.onJoin((l,u,d)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:u,newPresences:d})}),this.onLeave((l,u,d)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:u,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,n,i,l){const u=this.cloneDeep(r),d=this.transformState(n),p={},m={};return this.map(u,(v,w)=>{d[v]||(m[v]=w)}),this.map(d,(v,w)=>{const x=u[v];if(x){const k=w.map(O=>O.presence_ref),S=x.map(O=>O.presence_ref),C=w.filter(O=>S.indexOf(O.presence_ref)<0),P=x.filter(O=>k.indexOf(O.presence_ref)<0);C.length>0&&(p[v]=C),P.length>0&&(m[v]=P)}else p[v]=w}),this.syncDiff(u,{joins:p,leaves:m},i,l)}static syncDiff(r,n,i,l){const{joins:u,leaves:d}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),l||(l=()=>{}),this.map(u,(p,m)=>{var v;const w=(v=r[p])!==null&&v!==void 0?v:[];if(r[p]=this.cloneDeep(m),w.length>0){const x=r[p].map(S=>S.presence_ref),k=w.filter(S=>x.indexOf(S.presence_ref)<0);r[p].unshift(...k)}i(p,w,m)}),this.map(d,(p,m)=>{let v=r[p];if(!v)return;const w=m.map(x=>x.presence_ref);v=v.filter(x=>w.indexOf(x.presence_ref)<0),r[p]=v,l(p,v,m),v.length===0&&delete r[p]}),r}static map(r,n){return Object.getOwnPropertyNames(r).map(i=>n(i,r[i]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((n,i)=>{const l=r[i];return"metas"in l?n[i]=l.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):n[i]=l,n},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Id;(function(o){o.ALL="*",o.INSERT="INSERT",o.UPDATE="UPDATE",o.DELETE="DELETE"})(Id||(Id={}));var is;(function(o){o.BROADCAST="broadcast",o.PRESENCE="presence",o.POSTGRES_CHANGES="postgres_changes",o.SYSTEM="system"})(is||(is={}));var Vt;(function(o){o.SUBSCRIBED="SUBSCRIBED",o.TIMED_OUT="TIMED_OUT",o.CLOSED="CLOSED",o.CHANNEL_ERROR="CHANNEL_ERROR"})(Vt||(Vt={}));class fl{constructor(r,n={config:{}},i){var l,u;if(this.topic=r,this.params=n,this.socket=i,this.bindings={},this.state=Be.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new $o(this,_t.join,this.params,this.timeout),this.rejoinTimer=new Ih(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Be.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Be.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Be.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Be.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Be.errored,this.rejoinTimer.scheduleTimeout())}),this._on(_t.reply,{},(d,p)=>{this._trigger(this._replyEventName(p),d)}),this.presence=new ss(this),this.broadcastEndpointURL=Uh(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,n=this.timeout){var i,l,u;if(this.socket.isConnected()||this.socket.connect(),this.state==Be.closed){const{config:{broadcast:d,presence:p,private:m}}=this.params,v=(l=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(S=>S.filter))!==null&&l!==void 0?l:[],w=!!this.bindings[is.PRESENCE]&&this.bindings[is.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,x={},k={broadcast:d,presence:Object.assign(Object.assign({},p),{enabled:w}),postgres_changes:v,private:m};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(S=>r==null?void 0:r(Vt.CHANNEL_ERROR,S)),this._onClose(()=>r==null?void 0:r(Vt.CLOSED)),this.updateJoinPayload(Object.assign({config:k},x)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:S})=>{var C;if(this.socket.setAuth(),S===void 0){r==null||r(Vt.SUBSCRIBED);return}else{const P=this.bindings.postgres_changes,O=(C=P==null?void 0:P.length)!==null&&C!==void 0?C:0,B=[];for(let F=0;F<O;F++){const D=P[F],{filter:{event:q,schema:ie,table:re,filter:le}}=D,Ee=S&&S[F];if(Ee&&Ee.event===q&&Ee.schema===ie&&Ee.table===re&&Ee.filter===le)B.push(Object.assign(Object.assign({},D),{id:Ee.id}));else{this.unsubscribe(),this.state=Be.errored,r==null||r(Vt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=B,r&&r(Vt.SUBSCRIBED);return}}).receive("error",S=>{this.state=Be.errored,r==null||r(Vt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{r==null||r(Vt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,n={}){return await this.send({type:"presence",event:"track",payload:r},n.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,n,i){return this.state===Be.joined&&r===is.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(r,n,i)}async httpSend(r,n,i={}){var l;const u=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const d={method:"POST",headers:{Authorization:u,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:n,private:this.private}]})},p=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(l=i.timeout)!==null&&l!==void 0?l:this.timeout);if(p.status===202)return{success:!0};let m=p.statusText;try{const v=await p.json();m=v.error||v.message||m}catch{}return Promise.reject(new Error(m))}async send(r,n={}){var i,l;if(!this._canPush()&&r.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:d}=r,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:d,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((l=v.body)===null||l===void 0?void 0:l.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var d,p,m;const v=this._push(r.type,r,n.timeout||this.timeout);r.type==="broadcast"&&!(!((m=(p=(d=this.params)===null||d===void 0?void 0:d.config)===null||p===void 0?void 0:p.broadcast)===null||m===void 0)&&m.ack)&&u("ok"),v.receive("ok",()=>u("ok")),v.receive("error",()=>u("error")),v.receive("timeout",()=>u("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=Be.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(_t.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(l=>{i=new $o(this,_t.leave,{},r),i.receive("ok",()=>{n(),l("ok")}).receive("timeout",()=>{n(),l("timed out")}).receive("error",()=>{l("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Be.closed,this.bindings={}}async _fetchWithTimeout(r,n,i){const l=new AbortController,u=setTimeout(()=>l.abort(),i),d=await this.socket.fetch(r,Object.assign(Object.assign({},n),{signal:l.signal}));return clearTimeout(u),d}_push(r,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new $o(this,r,n,i);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>km){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(r,n,i){return n}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,n,i){var l,u;const d=r.toLocaleLowerCase(),{close:p,error:m,leave:v,join:w}=_t;if(i&&[p,m,v,w].indexOf(d)>=0&&i!==this._joinRef())return;let k=this._onMessage(d,n,i);if(n&&!k)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(S=>{var C,P,O;return((C=S.filter)===null||C===void 0?void 0:C.event)==="*"||((O=(P=S.filter)===null||P===void 0?void 0:P.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===d}).map(S=>S.callback(k,i)):(u=this.bindings[d])===null||u===void 0||u.filter(S=>{var C,P,O,B,F,D;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in S){const q=S.id,ie=(C=S.filter)===null||C===void 0?void 0:C.event;return q&&((P=n.ids)===null||P===void 0?void 0:P.includes(q))&&(ie==="*"||(ie==null?void 0:ie.toLocaleLowerCase())===((O=n.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))}else{const q=(F=(B=S==null?void 0:S.filter)===null||B===void 0?void 0:B.event)===null||F===void 0?void 0:F.toLocaleLowerCase();return q==="*"||q===((D=n==null?void 0:n.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===d}).map(S=>{if(typeof k=="object"&&"ids"in k){const C=k.data,{schema:P,table:O,commit_timestamp:B,type:F,errors:D}=C;k=Object.assign(Object.assign({},{schema:P,table:O,commit_timestamp:B,eventType:F,new:{},old:{},errors:D}),this._getPayloadRecords(C))}S.callback(k,i)})}_isClosed(){return this.state===Be.closed}_isJoined(){return this.state===Be.joined}_isJoining(){return this.state===Be.joining}_isLeaving(){return this.state===Be.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,n,i){const l=r.toLocaleLowerCase(),u={type:l,filter:n,callback:i};return this.bindings[l]?this.bindings[l].push(u):this.bindings[l]=[u],this}_off(r,n){const i=r.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(l=>{var u;return!(((u=l.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===i&&fl.isEqual(l.filter,n))})),this}static isEqual(r,n){if(Object.keys(r).length!==Object.keys(n).length)return!1;for(const i in r)if(r[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(_t.close,{},r)}_onError(r){this._on(_t.error,{},n=>r(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Be.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const n={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(n.new=Rd(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(n.old=Rd(r.columns,r.old_record)),n}}const zo=()=>{},Ni={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Pm=[1e3,2e3,5e3,1e4],Rm=1e4,Am=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Im{constructor(r,n){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Xo,this.transport=null,this.heartbeatIntervalMs=Ni.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=zo,this.ref=0,this.reconnectTimer=null,this.vsn=Pd,this.logger=zo,this.conn=null,this.sendBuffer=[],this.serializer=new Sm,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>l?(...u)=>l(...u):(...u)=>fetch(...u),!(!((i=n==null?void 0:n.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${r}/${Zo.websocket}`,this.httpEndpoint=Uh(r),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ym.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const n=r.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(r,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(r?this.conn.close(r,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const n=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const r=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,n,i){this.logger(r,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Or.connecting:return Pr.Connecting;case Or.open:return Pr.Open;case Or.closing:return Pr.Closing;default:return Pr.Closed}}isConnected(){return this.connectionState()===Pr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,n={config:{}}){const i=`realtime:${r}`,l=this.getChannels().find(u=>u.topic===i);if(l)return l;{const u=new fl(`realtime:${r}`,n,this);return this.channels.push(u),u}}push(r){const{topic:n,event:i,payload:l,ref:u}=r,d=()=>{this.encode(r,p=>{var m;(m=this.conn)===null||m===void 0||m.send(p)})};this.log("push",`${n} ${i} (${u})`,l),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(bm,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ni.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let n=this.channels.find(i=>i.topic===r&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${r}"`),n.unsubscribe())}_remove(r){this.channels=this.channels.filter(n=>n.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(v){this.log("error","error in heartbeat callback",v)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:l,payload:u,ref:d}=n,p=d?`(${d})`:"",m=u.status||"";this.log("receive",`${m} ${i} ${l} ${p}`.trim(),u),this.channels.filter(v=>v._isMember(i)).forEach(v=>v._trigger(l,u,d)),this._triggerStateCallbacks("message",n)})}_clearTimer(r){var n;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Or.open||this.conn.readyState===Or.connecting)try{this.conn.close()}catch(r){this.log("error","Error closing connection",r)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){var n;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(_t.error))}_appendParams(r,n){if(Object.keys(n).length===0)return r;const i=r.match(/\?/)?"&":"?",l=new URLSearchParams(n);return`${r}${i}${l}`}_workerObjectUrl(r){let n;if(r)n=r;else{const i=new Blob([Am],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}_setConnectionState(r,n=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(r=null){let n;r?n=r:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const l={access_token:n,version:_m};n&&i.updateJoinPayload(l),i.joinedOnce&&i._isJoined()&&i._push(_t.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${r}`,n)})}_triggerStateCallbacks(r,n){try{this.stateChangeCallbacks[r].forEach(i=>{try{i(n)}catch(l){this.log("error",`error in ${r} callback`,l)}})}catch(i){this.log("error",`error triggering ${r} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Ih(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ni.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var n,i,l,u,d,p,m,v,w,x,k,S;switch(this.transport=(n=r==null?void 0:r.transport)!==null&&n!==void 0?n:null,this.timeout=(i=r==null?void 0:r.timeout)!==null&&i!==void 0?i:Xo,this.heartbeatIntervalMs=(l=r==null?void 0:r.heartbeatIntervalMs)!==null&&l!==void 0?l:Ni.HEARTBEAT_INTERVAL,this.worker=(u=r==null?void 0:r.worker)!==null&&u!==void 0?u:!1,this.accessToken=(d=r==null?void 0:r.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(p=r==null?void 0:r.heartbeatCallback)!==null&&p!==void 0?p:zo,this.vsn=(m=r==null?void 0:r.vsn)!==null&&m!==void 0?m:Pd,r!=null&&r.params&&(this.params=r.params),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(v=r==null?void 0:r.reconnectAfterMs)!==null&&v!==void 0?v:(C=>Pm[C-1]||Rm),this.vsn){case Ah:this.encode=(w=r==null?void 0:r.encode)!==null&&w!==void 0?w:((C,P)=>P(JSON.stringify(C))),this.decode=(x=r==null?void 0:r.decode)!==null&&x!==void 0?x:((C,P)=>P(JSON.parse(C)));break;case xm:this.encode=(k=r==null?void 0:r.encode)!==null&&k!==void 0?k:this.serializer.encode.bind(this.serializer),this.decode=(S=r==null?void 0:r.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r==null?void 0:r.workerUrl}}}class pl extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function Pe(o){return typeof o=="object"&&o!==null&&"__isStorageError"in o}class Lm extends pl{constructor(r,n,i){super(r),this.name="StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class tl extends pl{constructor(r,n){super(r),this.name="StorageUnknownError",this.originalError=n}}const ml=o=>o?(...r)=>o(...r):(...r)=>fetch(...r),Um=()=>Response,rl=o=>{if(Array.isArray(o))return o.map(n=>rl(n));if(typeof o=="function"||o!==Object(o))return o;const r={};return Object.entries(o).forEach(([n,i])=>{const l=n.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));r[l]=rl(i)}),r},Dm=o=>{if(typeof o!="object"||o===null)return!1;const r=Object.getPrototypeOf(o);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in o)&&!(Symbol.iterator in o)},Bo=o=>{var r;return o.msg||o.message||o.error_description||(typeof o.error=="string"?o.error:(r=o.error)===null||r===void 0?void 0:r.message)||JSON.stringify(o)},$m=(o,r,n)=>J(void 0,void 0,void 0,function*(){const i=yield Um();o instanceof i&&!(n!=null&&n.noResolveJson)?o.json().then(l=>{const u=o.status||500,d=(l==null?void 0:l.statusCode)||u+"";r(new Lm(Bo(l),u,d))}).catch(l=>{r(new tl(Bo(l),l))}):r(new tl(Bo(o),o))}),zm=(o,r,n,i)=>{const l={method:o,headers:(r==null?void 0:r.headers)||{}};return o==="GET"||!i?l:(Dm(i)?(l.headers=Object.assign({"Content-Type":"application/json"},r==null?void 0:r.headers),l.body=JSON.stringify(i)):l.body=i,r!=null&&r.duplex&&(l.duplex=r.duplex),Object.assign(Object.assign({},l),n))};function us(o,r,n,i,l,u){return J(this,void 0,void 0,function*(){return new Promise((d,p)=>{o(n,zm(r,i,l,u)).then(m=>{if(!m.ok)throw m;return i!=null&&i.noResolveJson?m:m.json()}).then(m=>d(m)).catch(m=>$m(m,p,i))})})}function as(o,r,n,i){return J(this,void 0,void 0,function*(){return us(o,"GET",r,n,i)})}function Ot(o,r,n,i,l){return J(this,void 0,void 0,function*(){return us(o,"POST",r,i,l,n)})}function nl(o,r,n,i,l){return J(this,void 0,void 0,function*(){return us(o,"PUT",r,i,l,n)})}function Bm(o,r,n,i){return J(this,void 0,void 0,function*(){return us(o,"HEAD",r,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function gl(o,r,n,i,l){return J(this,void 0,void 0,function*(){return us(o,"DELETE",r,i,l,n)})}class Mm{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n}then(r,n){return this.execute().then(r,n)}execute(){return J(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}}var Dh;class Fm{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n,this[Dh]="BlobDownloadBuilder",this.promise=null}asStream(){return new Mm(this.downloadFn,this.shouldThrowOnError)}then(r,n){return this.getPromise().then(r,n)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return J(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}}Dh=Symbol.toStringTag;const Wm={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ld={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class qm{constructor(r,n={},i,l){this.shouldThrowOnError=!1,this.url=r,this.headers=n,this.bucketId=i,this.fetch=ml(l)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(r,n,i,l){return J(this,void 0,void 0,function*(){try{let u;const d=Object.assign(Object.assign({},Ld),l);let p=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(d.upsert)});const m=d.metadata;typeof Blob<"u"&&i instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),m&&u.append("metadata",this.encodeMetadata(m)),u.append("",i)):typeof FormData<"u"&&i instanceof FormData?(u=i,u.has("cacheControl")||u.append("cacheControl",d.cacheControl),m&&!u.has("metadata")&&u.append("metadata",this.encodeMetadata(m))):(u=i,p["cache-control"]=`max-age=${d.cacheControl}`,p["content-type"]=d.contentType,m&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(m))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!d.duplex&&(d.duplex="half")),l!=null&&l.headers&&(p=Object.assign(Object.assign({},p),l.headers));const v=this._removeEmptyFolders(n),w=this._getFinalPath(v),x=yield(r=="PUT"?nl:Ot)(this.fetch,`${this.url}/object/${w}`,u,Object.assign({headers:p},d!=null&&d.duplex?{duplex:d.duplex}:{}));return{data:{path:v,id:x.Id,fullPath:x.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Pe(u))return{data:null,error:u};throw u}})}upload(r,n,i){return J(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,n,i)})}uploadToSignedUrl(r,n,i,l){return J(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),p=new URL(this.url+`/object/upload/sign/${d}`);p.searchParams.set("token",n);try{let m;const v=Object.assign({upsert:Ld.upsert},l),w=Object.assign(Object.assign({},this.headers),{"x-upsert":String(v.upsert)});typeof Blob<"u"&&i instanceof Blob?(m=new FormData,m.append("cacheControl",v.cacheControl),m.append("",i)):typeof FormData<"u"&&i instanceof FormData?(m=i,m.append("cacheControl",v.cacheControl)):(m=i,w["cache-control"]=`max-age=${v.cacheControl}`,w["content-type"]=v.contentType);const x=yield nl(this.fetch,p.toString(),m,{headers:w});return{data:{path:u,fullPath:x.Key},error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(Pe(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(r,n){return J(this,void 0,void 0,function*(){try{let i=this._getFinalPath(r);const l=Object.assign({},this.headers);n!=null&&n.upsert&&(l["x-upsert"]="true");const u=yield Ot(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:l}),d=new URL(this.url+u.url),p=d.searchParams.get("token");if(!p)throw new pl("No token returned by API");return{data:{signedUrl:d.toString(),path:r,token:p},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pe(i))return{data:null,error:i};throw i}})}update(r,n,i){return J(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,n,i)})}move(r,n,i){return J(this,void 0,void 0,function*(){try{return{data:yield Ot(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Pe(l))return{data:null,error:l};throw l}})}copy(r,n,i){return J(this,void 0,void 0,function*(){try{return{data:{path:(yield Ot(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Pe(l))return{data:null,error:l};throw l}})}createSignedUrl(r,n,i){return J(this,void 0,void 0,function*(){try{let l=this._getFinalPath(r),u=yield Ot(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:n},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const d=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${d}`)},{data:u,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Pe(l))return{data:null,error:l};throw l}})}createSignedUrls(r,n,i){return J(this,void 0,void 0,function*(){try{const l=yield Ot(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:r},{headers:this.headers}),u=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:l.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${u}`):null})),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Pe(l))return{data:null,error:l};throw l}})}download(r,n){const l=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),d=u?`?${u}`:"",p=this._getFinalPath(r),m=()=>as(this.fetch,`${this.url}/${l}/${p}${d}`,{headers:this.headers,noResolveJson:!0});return new Fm(m,this.shouldThrowOnError)}info(r){return J(this,void 0,void 0,function*(){const n=this._getFinalPath(r);try{const i=yield as(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:rl(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pe(i))return{data:null,error:i};throw i}})}exists(r){return J(this,void 0,void 0,function*(){const n=this._getFinalPath(r);try{return yield Bm(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pe(i)&&i instanceof tl){const l=i.originalError;if([400,404].includes(l==null?void 0:l.status))return{data:!1,error:i}}throw i}})}getPublicUrl(r,n){const i=this._getFinalPath(r),l=[],u=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";u!==""&&l.push(u);const p=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",m=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});m!==""&&l.push(m);let v=l.join("&");return v!==""&&(v=`?${v}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${i}${v}`)}}}remove(r){return J(this,void 0,void 0,function*(){try{return{data:yield gl(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}list(r,n,i){return J(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},Wm),n),{prefix:r||""});return{data:yield Ot(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},i),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Pe(l))return{data:null,error:l};throw l}})}listV2(r,n){return J(this,void 0,void 0,function*(){try{const i=Object.assign({},r);return{data:yield Ot(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pe(i))return{data:null,error:i};throw i}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const n=[];return r.width&&n.push(`width=${r.width}`),r.height&&n.push(`height=${r.height}`),r.resize&&n.push(`resize=${r.resize}`),r.format&&n.push(`format=${r.format}`),r.quality&&n.push(`quality=${r.quality}`),n.join("&")}}const $h="2.81.1",zh={"X-Client-Info":`storage-js/${$h}`};class Vm{constructor(r,n={},i,l){this.shouldThrowOnError=!1;const u=new URL(r);l!=null&&l.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zh),n),this.fetch=ml(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(r){return J(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(r);return{data:yield as(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}getBucket(r){return J(this,void 0,void 0,function*(){try{return{data:yield as(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}createBucket(r){return J(this,arguments,void 0,function*(n,i={public:!1}){try{return{data:yield Ot(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Pe(l))return{data:null,error:l};throw l}})}updateBucket(r,n){return J(this,void 0,void 0,function*(){try{return{data:yield nl(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pe(i))return{data:null,error:i};throw i}})}emptyBucket(r){return J(this,void 0,void 0,function*(){try{return{data:yield Ot(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}deleteBucket(r){return J(this,void 0,void 0,function*(){try{return{data:yield gl(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(r){const n={};return r&&("limit"in r&&(n.limit=String(r.limit)),"offset"in r&&(n.offset=String(r.offset)),r.search&&(n.search=r.search),r.sortColumn&&(n.sortColumn=r.sortColumn),r.sortOrder&&(n.sortOrder=r.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class Hm{constructor(r,n={},i){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zh),n),this.fetch=ml(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(r){return J(this,void 0,void 0,function*(){try{return{data:yield Ot(this.fetch,`${this.url}/bucket`,{name:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}listBuckets(r){return J(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(r==null?void 0:r.limit)!==void 0&&n.set("limit",r.limit.toString()),(r==null?void 0:r.offset)!==void 0&&n.set("offset",r.offset.toString()),r!=null&&r.sortColumn&&n.set("sortColumn",r.sortColumn),r!=null&&r.sortOrder&&n.set("sortOrder",r.sortOrder),r!=null&&r.search&&n.set("search",r.search);const i=n.toString(),l=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`;return{data:yield as(this.fetch,l,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}deleteBucket(r){return J(this,void 0,void 0,function*(){try{return{data:yield gl(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}}const vl={"X-Client-Info":`storage-js/${$h}`,"Content-Type":"application/json"};class Bh extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ht(o){return typeof o=="object"&&o!==null&&"__isStorageVectorsError"in o}class Mo extends Bh{constructor(r,n,i){super(r),this.name="StorageVectorsApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Km extends Bh{constructor(r,n){super(r),this.name="StorageVectorsUnknownError",this.originalError=n}}var Ud;(function(o){o.InternalError="InternalError",o.S3VectorConflictException="S3VectorConflictException",o.S3VectorNotFoundException="S3VectorNotFoundException",o.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",o.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",o.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Ud||(Ud={}));const yl=o=>o?(...r)=>o(...r):(...r)=>fetch(...r),Gm=o=>{if(typeof o!="object"||o===null)return!1;const r=Object.getPrototypeOf(o);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in o)&&!(Symbol.iterator in o)},Dd=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),Jm=(o,r,n)=>J(void 0,void 0,void 0,function*(){if(o&&typeof o=="object"&&"status"in o&&"ok"in o&&typeof o.status=="number"&&!(n!=null&&n.noResolveJson)){const l=o.status||500,u=o;if(typeof u.json=="function")u.json().then(d=>{const p=(d==null?void 0:d.statusCode)||(d==null?void 0:d.code)||l+"";r(new Mo(Dd(d),l,p))}).catch(()=>{const d=l+"",p=u.statusText||`HTTP ${l} error`;r(new Mo(p,l,d))});else{const d=l+"",p=u.statusText||`HTTP ${l} error`;r(new Mo(p,l,d))}}else r(new Km(Dd(o),o))}),Qm=(o,r,n,i)=>{const l={method:o,headers:(r==null?void 0:r.headers)||{}};return i?(Gm(i)?(l.headers=Object.assign({"Content-Type":"application/json"},r==null?void 0:r.headers),l.body=JSON.stringify(i)):l.body=i,Object.assign(Object.assign({},l),n)):l};function Ym(o,r,n,i,l,u){return J(this,void 0,void 0,function*(){return new Promise((d,p)=>{o(n,Qm(r,i,l,u)).then(m=>{if(!m.ok)throw m;if(i!=null&&i.noResolveJson)return m;const v=m.headers.get("content-type");return!v||!v.includes("application/json")?{}:m.json()}).then(m=>d(m)).catch(m=>Jm(m,p,i))})})}function ft(o,r,n,i,l){return J(this,void 0,void 0,function*(){return Ym(o,"POST",r,i,l,n)})}class Xm{constructor(r,n={},i){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vl),n),this.fetch=yl(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(r){return J(this,void 0,void 0,function*(){try{return{data:(yield ft(this.fetch,`${this.url}/CreateIndex`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}getIndex(r,n){return J(this,void 0,void 0,function*(){try{return{data:yield ft(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:r,indexName:n},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ht(i))return{data:null,error:i};throw i}})}listIndexes(r){return J(this,void 0,void 0,function*(){try{return{data:yield ft(this.fetch,`${this.url}/ListIndexes`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}deleteIndex(r,n){return J(this,void 0,void 0,function*(){try{return{data:(yield ft(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:r,indexName:n},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ht(i))return{data:null,error:i};throw i}})}}class Zm{constructor(r,n={},i){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vl),n),this.fetch=yl(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(r){return J(this,void 0,void 0,function*(){try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ft(this.fetch,`${this.url}/PutVectors`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}getVectors(r){return J(this,void 0,void 0,function*(){try{return{data:yield ft(this.fetch,`${this.url}/GetVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}listVectors(r){return J(this,void 0,void 0,function*(){try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:yield ft(this.fetch,`${this.url}/ListVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}queryVectors(r){return J(this,void 0,void 0,function*(){try{return{data:yield ft(this.fetch,`${this.url}/QueryVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}deleteVectors(r){return J(this,void 0,void 0,function*(){try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ft(this.fetch,`${this.url}/DeleteVectors`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}}class eg{constructor(r,n={},i){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vl),n),this.fetch=yl(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(r){return J(this,void 0,void 0,function*(){try{return{data:(yield ft(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}getBucket(r){return J(this,void 0,void 0,function*(){try{return{data:yield ft(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}listBuckets(){return J(this,arguments,void 0,function*(r={}){try{return{data:yield ft(this.fetch,`${this.url}/ListVectorBuckets`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}deleteBucket(r){return J(this,void 0,void 0,function*(){try{return{data:(yield ft(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}}class tg extends eg{constructor(r,n={}){super(r,n.headers||{},n.fetch)}from(r){return new rg(this.url,this.headers,r,this.fetch)}}class rg extends Xm{constructor(r,n,i,l){super(r,n,l),this.vectorBucketName=i}createIndex(r){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return J(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const r=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return J(this,arguments,void 0,function*(n={}){return r.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(r){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return J(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,r)})}deleteIndex(r){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return J(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,r)})}index(r){return new ng(this.url,this.headers,this.vectorBucketName,r,this.fetch)}}class ng extends Zm{constructor(r,n,i,l,u){super(r,n,u),this.vectorBucketName=i,this.indexName=l}putVectors(r){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return J(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(r){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return J(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const r=Object.create(null,{listVectors:{get:()=>super.listVectors}});return J(this,arguments,void 0,function*(n={}){return r.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(r){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return J(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(r){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return J(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class sg extends Vm{constructor(r,n={},i,l){super(r,n,i,l)}from(r){return new qm(this.url,this.headers,r,this.fetch)}get vectors(){return new tg(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Hm(this.url+"/iceberg",this.headers,this.fetch)}}const ig="2.81.1";let ns="";typeof Deno<"u"?ns="deno":typeof document<"u"?ns="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ns="react-native":ns="node";const ag={"X-Client-Info":`supabase-js-${ns}/${ig}`},og={headers:ag},lg={schema:"public"},ug={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},cg={},dg=o=>o?(...r)=>o(...r):(...r)=>fetch(...r),hg=()=>Headers,fg=(o,r,n)=>{const i=dg(n),l=hg();return async(u,d)=>{var p;const m=(p=await r())!==null&&p!==void 0?p:o;let v=new l(d==null?void 0:d.headers);return v.has("apikey")||v.set("apikey",o),v.has("Authorization")||v.set("Authorization",`Bearer ${m}`),i(u,Object.assign(Object.assign({},d),{headers:v}))}};function pg(o){return o.endsWith("/")?o:o+"/"}function mg(o,r){var n,i;const{db:l,auth:u,realtime:d,global:p}=o,{db:m,auth:v,realtime:w,global:x}=r,k={db:Object.assign(Object.assign({},m),l),auth:Object.assign(Object.assign({},v),u),realtime:Object.assign(Object.assign({},w),d),storage:{},global:Object.assign(Object.assign(Object.assign({},x),p),{headers:Object.assign(Object.assign({},(n=x==null?void 0:x.headers)!==null&&n!==void 0?n:{}),(i=p==null?void 0:p.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return o.accessToken?k.accessToken=o.accessToken:delete k.accessToken,k}function gg(o){const r=o==null?void 0:o.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(pg(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Mh="2.81.1",dn=30*1e3,sl=3,Fo=sl*dn,vg="http://localhost:9999",yg="supabase.auth.token",wg={"X-Client-Info":`gotrue-js/${Mh}`},il="X-Supabase-Api-Version",Fh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_g=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,xg=600*1e3;class os extends Error{constructor(r,n,i){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function Q(o){return typeof o=="object"&&o!==null&&"__isAuthError"in o}class bg extends os{constructor(r,n,i){super(r,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function kg(o){return Q(o)&&o.name==="AuthApiError"}class Rr extends os{constructor(r,n){super(r),this.name="AuthUnknownError",this.originalError=n}}class fr extends os{constructor(r,n,i,l){super(r,i,l),this.name=n,this.status=i}}class Tt extends fr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Sg(o){return Q(o)&&o.name==="AuthSessionMissingError"}class an extends fr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ti extends fr{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class Ci extends fr{constructor(r,n=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function jg(o){return Q(o)&&o.name==="AuthImplicitGrantRedirectError"}class $d extends fr{constructor(r,n=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class al extends fr{constructor(r,n){super(r,"AuthRetryableFetchError",n,void 0)}}function Wo(o){return Q(o)&&o.name==="AuthRetryableFetchError"}class zd extends fr{constructor(r,n,i){super(r,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class ol extends fr{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ri="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Bd=` 	
\r=`.split(""),Eg=(()=>{const o=new Array(128);for(let r=0;r<o.length;r+=1)o[r]=-1;for(let r=0;r<Bd.length;r+=1)o[Bd[r].charCodeAt(0)]=-2;for(let r=0;r<Ri.length;r+=1)o[Ri[r].charCodeAt(0)]=r;return o})();function Md(o,r,n){if(o!==null)for(r.queue=r.queue<<8|o,r.queuedBits+=8;r.queuedBits>=6;){const i=r.queue>>r.queuedBits-6&63;n(Ri[i]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const i=r.queue>>r.queuedBits-6&63;n(Ri[i]),r.queuedBits-=6}}function Wh(o,r,n){const i=Eg[o];if(i>-1)for(r.queue=r.queue<<6|i,r.queuedBits+=6;r.queuedBits>=8;)n(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(o)}"`)}}function Fd(o){const r=[],n=d=>{r.push(String.fromCodePoint(d))},i={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},u=d=>{Cg(d,i,n)};for(let d=0;d<o.length;d+=1)Wh(o.charCodeAt(d),l,u);return r.join("")}function Ng(o,r){if(o<=127){r(o);return}else if(o<=2047){r(192|o>>6),r(128|o&63);return}else if(o<=65535){r(224|o>>12),r(128|o>>6&63),r(128|o&63);return}else if(o<=1114111){r(240|o>>18),r(128|o>>12&63),r(128|o>>6&63),r(128|o&63);return}throw new Error(`Unrecognized Unicode codepoint: ${o.toString(16)}`)}function Tg(o,r){for(let n=0;n<o.length;n+=1){let i=o.charCodeAt(n);if(i>55295&&i<=56319){const l=(i-55296)*1024&65535;i=(o.charCodeAt(n+1)-56320&65535|l)+65536,n+=1}Ng(i,r)}}function Cg(o,r,n){if(r.utf8seq===0){if(o<=127){n(o);return}for(let i=1;i<6;i+=1)if((o>>7-i&1)===0){r.utf8seq=i;break}if(r.utf8seq===2)r.codepoint=o&31;else if(r.utf8seq===3)r.codepoint=o&15;else if(r.utf8seq===4)r.codepoint=o&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(o<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|o&63,r.utf8seq-=1,r.utf8seq===0&&n(r.codepoint)}}function fn(o){const r=[],n={queue:0,queuedBits:0},i=l=>{r.push(l)};for(let l=0;l<o.length;l+=1)Wh(o.charCodeAt(l),n,i);return new Uint8Array(r)}function Og(o){const r=[];return Tg(o,n=>r.push(n)),new Uint8Array(r)}function Ar(o){const r=[],n={queue:0,queuedBits:0},i=l=>{r.push(l)};return o.forEach(l=>Md(l,n,i)),Md(null,n,i),r.join("")}function Pg(o){return Math.round(Date.now()/1e3)+o}function Rg(){return Symbol("auth-callback")}const Ke=()=>typeof window<"u"&&typeof document<"u",Nr={tested:!1,writable:!1},qh=()=>{if(!Ke())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Nr.tested)return Nr.writable;const o=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(o,o),globalThis.localStorage.removeItem(o),Nr.tested=!0,Nr.writable=!0}catch{Nr.tested=!0,Nr.writable=!1}return Nr.writable};function Ag(o){const r={},n=new URL(o);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((l,u)=>{r[u]=l})}catch{}return n.searchParams.forEach((i,l)=>{r[l]=i}),r}const Vh=o=>o?(...r)=>o(...r):(...r)=>fetch(...r),Ig=o=>typeof o=="object"&&o!==null&&"status"in o&&"ok"in o&&"json"in o&&typeof o.json=="function",hn=async(o,r,n)=>{await o.setItem(r,JSON.stringify(n))},Tr=async(o,r)=>{const n=await o.getItem(r);if(!n)return null;try{return JSON.parse(n)}catch{return n}},dr=async(o,r)=>{await o.removeItem(r)};class Ui{constructor(){this.promise=new Ui.promiseConstructor((r,n)=>{this.resolve=r,this.reject=n})}}Ui.promiseConstructor=Promise;function qo(o){const r=o.split(".");if(r.length!==3)throw new ol("Invalid JWT structure");for(let i=0;i<r.length;i++)if(!_g.test(r[i]))throw new ol("JWT not in base64url format");return{header:JSON.parse(Fd(r[0])),payload:JSON.parse(Fd(r[1])),signature:fn(r[2]),raw:{header:r[0],payload:r[1]}}}async function Lg(o){return await new Promise(r=>{setTimeout(()=>r(null),o)})}function Ug(o,r){return new Promise((i,l)=>{(async()=>{for(let u=0;u<1/0;u++)try{const d=await o(u);if(!r(u,null,d)){i(d);return}}catch(d){if(!r(u,d)){l(d);return}}})()})}function Dg(o){return("0"+o.toString(16)).substr(-2)}function $g(){const r=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let l="";for(let u=0;u<56;u++)l+=n.charAt(Math.floor(Math.random()*i));return l}return crypto.getRandomValues(r),Array.from(r,Dg).join("")}async function zg(o){const n=new TextEncoder().encode(o),i=await crypto.subtle.digest("SHA-256",n),l=new Uint8Array(i);return Array.from(l).map(u=>String.fromCharCode(u)).join("")}async function Bg(o){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),o;const n=await zg(o);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function on(o,r,n=!1){const i=$g();let l=i;n&&(l+="/PASSWORD_RECOVERY"),await hn(o,`${r}-code-verifier`,l);const u=await Bg(i);return[u,i===u?"plain":"s256"]}const Mg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Fg(o){const r=o.headers.get(il);if(!r||!r.match(Mg))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function Wg(o){if(!o)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(o<=r)throw new Error("JWT has expired")}function qg(o){switch(o){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Vg=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ln(o){if(!Vg.test(o))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Vo(){const o={};return new Proxy(o,{get:(r,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Hg(o,r){return new Proxy(o,{get:(n,i,l)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const u=i.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,i,l)}return!r.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r.value=!0),Reflect.get(n,i,l)}})}function Wd(o){return JSON.parse(JSON.stringify(o))}const Cr=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),Kg=[502,503,504];async function qd(o){var r;if(!Ig(o))throw new al(Cr(o),0);if(Kg.includes(o.status))throw new al(Cr(o),o.status);let n;try{n=await o.json()}catch(u){throw new Rr(Cr(u),u)}let i;const l=Fg(o);if(l&&l.getTime()>=Fh["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new zd(Cr(n),o.status,((r=n.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(i==="session_not_found")throw new Tt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((u,d)=>u&&typeof d=="string",!0))throw new zd(Cr(n),o.status,n.weak_password.reasons);throw new bg(Cr(n),o.status||500,i)}const Gg=(o,r,n,i)=>{const l={method:o,headers:(r==null?void 0:r.headers)||{}};return o==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),l.body=JSON.stringify(i),Object.assign(Object.assign({},l),n))};async function ee(o,r,n,i){var l;const u=Object.assign({},i==null?void 0:i.headers);u[il]||(u[il]=Fh["2024-01-01"].name),i!=null&&i.jwt&&(u.Authorization=`Bearer ${i.jwt}`);const d=(l=i==null?void 0:i.query)!==null&&l!==void 0?l:{};i!=null&&i.redirectTo&&(d.redirect_to=i.redirectTo);const p=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",m=await Jg(o,r,n+p,{headers:u,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(m):{data:Object.assign({},m),error:null}}async function Jg(o,r,n,i,l,u){const d=Gg(r,i,l,u);let p;try{p=await o(n,Object.assign({},d))}catch(m){throw console.error(m),new al(Cr(m),0)}if(p.ok||await qd(p),i!=null&&i.noResolveJson)return p;try{return await p.json()}catch(m){await qd(m)}}function Ct(o){var r;let n=null;Xg(o)&&(n=Object.assign({},o),o.expires_at||(n.expires_at=Pg(o.expires_in)));const i=(r=o.user)!==null&&r!==void 0?r:o;return{data:{session:n,user:i},error:null}}function Vd(o){const r=Ct(o);return!r.error&&o.weak_password&&typeof o.weak_password=="object"&&Array.isArray(o.weak_password.reasons)&&o.weak_password.reasons.length&&o.weak_password.message&&typeof o.weak_password.message=="string"&&o.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(r.data.weak_password=o.weak_password),r}function hr(o){var r;return{data:{user:(r=o.user)!==null&&r!==void 0?r:o},error:null}}function Qg(o){return{data:o,error:null}}function Yg(o){const{action_link:r,email_otp:n,hashed_token:i,redirect_to:l,verification_type:u}=o,d=mn(o,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:r,email_otp:n,hashed_token:i,redirect_to:l,verification_type:u},m=Object.assign({},d);return{data:{properties:p,user:m},error:null}}function Hd(o){return o}function Xg(o){return o.access_token&&o.refresh_token&&o.expires_in}const Ho=["global","local","others"];class Zg{constructor({url:r="",headers:n={},fetch:i}){this.url=r,this.headers=n,this.fetch=Vh(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,n=Ho[0]){if(Ho.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ho.join(", ")}`);try{return await ee(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Q(i))return{data:null,error:i};throw i}}async inviteUserByEmail(r,n={}){try{return await ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:hr})}catch(i){if(Q(i))return{data:{user:null},error:i};throw i}}async generateLink(r){try{const{options:n}=r,i=mn(r,["options"]),l=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(l.new_email=i==null?void 0:i.newEmail,delete l.newEmail),await ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:Yg,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Q(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(r){try{return await ee(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:hr})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async listUsers(r){var n,i,l,u,d,p,m;try{const v={nextPage:null,lastPage:0,total:0},w=await ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=r==null?void 0:r.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(u=(l=r==null?void 0:r.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:Hd});if(w.error)throw w.error;const x=await w.json(),k=(d=w.headers.get("x-total-count"))!==null&&d!==void 0?d:0,S=(m=(p=w.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return S.length>0&&(S.forEach(C=>{const P=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(C.split(";")[1].split("=")[1]);v[`${O}Page`]=P}),v.total=parseInt(k)),{data:Object.assign(Object.assign({},x),v),error:null}}catch(v){if(Q(v))return{data:{users:[]},error:v};throw v}}async getUserById(r){ln(r);try{return await ee(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:hr})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async updateUserById(r,n){ln(r);try{return await ee(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:n,headers:this.headers,xform:hr})}catch(i){if(Q(i))return{data:{user:null},error:i};throw i}}async deleteUser(r,n=!1){ln(r);try{return await ee(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:n},xform:hr})}catch(i){if(Q(i))return{data:{user:null},error:i};throw i}}async _listFactors(r){ln(r.userId);try{const{data:n,error:i}=await ee(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:n,error:i}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _deleteFactor(r){ln(r.userId),ln(r.id);try{return{data:await ee(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _listOAuthClients(r){var n,i,l,u,d,p,m;try{const v={nextPage:null,lastPage:0,total:0},w=await ee(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=r==null?void 0:r.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(u=(l=r==null?void 0:r.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:Hd});if(w.error)throw w.error;const x=await w.json(),k=(d=w.headers.get("x-total-count"))!==null&&d!==void 0?d:0,S=(m=(p=w.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return S.length>0&&(S.forEach(C=>{const P=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(C.split(";")[1].split("=")[1]);v[`${O}Page`]=P}),v.total=parseInt(k)),{data:Object.assign(Object.assign({},x),v),error:null}}catch(v){if(Q(v))return{data:{clients:[]},error:v};throw v}}async _createOAuthClient(r){try{return await ee(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _getOAuthClient(r){try{return await ee(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _updateOAuthClient(r,n){try{return await ee(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${r}`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(Q(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(r){try{return await ee(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(r){try{return await ee(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}}function Kd(o={}){return{getItem:r=>o[r]||null,setItem:(r,n)=>{o[r]=n},removeItem:r=>{delete o[r]}}}const un={debug:!!(globalThis&&qh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Hh extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class ev extends Hh{}async function tv(o,r,n){un.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",o,r);const i=new globalThis.AbortController;return r>0&&setTimeout(()=>{i.abort(),un.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",o)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(o,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async l=>{if(l){un.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",o,l.name);try{return await n()}finally{un.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",o,l.name)}}else{if(r===0)throw un.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",o),new ev(`Acquiring an exclusive Navigator LockManager lock "${o}" immediately failed`);if(un.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function rv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Kh(o){if(!/^0x[a-fA-F0-9]{40}$/.test(o))throw new Error(`@supabase/auth-js: Address "${o}" is invalid.`);return o.toLowerCase()}function nv(o){return parseInt(o,16)}function sv(o){const r=new TextEncoder().encode(o);return"0x"+Array.from(r,i=>i.toString(16).padStart(2,"0")).join("")}function iv(o){var r;const{chainId:n,domain:i,expirationTime:l,issuedAt:u=new Date,nonce:d,notBefore:p,requestId:m,resources:v,scheme:w,uri:x,version:k}=o;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(k!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${k}`);if(!((r=o.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${o.statement}`)}const S=Kh(o.address),C=w?`${w}://${i}`:i,P=o.statement?`${o.statement}
`:"",O=`${C} wants you to sign in with your Ethereum account:
${S}

${P}`;let B=`URI: ${x}
Version: ${k}
Chain ID: ${n}${d?`
Nonce: ${d}`:""}
Issued At: ${u.toISOString()}`;if(l&&(B+=`
Expiration Time: ${l.toISOString()}`),p&&(B+=`
Not Before: ${p.toISOString()}`),m&&(B+=`
Request ID: ${m}`),v){let F=`
Resources:`;for(const D of v){if(!D||typeof D!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${D}`);F+=`
- ${D}`}B+=F}return`${O}
${B}`}class De extends Error{constructor({message:r,code:n,cause:i,name:l}){var u;super(r,{cause:i}),this.__isWebAuthnError=!0,this.name=(u=l??(i instanceof Error?i.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=n}}class Ai extends De{constructor(r,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:r}),this.name="WebAuthnUnknownError",this.originalError=n}}function av({error:o,options:r}){var n,i,l;const{publicKey:u}=r;if(!u)throw Error("options was missing required publicKey property");if(o.name==="AbortError"){if(r.signal instanceof AbortSignal)return new De({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:o})}else if(o.name==="ConstraintError"){if(((n=u.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new De({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:o});if(r.mediation==="conditional"&&((i=u.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new De({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:o});if(((l=u.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new De({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:o})}else{if(o.name==="InvalidStateError")return new De({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:o});if(o.name==="NotAllowedError")return new De({message:o.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:o});if(o.name==="NotSupportedError")return u.pubKeyCredParams.filter(p=>p.type==="public-key").length===0?new De({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:o}):new De({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:o});if(o.name==="SecurityError"){const d=window.location.hostname;if(Gh(d)){if(u.rp.id!==d)return new De({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:o})}else return new De({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:o})}else if(o.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new De({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:o})}else if(o.name==="UnknownError")return new De({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:o})}return new De({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:o})}function ov({error:o,options:r}){const{publicKey:n}=r;if(!n)throw Error("options was missing required publicKey property");if(o.name==="AbortError"){if(r.signal instanceof AbortSignal)return new De({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:o})}else{if(o.name==="NotAllowedError")return new De({message:o.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:o});if(o.name==="SecurityError"){const i=window.location.hostname;if(Gh(i)){if(n.rpId!==i)return new De({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:o})}else return new De({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:o})}else if(o.name==="UnknownError")return new De({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:o})}return new De({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:o})}class lv{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const uv=new lv;function cv(o){if(!o)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(o);const{challenge:r,user:n,excludeCredentials:i}=o,l=mn(o,["challenge","user","excludeCredentials"]),u=fn(r).buffer,d=Object.assign(Object.assign({},n),{id:fn(n.id).buffer}),p=Object.assign(Object.assign({},l),{challenge:u,user:d});if(i&&i.length>0){p.excludeCredentials=new Array(i.length);for(let m=0;m<i.length;m++){const v=i[m];p.excludeCredentials[m]=Object.assign(Object.assign({},v),{id:fn(v.id).buffer,type:v.type||"public-key",transports:v.transports})}}return p}function dv(o){if(!o)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(o);const{challenge:r,allowCredentials:n}=o,i=mn(o,["challenge","allowCredentials"]),l=fn(r).buffer,u=Object.assign(Object.assign({},i),{challenge:l});if(n&&n.length>0){u.allowCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const p=n[d];u.allowCredentials[d]=Object.assign(Object.assign({},p),{id:fn(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return u}function hv(o){var r;if("toJSON"in o&&typeof o.toJSON=="function")return o.toJSON();const n=o;return{id:o.id,rawId:o.id,response:{attestationObject:Ar(new Uint8Array(o.response.attestationObject)),clientDataJSON:Ar(new Uint8Array(o.response.clientDataJSON))},type:"public-key",clientExtensionResults:o.getClientExtensionResults(),authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function fv(o){var r;if("toJSON"in o&&typeof o.toJSON=="function")return o.toJSON();const n=o,i=o.getClientExtensionResults(),l=o.response;return{id:o.id,rawId:o.id,response:{authenticatorData:Ar(new Uint8Array(l.authenticatorData)),clientDataJSON:Ar(new Uint8Array(l.clientDataJSON)),signature:Ar(new Uint8Array(l.signature)),userHandle:l.userHandle?Ar(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function Gh(o){return o==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(o)}function Gd(){var o,r;return!!(Ke()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((o=navigator==null?void 0:navigator.credentials)===null||o===void 0?void 0:o.create)=="function"&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.get)=="function")}async function pv(o){try{const r=await navigator.credentials.create(o);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new Ai("Browser returned unexpected credential type",r)}:{data:null,error:new Ai("Empty credential response",r)}}catch(r){return{data:null,error:av({error:r,options:o})}}}async function mv(o){try{const r=await navigator.credentials.get(o);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new Ai("Browser returned unexpected credential type",r)}:{data:null,error:new Ai("Empty credential response",r)}}catch(r){return{data:null,error:ov({error:r,options:o})}}}const gv={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},vv={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ii(...o){const r=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),n=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),i={};for(const l of o)if(l)for(const u in l){const d=l[u];if(d!==void 0)if(Array.isArray(d))i[u]=d;else if(n(d))i[u]=d;else if(r(d)){const p=i[u];r(p)?i[u]=Ii(p,d):i[u]=Ii(d)}else i[u]=d}return i}function yv(o,r){return Ii(gv,o,r||{})}function wv(o,r){return Ii(vv,o,r||{})}class _v{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:n,friendlyName:i,signal:l},u){try{const{data:d,error:p}=await this.client.mfa.challenge({factorId:r,webauthn:n});if(!d)return{data:null,error:p};const m=l??uv.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:v}=d.webauthn.credential_options.publicKey;v.name||(v.name=`${v.id}:${i}`),v.displayName||(v.displayName=v.name)}switch(d.webauthn.type){case"create":{const v=yv(d.webauthn.credential_options.publicKey,u==null?void 0:u.create),{data:w,error:x}=await pv({publicKey:v,signal:m});return w?{data:{factorId:r,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:w}},error:null}:{data:null,error:x}}case"request":{const v=wv(d.webauthn.credential_options.publicKey,u==null?void 0:u.request),{data:w,error:x}=await mv(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:v,signal:m}));return w?{data:{factorId:r,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:w}},error:null}:{data:null,error:x}}}}catch(d){return Q(d)?{data:null,error:d}:{data:null,error:new Rr("Unexpected error in challenge",d)}}}async _verify({challengeId:r,factorId:n,webauthn:i}){return this.client.mfa.verify({factorId:n,challengeId:r,webauthn:i})}async _authenticate({factorId:r,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},u){if(!n)return{data:null,error:new os("rpId is required for WebAuthn authentication")};try{if(!Gd())return{data:null,error:new Rr("Browser does not support WebAuthn",null)};const{data:d,error:p}=await this.challenge({factorId:r,webauthn:{rpId:n,rpOrigins:i},signal:l},{request:u});if(!d)return{data:null,error:p};const{webauthn:m}=d;return this._verify({factorId:r,challengeId:d.challengeId,webauthn:{type:m.type,rpId:n,rpOrigins:i,credential_response:m.credential_response}})}catch(d){return Q(d)?{data:null,error:d}:{data:null,error:new Rr("Unexpected error in authenticate",d)}}}async _register({friendlyName:r,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},u){if(!n)return{data:null,error:new os("rpId is required for WebAuthn registration")};try{if(!Gd())return{data:null,error:new Rr("Browser does not support WebAuthn",null)};const{data:d,error:p}=await this._enroll({friendlyName:r});if(!d)return await this.client.mfa.listFactors().then(w=>{var x;return(x=w.data)===null||x===void 0?void 0:x.all.find(k=>k.factor_type==="webauthn"&&k.friendly_name===r&&k.status!=="unverified")}).then(w=>w?this.client.mfa.unenroll({factorId:w==null?void 0:w.id}):void 0),{data:null,error:p};const{data:m,error:v}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:n,rpOrigins:i},signal:l},{create:u});return m?this._verify({factorId:d.id,challengeId:m.challengeId,webauthn:{rpId:n,rpOrigins:i,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:v}}catch(d){return Q(d)?{data:null,error:d}:{data:null,error:new Rr("Unexpected error in register",d)}}}}rv();const xv={url:vg,storageKey:yg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:wg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Jd(o,r,n){return await n()}const cn={};class ls{get jwks(){var r,n;return(n=(r=cn[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(r){cn[this.storageKey]=Object.assign(Object.assign({},cn[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,n;return(n=(r=cn[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){cn[this.storageKey]=Object.assign(Object.assign({},cn[this.storageKey]),{cachedAt:r})}constructor(r){var n,i,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},xv),r);if(this.storageKey=u.storageKey,this.instanceID=(n=ls.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,ls.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&Ke()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new Zg({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=Vh(u.fetch),this.lock=u.lock||Jd,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,u.lock?this.lock=u.lock:Ke()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=tv:this.lock=Jd,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new _v(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:qh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Kd(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=Kd(this.memoryStorage)),Ke()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(r){if(this.throwOnError&&r&&r.error)throw r.error;return r}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Mh}) ${new Date().toISOString()}`}_debug(...r){return this.logDebugMessages&&this.logger(this._logPrefix(),...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{let n={},i="none";if(Ke()&&(n=Ag(window.location.href),this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce")),Ke()&&this.detectSessionInUrl&&i!=="none"){const{data:l,error:u}=await this._getSessionFromURL(n,i);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),jg(u)){const m=(r=u.details)===null||r===void 0?void 0:r.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:d,redirectType:p}=l;return this._debug("#_initialize()","detected session in URL",d,"redirect type",p),await this._saveSession(d),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Q(n)?this._returnResult({error:n}):this._returnResult({error:new Rr("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var n,i,l;try{const u=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=r==null?void 0:r.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(l=r==null?void 0:r.options)===null||l===void 0?void 0:l.captchaToken}},xform:Ct}),{data:d,error:p}=u;if(p||!d)return this._returnResult({data:{user:null,session:null},error:p});const m=d.session,v=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:v,session:m},error:null})}catch(u){if(Q(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(r){var n,i,l;try{let u;if("email"in r){const{email:w,password:x,options:k}=r;let S=null,C=null;this.flowType==="pkce"&&([S,C]=await on(this.storage,this.storageKey)),u=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:k==null?void 0:k.emailRedirectTo,body:{email:w,password:x,data:(n=k==null?void 0:k.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:k==null?void 0:k.captchaToken},code_challenge:S,code_challenge_method:C},xform:Ct})}else if("phone"in r){const{phone:w,password:x,options:k}=r;u=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:w,password:x,data:(i=k==null?void 0:k.data)!==null&&i!==void 0?i:{},channel:(l=k==null?void 0:k.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:k==null?void 0:k.captchaToken}},xform:Ct})}else throw new Ti("You must provide either an email or phone number and a password");const{data:d,error:p}=u;if(p||!d)return this._returnResult({data:{user:null,session:null},error:p});const m=d.session,v=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:v,session:m},error:null})}catch(u){if(Q(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(r){try{let n;if("email"in r){const{email:u,password:d,options:p}=r;n=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:d,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Vd})}else if("phone"in r){const{phone:u,password:d,options:p}=r;n=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:d,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Vd})}else throw new Ti("You must provide either an email or phone number and a password");const{data:i,error:l}=n;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!i||!i.session||!i.user){const u=new an;return this._returnResult({data:{user:null,session:null},error:u})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:l})}catch(n){if(Q(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(r){var n,i,l,u;return await this._handleProviderSignIn(r.provider,{redirectTo:(n=r.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=r.options)===null||i===void 0?void 0:i.scopes,queryParams:(l=r.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(u=r.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:n}=r;switch(n){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(r){var n,i,l,u,d,p,m,v,w,x,k;let S,C;if("message"in r)S=r.message,C=r.signature;else{const{chain:P,wallet:O,statement:B,options:F}=r;let D;if(Ke())if(typeof O=="object")D=O;else{const Ae=window;if("ethereum"in Ae&&typeof Ae.ethereum=="object"&&"request"in Ae.ethereum&&typeof Ae.ethereum.request=="function")D=Ae.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!(F!=null&&F.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=O}const q=new URL((n=F==null?void 0:F.url)!==null&&n!==void 0?n:window.location.href),ie=await D.request({method:"eth_requestAccounts"}).then(Ae=>Ae).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ie||ie.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const re=Kh(ie[0]);let le=(i=F==null?void 0:F.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!le){const Ae=await D.request({method:"eth_chainId"});le=nv(Ae)}const Ee={domain:q.host,address:re,statement:B,uri:q.href,version:"1",chainId:le,nonce:(l=F==null?void 0:F.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(d=(u=F==null?void 0:F.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(p=F==null?void 0:F.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(m=F==null?void 0:F.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(v=F==null?void 0:F.signInWithEthereum)===null||v===void 0?void 0:v.requestId,resources:(w=F==null?void 0:F.signInWithEthereum)===null||w===void 0?void 0:w.resources};S=iv(Ee),C=await D.request({method:"personal_sign",params:[sv(S),re]})}try{const{data:P,error:O}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:C},!((x=r.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(k=r.options)===null||k===void 0?void 0:k.captchaToken}}:null),xform:Ct});if(O)throw O;if(!P||!P.session||!P.user){const B=new an;return this._returnResult({data:{user:null,session:null},error:B})}return P.session&&(await this._saveSession(P.session),await this._notifyAllSubscribers("SIGNED_IN",P.session)),this._returnResult({data:Object.assign({},P),error:O})}catch(P){if(Q(P))return this._returnResult({data:{user:null,session:null},error:P});throw P}}async signInWithSolana(r){var n,i,l,u,d,p,m,v,w,x,k,S;let C,P;if("message"in r)C=r.message,P=r.signature;else{const{chain:O,wallet:B,statement:F,options:D}=r;let q;if(Ke())if(typeof B=="object")q=B;else{const re=window;if("solana"in re&&typeof re.solana=="object"&&("signIn"in re.solana&&typeof re.solana.signIn=="function"||"signMessage"in re.solana&&typeof re.solana.signMessage=="function"))q=re.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof B!="object"||!(D!=null&&D.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");q=B}const ie=new URL((n=D==null?void 0:D.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in q&&q.signIn){const re=await q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D==null?void 0:D.signInWithSolana),{version:"1",domain:ie.host,uri:ie.href}),F?{statement:F}:null));let le;if(Array.isArray(re)&&re[0]&&typeof re[0]=="object")le=re[0];else if(re&&typeof re=="object"&&"signedMessage"in re&&"signature"in re)le=re;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in le&&"signature"in le&&(typeof le.signedMessage=="string"||le.signedMessage instanceof Uint8Array)&&le.signature instanceof Uint8Array)C=typeof le.signedMessage=="string"?le.signedMessage:new TextDecoder().decode(le.signedMessage),P=le.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in q)||typeof q.signMessage!="function"||!("publicKey"in q)||typeof q!="object"||!q.publicKey||!("toBase58"in q.publicKey)||typeof q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${ie.host} wants you to sign in with your Solana account:`,q.publicKey.toBase58(),...F?["",F,""]:[""],"Version: 1",`URI: ${ie.href}`,`Issued At: ${(l=(i=D==null?void 0:D.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((u=D==null?void 0:D.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((d=D==null?void 0:D.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((p=D==null?void 0:D.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((m=D==null?void 0:D.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((v=D==null?void 0:D.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((x=(w=D==null?void 0:D.signInWithSolana)===null||w===void 0?void 0:w.resources)===null||x===void 0)&&x.length?["Resources",...D.signInWithSolana.resources.map(le=>`- ${le}`)]:[]].join(`
`);const re=await q.signMessage(new TextEncoder().encode(C),"utf8");if(!re||!(re instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");P=re}}try{const{data:O,error:B}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:Ar(P)},!((k=r.options)===null||k===void 0)&&k.captchaToken?{gotrue_meta_security:{captcha_token:(S=r.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:Ct});if(B)throw B;if(!O||!O.session||!O.user){const F=new an;return this._returnResult({data:{user:null,session:null},error:F})}return O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),this._returnResult({data:Object.assign({},O),error:B})}catch(O){if(Q(O))return this._returnResult({data:{user:null,session:null},error:O});throw O}}async _exchangeCodeForSession(r){const n=await Tr(this.storage,`${this.storageKey}-code-verifier`),[i,l]=(n??"").split("/");try{const{data:u,error:d}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:i},xform:Ct});if(await dr(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!u||!u.session||!u.user){const p=new an;return this._returnResult({data:{user:null,session:null,redirectType:null},error:p})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:l??null}),error:d})}catch(u){if(Q(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(r){try{const{options:n,provider:i,token:l,access_token:u,nonce:d}=r,p=await ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:l,access_token:u,nonce:d,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ct}),{data:m,error:v}=p;if(v)return this._returnResult({data:{user:null,session:null},error:v});if(!m||!m.session||!m.user){const w=new an;return this._returnResult({data:{user:null,session:null},error:w})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:v})}catch(n){if(Q(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(r){var n,i,l,u,d;try{if("email"in r){const{email:p,options:m}=r;let v=null,w=null;this.flowType==="pkce"&&([v,w]=await on(this.storage,this.storageKey));const{error:x}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},create_user:(i=m==null?void 0:m.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:v,code_challenge_method:w},redirectTo:m==null?void 0:m.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:x})}if("phone"in r){const{phone:p,options:m}=r,{data:v,error:w}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(l=m==null?void 0:m.data)!==null&&l!==void 0?l:{},create_user:(u=m==null?void 0:m.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(d=m==null?void 0:m.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:v==null?void 0:v.message_id},error:w})}throw new Ti("You must provide either an email or phone number.")}catch(p){if(Q(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async verifyOtp(r){var n,i;try{let l,u;"options"in r&&(l=(n=r.options)===null||n===void 0?void 0:n.redirectTo,u=(i=r.options)===null||i===void 0?void 0:i.captchaToken);const{data:d,error:p}=await ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:u}}),redirectTo:l,xform:Ct});if(p)throw p;if(!d)throw new Error("An error occurred on token verification.");const m=d.session,v=d.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:v,session:m},error:null})}catch(l){if(Q(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(r){var n,i,l,u,d;try{let p=null,m=null;this.flowType==="pkce"&&([p,m]=await on(this.storage,this.storageKey));const v=await ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(i=(n=r.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((l=r==null?void 0:r.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:p,code_challenge_method:m}),headers:this.headers,xform:Qg});return!((u=v.data)===null||u===void 0)&&u.url&&Ke()&&!(!((d=r.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(v.data.url),this._returnResult(v)}catch(p){if(Q(p))return this._returnResult({data:null,error:p});throw p}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;if(i)throw i;if(!n)throw new Tt;const{error:l}=await ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(r){if(Q(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async resend(r){try{const n=`${this.url}/resend`;if("email"in r){const{email:i,type:l,options:u}=r,{error:d}=await ee(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in r){const{phone:i,type:l,options:u}=r,{data:d,error:p}=await ee(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:p})}throw new Ti("You must provide either an email or phone number and a type")}catch(n){if(Q(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(r,n){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await r(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const n=await Tr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?r=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const i=r.expires_at?r.expires_at*1e3-Date.now()<Fo:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",r.expires_at),!i){if(this.userStorage){const d=await Tr(this.userStorage,this.storageKey+"-user");d!=null&&d.user?r.user=d.user:r.user=Vo()}if(this.storage.isServer&&r.user&&!r.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};r.user=Hg(r.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:r},error:null}}const{data:l,error:u}=await this._callRefreshToken(r.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:hr}):await this._useSession(async n=>{var i,l,u;const{data:d,error:p}=n;if(p)throw p;return!(!((i=d.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Tt}:await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0,xform:hr})})}catch(n){if(Q(n))return Sg(n)&&(await this._removeSession(),await dr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(r,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,n))}async _updateUser(r,n={}){try{return await this._useSession(async i=>{const{data:l,error:u}=i;if(u)throw u;if(!l.session)throw new Tt;const d=l.session;let p=null,m=null;this.flowType==="pkce"&&r.email!=null&&([p,m]=await on(this.storage,this.storageKey));const{data:v,error:w}=await ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:p,code_challenge_method:m}),jwt:d.access_token,xform:hr});if(w)throw w;return d.user=v.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(i){if(Q(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new Tt;const n=Date.now()/1e3;let i=n,l=!0,u=null;const{payload:d}=qo(r.access_token);if(d.exp&&(i=d.exp,l=i<=n),l){const{data:p,error:m}=await this._callRefreshToken(r.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!p)return{data:{user:null,session:null},error:null};u=p}else{const{data:p,error:m}=await this._getUser(r.access_token);if(m)throw m;u={access_token:r.access_token,refresh_token:r.refresh_token,user:p.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(n){if(Q(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async n=>{var i;if(!r){const{data:d,error:p}=n;if(p)throw p;r=(i=d.session)!==null&&i!==void 0?i:void 0}if(!(r!=null&&r.refresh_token))throw new Tt;const{data:l,error:u}=await this._callRefreshToken(r.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Q(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(r,n){try{if(!Ke())throw new Ci("No browser detected.");if(r.error||r.error_description||r.error_code)throw new Ci(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new $d("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ci("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new $d("No code detected.");const{data:F,error:D}=await this._exchangeCodeForSession(r.code);if(D)throw D;const q=new URL(window.location.href);return q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",q.toString()),{data:{session:F.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:l,access_token:u,refresh_token:d,expires_in:p,expires_at:m,token_type:v}=r;if(!u||!p||!d||!v)throw new Ci("No session defined in URL");const w=Math.round(Date.now()/1e3),x=parseInt(p);let k=w+x;m&&(k=parseInt(m));const S=k-w;S*1e3<=dn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${x}s`);const C=k-x;w-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,k,w):w-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,k,w);const{data:P,error:O}=await this._getUser(u);if(O)throw O;const B={provider_token:i,provider_refresh_token:l,access_token:u,expires_in:x,expires_at:k,refresh_token:d,token_type:v,user:P.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:B,redirectType:r.type},error:null})}catch(i){if(Q(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const n=await Tr(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&n)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:l,error:u}=n;if(u)return this._returnResult({error:u});const d=(i=l.session)===null||i===void 0?void 0:i.access_token;if(d){const{error:p}=await this.admin.signOut(d,r);if(p&&!(kg(p)&&(p.status===404||p.status===401||p.status===403)))return this._returnResult({error:p})}return r!=="others"&&(await this._removeSession(),await dr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(r){const n=Rg(),i={id:n,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(r){return await this._useSession(async n=>{var i,l;try{const{data:{session:u},error:d}=n;if(d)throw d;await((i=this.stateChangeEmitters.get(r))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",r,"session",u)}catch(u){await((l=this.stateChangeEmitters.get(r))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",u),console.error(u)}})}async resetPasswordForEmail(r,n={}){let i=null,l=null;this.flowType==="pkce"&&([i,l]=await on(this.storage,this.storageKey,!0));try{return await ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:i,code_challenge_method:l,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(u){if(Q(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var r;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(r=n.user.identities)!==null&&r!==void 0?r:[]},error:null})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var n;try{const{data:i,error:l}=await this._useSession(async u=>{var d,p,m,v,w;const{data:x,error:k}=u;if(k)throw k;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(d=r.options)===null||d===void 0?void 0:d.redirectTo,scopes:(p=r.options)===null||p===void 0?void 0:p.scopes,queryParams:(m=r.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await ee(this.fetch,"GET",S,{headers:this.headers,jwt:(w=(v=x.session)===null||v===void 0?void 0:v.access_token)!==null&&w!==void 0?w:void 0})});if(l)throw l;return Ke()&&!(!((n=r.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),this._returnResult({data:{provider:r.provider,url:i==null?void 0:i.url},error:null})}catch(i){if(Q(i))return this._returnResult({data:{provider:r.provider,url:null},error:i});throw i}}async linkIdentityIdToken(r){return await this._useSession(async n=>{var i;try{const{error:l,data:{session:u}}=n;if(l)throw l;const{options:d,provider:p,token:m,access_token:v,nonce:w}=r,x=await ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=u==null?void 0:u.access_token)!==null&&i!==void 0?i:void 0,body:{provider:p,id_token:m,access_token:v,nonce:w,link_identity:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Ct}),{data:k,error:S}=x;return S?this._returnResult({data:{user:null,session:null},error:S}):!k||!k.session||!k.user?this._returnResult({data:{user:null,session:null},error:new an}):(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("USER_UPDATED",k.session)),this._returnResult({data:k,error:S}))}catch(l){if(Q(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(r){try{return await this._useSession(async n=>{var i,l;const{data:u,error:d}=n;if(d)throw d;return await ee(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(l=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:void 0})})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(r){const n=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await Ug(async l=>(l>0&&await Lg(200*Math.pow(2,l-1)),this._debug(n,"refreshing attempt",l),await ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Ct})),(l,u)=>{const d=200*Math.pow(2,l);return u&&Wo(u)&&Date.now()+d-i<dn})}catch(i){if(this._debug(n,"error",i),Q(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(n,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",n,"url",i),Ke()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:r,url:i},error:null}}async _recoverAndRefresh(){var r,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const l=await Tr(this.storage,this.storageKey);if(l&&this.userStorage){let d=await Tr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:l.user},await hn(this.userStorage,this.storageKey+"-user",d)),l.user=(r=d==null?void 0:d.user)!==null&&r!==void 0?r:Vo()}else if(l&&!l.user&&!l.user){const d=await Tr(this.storage,this.storageKey+"-user");d&&(d!=null&&d.user)?(l.user=d.user,await dr(this.storage,this.storageKey+"-user"),await hn(this.storage,this.storageKey,l)):l.user=Vo()}if(this._debug(i,"session from storage",l),!this._isValidSession(l)){this._debug(i,"session is not valid"),l!==null&&await this._removeSession();return}const u=((n=l.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Fo;if(this._debug(i,`session has${u?"":" not"} expired with margin of ${Fo}s`),u){if(this.autoRefreshToken&&l.refresh_token){const{error:d}=await this._callRefreshToken(l.refresh_token);d&&(console.error(d),Wo(d)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:p}=await this._getUser(l.access_token);!p&&(d!=null&&d.user)?(l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(i,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(i,"error",l),console.error(l);return}finally{this._debug(i,"end")}}async _callRefreshToken(r){var n,i;if(!r)throw new Tt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new Ui;const{data:u,error:d}=await this._refreshAccessToken(r);if(d)throw d;if(!u.session)throw new Tt;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const p={data:u.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(u){if(this._debug(l,"error",u),Q(u)){const d={data:null,error:u};return Wo(u)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(d),d}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(u),u}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(r,n,i=!0){const l=`#_notifyAllSubscribers(${r})`;this._debug(l,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:r,session:n});const u=[],d=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(r,n)}catch(m){u.push(m)}});if(await Promise.all(d),u.length>0){for(let p=0;p<u.length;p+=1)console.error(u[p]);throw u[0]}}finally{this._debug(l,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0;const n=Object.assign({},r),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await hn(this.userStorage,this.storageKey+"-user",{user:n.user});const l=Object.assign({},n);delete l.user;const u=Wd(l);await hn(this.storage,this.storageKey,u)}else{const l=Wd(n);await hn(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),await dr(this.storage,this.storageKey),await dr(this.storage,this.storageKey+"-code-verifier"),await dr(this.storage,this.storageKey+"-user"),this.userStorage&&await dr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&Ke()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),dn);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((i.expires_at*1e3-r)/dn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${dn}ms, refresh threshold is ${sl} ticks`),l<=sl&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof Hh)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ke()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const n=`#_onVisibilityChanged(${r})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,n,i){const l=[`provider=${encodeURIComponent(n)}`];if(i!=null&&i.redirectTo&&l.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&l.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[u,d]=await on(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(d)}`});l.push(p.toString())}if(i!=null&&i.queryParams){const u=new URLSearchParams(i.queryParams);l.push(u.toString())}return i!=null&&i.skipBrowserRedirect&&l.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${r}?${l.join("&")}`}async _unenroll(r){try{return await this._useSession(async n=>{var i;const{data:l,error:u}=n;return u?this._returnResult({data:null,error:u}):await ee(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(i=l==null?void 0:l.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(r){try{return await this._useSession(async n=>{var i,l;const{data:u,error:d}=n;if(d)return this._returnResult({data:null,error:d});const p=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:m,error:v}=await ee(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(i=u==null?void 0:u.session)===null||i===void 0?void 0:i.access_token});return v?this._returnResult({data:null,error:v}):(r.factorType==="totp"&&m.type==="totp"&&(!((l=m==null?void 0:m.totp)===null||l===void 0)&&l.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:l,error:u}=n;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?hv(r.webauthn.credential_response):fv(r.webauthn.credential_response)})}:{code:r.code}),{data:p,error:m}=await ee(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:d,headers:this.headers,jwt:(i=l==null?void 0:l.session)===null||i===void 0?void 0:i.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),this._returnResult({data:p,error:m}))})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:l,error:u}=n;if(u)return this._returnResult({data:null,error:u});const d=await ee(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(i=l==null?void 0:l.session)===null||i===void 0?void 0:i.access_token});if(d.error)return d;const{data:p}=d;if(p.type!=="webauthn")return{data:p,error:null};switch(p.webauthn.type){case"create":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:cv(p.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:dv(p.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(r){const{data:n,error:i}=await this._challenge({factorId:r.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:r.factorId,challengeId:n.id,code:r.code})}async _listFactors(){var r;const{data:{user:n},error:i}=await this.getUser();if(i)return{data:null,error:i};const l={all:[],phone:[],totp:[],webauthn:[]};for(const u of(r=n==null?void 0:n.factors)!==null&&r!==void 0?r:[])l.all.push(u),u.status==="verified"&&l[u.factor_type].push(u);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(){var r,n;const{data:{session:i},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=qo(i.access_token);let d=null;u.aal&&(d=u.aal);let p=d;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(w=>w.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(p="aal2");const v=u.amr||[];return{data:{currentLevel:d,nextLevel:p,currentAuthenticationMethods:v},error:null}}async _getAuthorizationDetails(r){try{return await this._useSession(async n=>{const{data:{session:i},error:l}=n;return l?this._returnResult({data:null,error:l}):i?await ee(this.fetch,"GET",`${this.url}/oauth/authorizations/${r}`,{headers:this.headers,jwt:i.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Tt})})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(r,n){try{return await this._useSession(async i=>{const{data:{session:l},error:u}=i;if(u)return this._returnResult({data:null,error:u});if(!l)return this._returnResult({data:null,error:new Tt});const d=await ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:p=>({data:p,error:null})});return d.data&&d.data.redirect_url&&Ke()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(d.data.redirect_url),d})}catch(i){if(Q(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(r,n){try{return await this._useSession(async i=>{const{data:{session:l},error:u}=i;if(u)return this._returnResult({data:null,error:u});if(!l)return this._returnResult({data:null,error:new Tt});const d=await ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:p=>({data:p,error:null})});return d.data&&d.data.redirect_url&&Ke()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(d.data.redirect_url),d})}catch(i){if(Q(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(r,n={keys:[]}){let i=n.keys.find(p=>p.kid===r);if(i)return i;const l=Date.now();if(i=this.jwks.keys.find(p=>p.kid===r),i&&this.jwks_cached_at+xg>l)return i;const{data:u,error:d}=await ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=l,i=u.keys.find(p=>p.kid===r),!i)?null:i}async getClaims(r,n={}){try{let i=r;if(!i){const{data:S,error:C}=await this.getSession();if(C||!S.session)return this._returnResult({data:null,error:C});i=S.session.access_token}const{header:l,payload:u,signature:d,raw:{header:p,payload:m}}=qo(i);n!=null&&n.allowExpired||Wg(u.exp);const v=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!v){const{error:S}=await this.getUser(i);if(S)throw S;return{data:{claims:u,header:l,signature:d},error:null}}const w=qg(l.alg),x=await crypto.subtle.importKey("jwk",v,w,!0,["verify"]);if(!await crypto.subtle.verify(w,x,d,Og(`${p}.${m}`)))throw new ol("Invalid JWT signature");return{data:{claims:u,header:l,signature:d},error:null}}catch(i){if(Q(i))return this._returnResult({data:null,error:i});throw i}}}ls.nextInstanceID={};const bv=ls;class kv extends bv{constructor(r){super(r)}}class Sv{constructor(r,n,i){var l,u,d;this.supabaseUrl=r,this.supabaseKey=n;const p=gg(r);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const m=`sb-${p.hostname.split(".")[0]}-auth-token`,v={db:lg,realtime:cg,auth:Object.assign(Object.assign({},ug),{storageKey:m}),global:og},w=mg(i??{},v);this.storageKey=(l=w.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(u=w.global.headers)!==null&&u!==void 0?u:{},w.accessToken?(this.accessToken=w.accessToken,this.auth=new Proxy({},{get:(x,k)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(k)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=w.auth)!==null&&d!==void 0?d:{},this.headers,w.global.fetch),this.fetch=fg(n,this._getAccessToken.bind(this),w.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},w.realtime)),this.accessToken&&this.accessToken().then(x=>this.realtime.setAuth(x)).catch(x=>console.warn("Failed to set initial Realtime auth token:",x)),this.rest=new vm(new URL("rest/v1",p).href,{headers:this.headers,schema:w.db.schema,fetch:this.fetch}),this.storage=new sg(this.storageUrl.href,this.headers,this.fetch,i==null?void 0:i.storage),w.accessToken||this._listenForAuthEvents()}get functions(){return new fm(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,n={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,n,i)}channel(r,n={config:{}}){return this.realtime.channel(r,n)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r,n;if(this.accessToken)return await this.accessToken();const{data:i}=await this.auth.getSession();return(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:n,detectSessionInUrl:i,storage:l,userStorage:u,storageKey:d,flowType:p,lock:m,debug:v,throwOnError:w},x,k){const S={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new kv({url:this.authUrl.href,headers:Object.assign(Object.assign({},S),x),storageKey:d,autoRefreshToken:r,persistSession:n,detectSessionInUrl:i,storage:l,userStorage:u,flowType:p,lock:m,debug:v,throwOnError:w,fetch:k,hasCustomAuthorizationHeader:Object.keys(this.headers).some(C=>C.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new Im(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r==null?void 0:r.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(r,n,i){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const jv=(o,r,n)=>new Sv(o,r,n);function Ev(){if(typeof window<"u"||typeof process>"u")return!1;const o=process.version;if(o==null)return!1;const r=o.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Ev()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Nv="https://jzvsxcvcyggfoypcxoea.supabase.co",Tv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp6dnN4Y3ZjeWdnZm95cGN4b2VhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMxMTYyMTcsImV4cCI6MjA3ODY5MjIxN30.hz_eZ75gBSpsQpMSXDIKT87olq4rj0JMXFhO9KCBveM",Di=jv(Nv,Tv),Ko=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Cv=()=>{const[o,r]=ne.useState(!1),[n,i]=ne.useState({name:"",email:"",rating:5,message:"",photo:null,avatar:Ko[0]}),[l,u]=ne.useState(!1),[d,p]=ne.useState(""),[m,v]=ne.useState(!1),w=P=>{const{name:O,value:B}=P.target;i(F=>({...F,[O]:O==="rating"?parseInt(B):B}))},x=P=>{var B;const O=(B=P.target.files)==null?void 0:B[0];if(O){const F=new FileReader;F.onloadend=()=>{i(D=>({...D,photo:F.result}))},F.readAsDataURL(O)}},k=()=>{i(P=>({...P,photo:null}))},S=()=>{const P=Ko,O=P[Math.floor(Math.random()*P.length)];i(B=>({...B,avatar:O}))},C=async P=>{P.preventDefault(),u(!0),p("");try{const{data:O,error:B}=await Di.from("reviews").insert([{name:n.name,email:n.email,rating:n.rating,message:n.message,photo:n.photo,avatar:n.avatar}]);if(B)throw B;console.log("Review submitted successfully:",O),v(!0),i({name:"",email:"",rating:5,message:"",photo:null,avatar:Ko[0]}),setTimeout(()=>{r(!1),v(!1)},3e3)}catch(O){console.error("Error submitting review:",O),p("Error submitting review. Please try again.")}finally{u(!1)}};return f.jsxs(f.Fragment,{children:[f.jsx("footer",{className:"mt-16 border-t bg-slate-50",children:f.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8 text-sm text-slate-600 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[f.jsxs("div",{className:"md:text-left text-center",children:[f.jsx("p",{className:"font-medium",children:"Homemade Snacks  Subscription Service"}),f.jsx("p",{children:" Fresh homemade small-batch snacks"})]}),f.jsx("div",{className:"flex gap-4 items-center justify-center md:justify-end",children:f.jsx("button",{onClick:()=>r(!0),className:"inline-flex items-center justify-center rounded-full bg-amber-500 hover:bg-amber-600 text-white px-6 py-2 text-sm font-semibold shadow-sm transition-colors",children:"Review"})})]})}),o&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:f.jsx("div",{className:"bg-white rounded-lg shadow-lg max-w-sm w-full p-4",children:m?f.jsxs("div",{className:"flex flex-col items-center justify-center py-6",children:[f.jsx("div",{className:"text-5xl mb-2",children:""}),f.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Thank You!"}),f.jsx("p",{className:"text-xs text-slate-600 text-center",children:"We appreciate your review"})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex justify-between items-center mb-3",children:[f.jsx("h2",{className:"text-sm font-semibold text-slate-900",children:"Leave a Review"}),f.jsx("button",{onClick:()=>r(!1),className:"text-slate-400 hover:text-slate-600 text-lg",children:""})]}),d&&f.jsx("div",{className:"mb-2 p-2 rounded text-xs bg-red-100 text-red-700",children:d}),f.jsxs("form",{onSubmit:C,className:"space-y-2.5",children:[f.jsx("div",{children:f.jsx("input",{type:"text",name:"name",value:n.name,onChange:w,required:!0,className:"w-full px-3 py-1.5 text-xs border border-slate-200 rounded-full focus:outline-none focus:ring-1 focus:ring-amber-500",placeholder:"Your name"})}),f.jsx("div",{children:f.jsx("input",{type:"email",name:"email",value:n.email,onChange:w,required:!0,className:"w-full px-3 py-1.5 text-xs border border-slate-200 rounded-full focus:outline-none focus:ring-1 focus:ring-amber-500",placeholder:"your@email.com"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-xs font-medium text-slate-700 mb-1",children:"Rating"}),f.jsx("div",{className:"flex gap-1 text-xl",children:[1,2,3,4,5].map(P=>f.jsx("button",{type:"button",onClick:()=>i(O=>({...O,rating:P})),className:`transition-transform hover:scale-125 ${P<=n.rating?"text-yellow-400":"text-gray-300"}`,children:""},P))})]}),f.jsxs("div",{className:"border-t border-slate-200 pt-2",children:[f.jsx("p",{className:"text-xs font-medium text-slate-700 mb-1.5",children:"Select Your Avatar"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{type:"button",onClick:S,className:"px-2.5 py-1 text-xs bg-amber-500 hover:bg-amber-600 text-white rounded-full transition-colors font-medium",children:"Generate"}),f.jsx("div",{className:"text-2xl",children:n.avatar})]})]}),f.jsx("div",{children:f.jsx("textarea",{name:"message",value:n.message,onChange:w,required:!0,rows:2,className:"w-full px-3 py-1.5 text-xs border border-slate-200 rounded-2xl focus:outline-none focus:ring-1 focus:ring-amber-500 resize-none",placeholder:"Your experience..."})}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("label",{className:"px-2.5 py-1 text-xs bg-amber-500 hover:bg-amber-600 text-white rounded-full transition-colors font-medium",children:["Add Photo",f.jsx("input",{type:"file",accept:"image/*",onChange:x,className:"hidden"})]}),n.photo&&f.jsxs("div",{className:"relative",children:[f.jsx("img",{src:n.photo,alt:"preview",className:"h-10 w-10 object-cover rounded-full border-2 border-amber-500"}),f.jsx("button",{type:"button",onClick:k,className:"absolute -top-1.5 -right-1.5 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs hover:bg-red-600",children:""})]})]}),f.jsxs("div",{className:"flex gap-2 pt-1",children:[f.jsx("button",{type:"button",onClick:()=>r(!1),className:"flex-1 px-3 py-1.5 text-xs text-slate-700 border border-slate-300 rounded-full hover:bg-slate-50 font-medium transition-colors",children:"Cancel"}),f.jsx("button",{type:"submit",disabled:l,className:"flex-1 px-3 py-1.5 text-xs bg-amber-500 hover:bg-amber-600 disabled:bg-amber-400 text-white rounded-full font-medium transition-colors",children:l?"...":"Submit"})]})]})]})})})]})},Ov=({onNavigate:o})=>{const[r,n]=ne.useState([]),[i,l]=ne.useState(0),[u,d]=ne.useState(!0),{t:p}=Ut();ne.useEffect(()=>{m()},[]);const m=async()=>{try{const{data:x,error:k}=await Di.from("reviews").select("id, avatar, name, rating, message, photo").gte("rating",4).order("created_at",{ascending:!1});if(k)throw k;x&&x.length>0&&n(x),d(!1)}catch(x){console.error("Error fetching testimonials:",x),d(!1)}};ne.useEffect(()=>{if(r.length===0)return;const x=setInterval(()=>{l(k=>(k+1)%r.length)},5e3);return()=>clearInterval(x)},[r]);const v=x=>f.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(k=>f.jsx("span",{className:k<=x?"text-yellow-400 text-sm":"text-gray-300 text-sm",children:""},k))});if(u||r.length===0)return f.jsx("section",{className:"grid md:grid-cols-2 gap-10 items-center mb-16",children:f.jsxs("div",{className:"space-y-5",children:[f.jsxs("p",{className:"inline-flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.2em] text-amber-600 bg-amber-50 rounded-full px-3 py-1",children:[f.jsx("span",{className:"text-base",children:""})," ",p("hero_tagline")]}),f.jsxs("h1",{className:"text-[1.5rem] leading-[2rem] md:text-[2.5rem] md:leading-[3rem] font-bold tracking-tight text-slate-900",children:[p("hero_title_1"),f.jsx("br",{})," ",p("hero_title_2")]}),f.jsx("p",{className:"text-slate-600 text-base leading-relaxed md:text-lg",children:p("hero_subtitle")}),f.jsxs("ul",{className:"space-y-1 text-[0.775rem] leading-[1.25rem] text-slate-700",children:[f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-emerald-500",children:""})," ",p("hero_feature_1")]}),f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-emerald-500",children:""})," ",p("hero_feature_2")]}),f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-emerald-500",children:""})," ",p("hero_feature_3")]})]}),f.jsxs("div",{className:"flex flex-wrap items-center gap-3 pt-2",children:[f.jsx("button",{onClick:()=>o("/subscribe?plan_id=3"),className:"inline-flex items-center justify-center rounded-full bg-amber-500 hover:bg-amber-600 text-white px-6 py-2.5 text-sm font-semibold shadow-sm transition-colors",children:"One-Time Order"}),f.jsx("button",{onClick:()=>o("/plans"),className:"inline-flex items-center justify-center rounded-full border border-amber-200 text-amber-700 hover:bg-amber-50 px-5 py-2 text-xs font-medium",children:"View Plans"})]})]})});const w=r[i];return f.jsxs("section",{className:"grid md:grid-cols-2 gap-10 items-center mb-16",children:[f.jsxs("div",{className:"space-y-5",children:[f.jsxs("p",{className:"inline-flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.2em] text-amber-600 bg-amber-50 rounded-full px-3 py-1",children:[f.jsx("span",{className:"text-base",children:""})," ",p("hero_tagline")]}),f.jsxs("h1",{className:"text-[1.075rem] leading-[1.55rem] md:text-[1.65rem] md:leading-[2rem] font-bold tracking-tight text-slate-900",children:[p("hero_title_1"),f.jsx("br",{})," ",p("hero_title_2")]}),f.jsx("p",{className:"text-slate-600 text-[0.775rem] leading-[1.25rem] md:text-base",children:p("hero_subtitle")}),f.jsxs("ul",{className:"space-y-1 text-[0.775rem] leading-[1.25rem] text-slate-700",children:[f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-emerald-500",children:""})," ",p("hero_feature_1")]}),f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-emerald-500",children:""})," ",p("hero_feature_2")]}),f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-emerald-500",children:""})," ",p("hero_feature_3")]})]}),f.jsxs("div",{className:"flex flex-wrap items-center gap-3 pt-2",children:[f.jsx("button",{onClick:()=>o("/subscribe?plan_id=3"),className:"inline-flex items-center justify-center rounded-full bg-amber-500 hover:bg-amber-600 text-white px-6 py-2.5 text-sm font-semibold shadow-sm transition-colors",children:"One-Time Order"}),f.jsx("button",{onClick:()=>o("/plans"),className:"inline-flex items-center justify-center rounded-full border border-amber-200 text-amber-700 hover:bg-amber-50 px-5 py-2 text-xs font-medium",children:"View Plans"})]}),f.jsxs("div",{className:"flex items-center gap-2 text-[10px] md:text-xs text-emerald-700 bg-emerald-50 rounded-full px-3 py-1.5 w-fit",children:[f.jsx("span",{className:"text-sm",children:""}),f.jsx("span",{className:"font-medium",children:p("hero_sample_onetime")})]})]}),f.jsx("div",{className:"relative",children:f.jsx("div",{className:"aspect-[4/3] w-full rounded-3xl p-5 bg-gradient-to-tr from-amber-100 via-rose-50 to-orange-100 shadow-inner border border-amber-100 flex items-center justify-center",children:f.jsxs("div",{className:"w-[92%] h-[92%] bg-white/80 backdrop-blur rounded-2xl p-5 shadow-md border border-amber-100 flex flex-col gap-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-amber-200 to-orange-200 flex items-center justify-center text-3xl border border-amber-200 shadow",children:w.avatar}),f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold text-slate-900",children:w.name}),f.jsx("div",{children:v(w.rating)})]})]}),f.jsxs("p",{className:"text-sm text-slate-800 leading-relaxed",children:['"',w.message,'"']}),w.photo&&f.jsx("img",{src:w.photo,alt:"review",className:"w-full h-32 md:h-40 object-cover rounded-xl shadow border border-amber-100"}),f.jsx("div",{className:"flex items-center gap-2 pt-2 self-center",children:r.map((x,k)=>f.jsx("button",{onClick:()=>l(k),className:`h-2 rounded-full transition-all ${k===i?"w-4 bg-amber-600":"w-2 bg-amber-300"}`},k))})]})})})]})},Pv=({onNavigate:o})=>{const{t:r}=Ut();return f.jsxs("section",{className:"mb-16",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("h2",{className:"text-[1.075rem] leading-[1.55rem] md:text-[1.65rem] md:leading-[2rem] font-semibold text-slate-900",children:r("how_it_works_title")}),f.jsx("p",{className:"text-[0.775rem] leading-[1.25rem] md:text-base text-slate-600 mt-1",children:r("how_it_works_desc")})]}),f.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[f.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm flex flex-col gap-2",children:[f.jsx("div",{className:"w-9 h-9 rounded-full bg-amber-100 text-amber-700 flex items-center justify-center font-bold text-sm",children:"1"}),f.jsx("h3",{className:"font-semibold text-slate-900 text-[0.775rem] leading-[1.25rem]",children:r("step_1_title")}),f.jsx("p",{className:"text-[0.775rem] leading-[1.25rem] text-slate-600",children:r("step_1_desc")})]}),f.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm flex flex-col gap-2",children:[f.jsx("div",{className:"w-9 h-9 rounded-full bg-amber-100 text-amber-700 flex items-center justify-center font-bold text-sm",children:"2"}),f.jsx("h3",{className:"font-semibold text-slate-900 text-[0.775rem] leading-[1.25rem]",children:r("step_2_title")}),f.jsx("p",{className:"text-[0.775rem] leading-[1.25rem] text-slate-600",children:r("step_2_desc")})]}),f.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm flex flex-col gap-2",children:[f.jsx("div",{className:"w-9 h-9 rounded-full bg-amber-100 text-amber-700 flex items-center justify-center font-bold text-sm",children:"3"}),f.jsx("h3",{className:"font-semibold text-slate-900 text-[0.775rem] leading-[1.25rem]",children:r("step_3_title")}),f.jsx("p",{className:"text-[0.775rem] leading-[1.25rem] text-slate-600",children:r("step_3_desc")})]})]}),f.jsx("div",{className:"mt-8 text-center",children:f.jsx("button",{onClick:()=>o("/plans"),className:"inline-flex items-center justify-center rounded-full bg-amber-500 hover:bg-amber-600 text-white px-6 py-2 text-sm font-semibold shadow-sm",children:"View Subscription Plans"})})]})},Qd=[{id:1,name:"Monthly Snack Box",description:"A fresh selection of homemade snacks every month.",price:15,default_frequency:"monthly",delivery_days_available:["sunday","saturday"],items:[{product_id:1,product_name:"Unniyappam",quantity:10},{product_id:2,product_name:"Banana Chips (Sweet)",quantity:1}],is_active:!0},{id:2,name:"Bi-Weekly Family Box",description:"Perfect for families, delivered every two weeks.",price:25,default_frequency:"bi-weekly",delivery_days_available:["sunday","saturday"],items:[{product_id:1,product_name:"Unniyappam",quantity:15},{product_id:7,product_name:"Mixture",quantity:1}],is_active:!0},{id:3,name:"Sample Snack Box (One-time)",description:"One-time sample box with a curated mix of sweet, spicy and salted snacks. No recurring subscription.",price:10,default_frequency:"sample",delivery_days_available:["sunday","saturday"],items:[{product_id:1,product_name:"Unniyappam",quantity:6},{product_id:2,product_name:"Banana Chips (Sweet)",quantity:1},{product_id:9,product_name:"Banana Chips (Salt)",quantity:1},{product_id:7,product_name:"Mixture",quantity:1}],is_active:!0}],Rv=[{id:1,name:"Unniyappam",description:"Traditional Kerala sweet made with rice flour, banana & jaggery.",unit:"1 pc",price:.3,category:"sweets",image:new URL("/Homemade-Snacks/assets/unniyappam-BiBgAeXL.png",import.meta.url).href},{id:2,name:"Banana Chips (Sweet)",description:"Crispy sweet banana chips made Kerala-style.",unit:"150g",price:3,category:"sweets",image:new URL("/Homemade-Snacks/assets/banana-chips-C4eCDETg.jpg",import.meta.url).href},{id:3,name:"Achappam",description:"Rose cookies  crispy, lightly sweet Kerala snack.",unit:"10 pcs",price:3,category:"sweets",image:new URL("/Homemade-Snacks/assets/achappam-B1Tego3X.jpg",import.meta.url).href},{id:4,name:"Cutlets (Chicken)",description:"Spicy Kerala-style chicken cutlets.",unit:"1 pc",price:2,category:"spicy",image:new URL("/Homemade-Snacks/assets/cutlets-Dm7IgwCa.jpg",import.meta.url).href},{id:5,name:"Cutlets (Beef)",description:"Homemade beef cutlets with spices.",unit:"1 pc",price:2.5,category:"spicy",image:new URL("/Homemade-Snacks/assets/cutlets-Dm7IgwCa.jpg",import.meta.url).href},{id:6,name:"Cutlets (Veg)",description:"Mixed vegetable Kerala cutlets.",unit:"1 pc",price:2,category:"spicy",image:new URL("/Homemade-Snacks/assets/cutlets-Dm7IgwCa.jpg",import.meta.url).href},{id:7,name:"Mixture",description:"Spicy Kerala mixture made with sev, peanuts & curry leaves.",unit:"170g",price:3,category:"spicy",image:new URL("/Homemade-Snacks/assets/mixture-DsZk1roH.png",import.meta.url).href},{id:8,name:"Pakkavada",description:"Fried spicy ribbon pakkavada.",unit:"150g",price:3,category:"spicy",image:new URL("/Homemade-Snacks/assets/pakkavada-BlV5loOn.png",import.meta.url).href},{id:9,name:"Banana Chips (Salt)",description:"Crispy salted Kerala banana chips.",unit:"150g",price:3,category:"salt",image:new URL("/Homemade-Snacks/assets/banana-chips-C4eCDETg.jpg",import.meta.url).href},{id:10,name:"Bombe Mixture",description:"Salted version of Kerala mixture with mild spices.",unit:"170g",price:3,category:"salt",image:new URL("/Homemade-Snacks/assets/bombe-mixture-9YQY3GtY.jpg",import.meta.url).href}],Yd=o=>{switch(o){case"sweets":return"";case"spicy":return"";case"salt":return"";default:return""}},Av=({snack:o,isOpen:r,onClose:n,variant:i="colorful"})=>r?i==="minimal"?f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm animate-in fade-in duration-200",onClick:n,children:f.jsxs("div",{className:"bg-white rounded-[2rem] p-8 max-w-sm w-full shadow-2xl relative animate-in zoom-in-95 duration-200",onClick:l=>l.stopPropagation(),children:[f.jsx("button",{onClick:n,className:"absolute top-6 right-6 p-2 rounded-full hover:bg-slate-100 transition-colors",children:f.jsx("svg",{className:"w-5 h-5 text-slate-400 hover:text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),f.jsxs("div",{className:"flex flex-col items-center text-center",children:[f.jsx("div",{className:"w-32 h-32 mb-6 rounded-full bg-slate-50 flex items-center justify-center p-4",children:f.jsx("img",{src:o.image,alt:o.name,className:"w-full h-full object-contain drop-shadow-md"})}),f.jsx("span",{className:"text-xs font-semibold tracking-wider text-amber-500 uppercase mb-2",children:o.category}),f.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-2",children:o.name}),f.jsx("p",{className:"text-slate-500 text-sm leading-relaxed mb-6",children:o.description}),f.jsxs("div",{className:"w-full flex items-center justify-between pt-6 border-t border-slate-100",children:[f.jsxs("span",{className:"text-2xl font-bold text-slate-900",children:["",o.price.toFixed(2)]}),f.jsx("span",{className:"text-sm font-medium text-slate-400",children:o.unit})]})]})]})}):i==="colorful"?f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-md animate-in fade-in duration-200",onClick:n,children:f.jsxs("div",{className:"bg-white rounded-3xl overflow-hidden max-w-sm w-full shadow-2xl relative animate-in slide-in-from-bottom-4 duration-300",onClick:l=>l.stopPropagation(),children:[f.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-amber-400 to-orange-500 flex items-center justify-center",children:[f.jsx("button",{onClick:n,className:"absolute top-4 right-4 z-10 p-2 bg-white/20 hover:bg-white/30 rounded-full text-white backdrop-blur-sm transition-all",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),f.jsx("img",{src:o.image,alt:o.name,className:"w-full h-full object-cover transform hover:scale-105 transition-transform duration-300"}),f.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-10 bg-white rounded-t-[2rem] z-10"})]}),f.jsxs("div",{className:"px-8 pb-8 text-center -mt-4 relative z-10",children:[f.jsxs("div",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-amber-50 text-amber-700 text-[10px] font-bold uppercase tracking-widest mb-3",children:[f.jsx("span",{children:Yd(o.category)})," ",o.category]}),f.jsx("h3",{className:"text-2xl font-extrabold text-slate-900 mb-2",children:o.name}),f.jsx("p",{className:"text-slate-600 text-sm mb-6 leading-relaxed",children:o.description}),f.jsxs("div",{className:"flex items-center justify-between bg-slate-50 rounded-2xl p-4 border border-slate-100",children:[f.jsxs("div",{className:"text-left",children:[f.jsx("p",{className:"text-[10px] text-slate-400 uppercase font-bold",children:"Price"}),f.jsxs("p",{className:"text-xl font-bold text-slate-900",children:["",o.price.toFixed(2)]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-[10px] text-slate-400 uppercase font-bold",children:"Unit"}),f.jsx("p",{className:"text-sm font-bold text-slate-700",children:o.unit})]})]})]})]})}):f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-md animate-in fade-in duration-200",onClick:n,children:f.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-3xl p-8 max-w-sm w-full shadow-2xl relative animate-in zoom-in-95 duration-200",onClick:l=>l.stopPropagation(),children:[f.jsx("button",{onClick:n,className:"absolute top-5 right-5 w-8 h-8 flex items-center justify-center rounded-full bg-slate-800 text-slate-400 hover:bg-slate-700 hover:text-white transition-all",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),f.jsxs("div",{className:"flex flex-col gap-6",children:[f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-bold text-amber-500 uppercase tracking-widest mb-1",children:"Featured Snack"}),f.jsx("h2",{className:"text-3xl font-bold text-white",children:o.name})]}),f.jsx("div",{className:"text-2xl",children:Yd(o.category)})]}),f.jsxs("div",{className:"w-full aspect-video rounded-2xl bg-gradient-to-br from-slate-800 to-slate-900 border border-slate-700 flex items-center justify-center relative overflow-hidden group",children:[f.jsx("div",{className:"absolute inset-0 bg-amber-500/10 blur-3xl rounded-full transform translate-y-12"}),f.jsx("img",{src:o.image,alt:o.name,className:"w-32 h-32 object-contain drop-shadow-2xl relative z-10 group-hover:scale-110 transition-transform duration-500"})]}),f.jsx("div",{children:f.jsx("p",{className:"text-slate-400 text-sm leading-relaxed border-l-2 border-slate-700 pl-4",children:o.description})}),f.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[f.jsxs("div",{className:"flex-1 bg-slate-800 rounded-xl p-3 flex items-center justify-between border border-slate-700",children:[f.jsx("span",{className:"text-slate-400 text-xs",children:"Unit"}),f.jsx("span",{className:"text-white font-medium",children:o.unit})]}),f.jsxs("div",{className:"flex-1 bg-amber-500 rounded-xl p-3 flex items-center justify-between shadow-lg shadow-amber-500/20",children:[f.jsx("span",{className:"text-amber-900 text-xs font-bold uppercase",children:"Price"}),f.jsxs("span",{className:"text-white font-bold text-lg",children:["",o.price.toFixed(2)]})]})]})]})]})}):null,Iv=o=>{switch(o){case"sweets":return"";case"spicy":return"";case"salt":return"";default:return""}},Lv=()=>{const[o,r]=ne.useState(null);return f.jsxs("section",{children:[f.jsx(Av,{snack:o,isOpen:!!o,onClose:()=>r(null),variant:"colorful"}),f.jsxs("div",{className:"text-center mb-6",children:[f.jsx("h2",{className:"text-2xl font-semibold text-slate-900",children:"Featured Snacks"}),f.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"A sneak peek at the homemade goodies that may appear in your box."})]}),f.jsx("div",{className:"grid sm:grid-cols-2 gap-4",children:Rv.map(i=>f.jsxs("div",{onClick:()=>r(i),className:"group cursor-pointer bg-white rounded-3xl shadow-md border border-slate-100 px-4 py-3 flex items-center justify-between gap-3 transition-all duration-300 hover:shadow-xl hover:scale-[1.02] hover:border-amber-100",children:[f.jsxs("div",{className:"flex flex-col gap-1 min-w-0",children:[f.jsx("h3",{className:"font-semibold text-slate-900 text-sm truncate group-hover:text-amber-700 transition-colors",children:i.name}),f.jsxs("p",{className:"text-[11px] text-slate-500 flex items-center gap-1",children:[f.jsx("span",{className:"text-[13px]",children:Iv(i.category)}),f.jsxs("span",{className:"truncate",children:[i.unit," "," ",i.category==="sweets"?"Sweet":i.category==="spicy"?"Spicy":"Savory"]})]}),f.jsxs("p",{className:"text-xs font-semibold text-amber-600",children:["",i.price.toFixed(2)]})]}),f.jsx("div",{className:"flex-shrink-0",children:f.jsx("div",{className:"w-14 h-14 sm:w-16 sm:h-16 rounded-2xl bg-gradient-to-br from-amber-50 via-orange-50 to-yellow-100 shadow-inner flex items-center justify-center overflow-hidden transition-transform group-hover:rotate-6",children:f.jsx("img",{src:i.image,alt:i.name,className:"w-full h-full object-cover"})})})]},i.id))})]})},Uv=()=>{const{t:o}=Ut();return f.jsxs("aside",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[f.jsx("h1",{className:"text-2xl font-semibold text-slate-900 mb-2",children:o("contact_title")}),f.jsx("p",{className:"text-sm text-slate-600 mb-4",children:o("contact_description")}),f.jsx("div",{className:"space-y-2 text-sm text-slate-700",children:f.jsxs("ul",{className:"space-y-2 text-sm text-slate-700 list-disc pl-4",children:[f.jsx("li",{children:o("contact_point_1")}),f.jsx("li",{children:o("contact_point_2")}),f.jsx("li",{children:o("contact_point_3")}),f.jsx("li",{children:o("contact_point_4")})]})})]})},Dv=()=>{const[o,r]=ne.useState(""),[n,i]=ne.useState(""),[l,u]=ne.useState(""),[d,p]=ne.useState(""),[m,v]=ne.useState(!1),[w,x]=ne.useState(!1),k=async S=>{if(S.preventDefault(),v(!1),!o.trim()||!d.trim()){console.warn("Name and message are required");return}const C={name:o.trim(),email:n.trim()||null,phone:l.trim()||null,message:d.trim(),source:"website",status:"new"};try{x(!0);const{data:P,error:O}=await Di.from("contact_messages").insert([C]).select().single();if(O){console.error("Supabase contact insert error",O),x(!1);return}console.log("Contact message stored",P),r(""),i(""),u(""),p(""),x(!1),v(!0),setTimeout(()=>v(!1),4e3)}catch(P){console.error("Unexpected error submitting contact form",P),x(!1)}};return f.jsxs("section",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[f.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-1",children:"Send us a message"}),f.jsx("p",{className:"text-xs text-slate-600 mb-4",children:"Fill in the form and well reach out as soon as we can."}),m&&f.jsx("div",{className:"mb-3 rounded-md border border-emerald-200 bg-emerald-50 px-3 py-2 text-xs text-emerald-700",children:"Thank you! Your message has been sent."}),f.jsxs("form",{onSubmit:k,className:"space-y-3 text-xs",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block font-medium text-slate-800 mb-1",children:"Name"}),f.jsx("input",{type:"text",className:"w-full rounded-md border px-3 py-2 text-xs focus:outline-none focus:ring-2 focus:ring-amber-400",value:o,onChange:S=>r(S.target.value)})]}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block font-medium text-slate-800 mb-1",children:"Email"}),f.jsx("input",{type:"email",className:"w-full rounded-md border px-3 py-2 text-xs focus:outline-none focus:ring-2 focus:ring-amber-400",value:n,onChange:S=>i(S.target.value)})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block font-medium text-slate-800 mb-1",children:"Phone / WhatsApp Number"}),f.jsx("input",{type:"tel",className:"w-full rounded-md border px-3 py-2 text-xs focus:outline-none focus:ring-2 focus:ring-amber-400",value:l,onChange:S=>u(S.target.value)})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block font-medium text-slate-800 mb-1",children:"Message"}),f.jsx("textarea",{className:"w-full rounded-md border px-3 py-2 text-xs min-h-[80px] resize-y focus:outline-none focus:ring-2 focus:ring-amber-400",value:d,onChange:S=>p(S.target.value)})]}),f.jsx("div",{className:"pt-2 flex items-center gap-3",children:f.jsx("button",{type:"submit",disabled:w,className:"inline-flex items-center justify-center rounded-full bg-amber-500 hover:bg-amber-600 text-white px-6 py-2 text-sm font-semibold shadow-sm disabled:opacity-60 disabled:cursor-not-allowed",children:w?"Sending...":"Send"})})]})]})},$v=()=>{const{t:o}=Ut();return f.jsxs("section",{id:"faq",className:"mt-4 rounded-2xl border bg-white p-5 shadow-sm",children:[f.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-3",children:o("faq_title")}),f.jsxs("div",{className:"space-y-3 text-sm text-slate-700",children:[f.jsxs("details",{className:"rounded-md border border-slate-100 bg-slate-50 px-3 py-2",children:[f.jsx("summary",{className:"cursor-pointer font-medium",children:o("faq_q1")}),f.jsx("p",{className:"mt-1 text-xs text-slate-600",children:o("faq_a1")})]}),f.jsxs("details",{className:"rounded-md border border-slate-100 bg-slate-50 px-3 py-2",children:[f.jsx("summary",{className:"cursor-pointer font-medium",children:o("faq_q2")}),f.jsx("p",{className:"mt-1 text-xs text-slate-600",children:o("faq_a2")})]}),f.jsxs("details",{className:"rounded-md border border-slate-100 bg-slate-50 px-3 py-2",children:[f.jsx("summary",{className:"cursor-pointer font-medium",children:o("faq_q3")}),f.jsx("p",{className:"mt-1 text-xs text-slate-600",children:o("faq_a3")})]}),f.jsxs("details",{className:"rounded-md border border-slate-100 bg-slate-50 px-3 py-2",children:[f.jsx("summary",{className:"cursor-pointer font-medium",children:o("faq_q4")}),f.jsx("p",{className:"mt-1 text-xs text-slate-600",children:o("faq_a4")})]}),f.jsxs("details",{className:"rounded-md border border-slate-100 bg-slate-50 px-3 py-2",children:[f.jsx("summary",{className:"cursor-pointer font-medium",children:o("faq_q5")}),f.jsx("p",{className:"mt-1 text-xs text-slate-600",children:o("faq_a5")})]})]})]})},Xd=o=>o.charAt(0).toUpperCase()+o.slice(1),zv=({plans:o,onNavigate:r})=>{const{t:n}=Ut(),i=l=>l==="bi-weekly"?n("val_biweekly"):l==="monthly"?n("val_monthly"):Xd(l);return f.jsxs("section",{className:"mb-12",children:[f.jsxs("section",{className:"mb-8",children:[f.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-900 mb-2",children:n("plans_title")}),f.jsx("p",{className:"text-sm text-slate-600 mb-4",children:n("plans_subtitle")}),f.jsxs("div",{className:"inline-flex items-center gap-2 bg-emerald-50 border border-emerald-100 text-emerald-800 text-xs px-4 py-2 rounded-xl",children:[f.jsx("span",{className:"text-lg",children:""}),f.jsx("span",{children:f.jsx("strong",{children:n("no_payment_banner")})})]})]}),f.jsx("section",{className:"grid md:grid-cols-2 gap-6",children:o.filter(l=>l.id!==3).map(l=>{const u=l.default_frequency==="bi-weekly",d=`plan_${l.id}_name`,p=`plan_${l.id}_desc`;return f.jsxs("article",{className:"relative rounded-2xl border bg-white p-5 pt-7 shadow-sm flex flex-col",children:[u&&f.jsx("div",{className:"absolute inset-x-0 -top-3 flex justify-center",children:f.jsx("span",{className:"inline-flex items-center rounded-full bg-gradient-to-r from-amber-400 to-amber-600 px-3 py-1 text-[10px] font-semibold uppercase tracking-[0.16em] text-white shadow-md",children:n("label_most_popular")})}),f.jsxs("div",{className:"flex items-start justify-between gap-2 mb-3",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:n(d)!==d?n(d):l.name}),f.jsx("p",{className:"text-xs text-slate-600 mt-1",children:n(p)!==p?n(p):l.description})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-[11px] uppercase tracking-[0.16em] text-slate-400",children:n("label_frequency")}),f.jsx("p",{className:"text-sm font-semibold text-amber-700",children:i(l.default_frequency)})]})]}),f.jsxs("div",{className:"mb-3",children:[f.jsx("p",{className:"text-[11px] font-semibold text-slate-700 mb-1",children:n("label_what_you_get")}),f.jsxs("ul",{className:"text-[11px] text-slate-600 list-disc pl-4 space-y-0.5",children:[f.jsx("li",{children:n("feature_1")}),f.jsx("li",{children:n("feature_2")}),f.jsx("li",{children:n("feature_3")})]})]}),f.jsxs("div",{className:"mt-auto flex items-center justify-between pt-2",children:[f.jsxs("div",{className:"text-[11px] text-slate-500",children:[f.jsx("p",{className:"font-semibold text-slate-700 mb-0.5",children:n("label_delivery_days")}),f.jsx("p",{children:l.delivery_days_available.map(m=>Xd(m)).join(", ")})]}),f.jsx("button",{onClick:()=>r(`/subscribe?plan_id=${l.id}`),className:"inline-flex items-center justify-center rounded-full bg-amber-500 hover:bg-amber-600 text-white px-4 py-1.5 text-xs font-semibold shadow-sm",children:n("btn_choose_plan")})]})]},l.id)})})]})},Bv=({onNavigate:o})=>{const{t:r}=Ut(),n=()=>{o("/subscribe?plan_id=3")};return f.jsxs("section",{className:"rounded-2xl border border-amber-100 bg-amber-50/80 p-5 flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-semibold text-amber-900 mb-1",children:r("cta_title")}),f.jsxs("p",{className:"text-xs text-amber-800 mb-2",children:[r("cta_desc_start"),f.jsx("span",{className:"font-semibold",children:r("cta_sample_box")}),r("cta_desc_end")]}),f.jsxs("ul",{className:"text-[11px] text-amber-900/90 list-disc pl-4 space-y-0.5",children:[f.jsx("li",{children:r("cta_feature_1")}),f.jsx("li",{children:r("cta_feature_2")}),f.jsx("li",{children:r("cta_feature_3")})]})]}),f.jsxs("div",{className:"flex flex-col md:flex-col items-stretch md:items-end gap-2 md:gap-3",children:[f.jsxs("p",{className:"text-[11px] text-amber-900/80 md:text-right",children:[r("cta_price_from")," ",f.jsx("span",{className:"font-semibold",children:"10.00"})," ",f.jsx("br",{className:"hidden md:block"}),r("cta_price_note")]}),f.jsxs("button",{className:"inline-flex items-center justify-center gap-2 rounded-full bg-amber-600 hover:bg-amber-700 text-white px-4 py-2.5 text-xs font-semibold shadow-sm transition-colors md:whitespace-nowrap text-center",onClick:n,children:[f.jsx("span",{className:"text-base shrink-0",children:""}),f.jsx("span",{className:"leading-tight",children:r("cta_btn_try")})]})]})]})},Go={sweets:["Banana chips (sweet) - 150g / 3","Achappam - 10 pcs / 3"],spicy:["Mixture - 170g / 3","Pakkavada - 150g / 3"],salt:["Banana chips (salt) - 150g / 3","Bombe mixture - 170g / 3"]},Mv=[{name:"Vegetable Cutlet",price:2,popular:!1},{name:"Chicken Cutlet",price:2,popular:!0},{name:"Beef Cutlet",price:2.5,popular:!1},{name:"Unniyappam",price:.3,popular:!0}],Fv=[50,100,150,200],Zd=o=>{const r=o.getFullYear(),n=String(o.getMonth()+1).padStart(2,"0"),i=String(o.getDate()).padStart(2,"0");return`${r}-${n}-${i}`},Wv=(o,r,n,i)=>{const u=new Date(o,r,1).getDay();let d=n-u;d<0&&(d+=7);const m=1+d+(i-1)*7,v=new Date(o,r,m);return v.getMonth()!==r?null:v},qv=()=>{const o=[],r=new Date;r.setHours(0,0,0,0);for(let n=0;n<3;n++){const i=new Date(r.getFullYear(),r.getMonth()+n,1),l=i.getFullYear(),u=i.getMonth();[0,6].forEach(d=>{[2,4].forEach(p=>{const m=Wv(l,u,d,p);m&&m>=r&&o.push(m)})})}return o.sort((n,i)=>n.getTime()-i.getTime())},Vv=({plan:o,onSuccess:r})=>{var Ae;const n=String(o.id)==="3",[i,l]=ne.useState({customer_name:"",phone:"",email:"",address:"",frequency:o.default_frequency||"monthly",delivery_day:((Ae=o.delivery_days_available)==null?void 0:Ae[0])||"saturday",delivery_date:"",preferred_payment_method:"cash",notes:""}),[u,d]=ne.useState({sweets:[],spicy:[],salt:[]}),[p,m]=ne.useState([]),[v,w]=ne.useState("sweets"),[x,k]=ne.useState({}),[S,C]=ne.useState(!1),[P,O]=ne.useState(""),{t:B}=Ut(),D=(()=>{let $=0;return[...u.sweets,...u.spicy,...u.salt].forEach(ue=>{const he=ue.match(/(\d+(\.\d+)?)/);he&&he[1]&&($+=parseFloat(he[1]))}),p.forEach(ue=>{$+=ue.quantity*ue.price}),$})();ne.useEffect(()=>{l($=>{var ce;return{...$,frequency:o.default_frequency||"monthly",delivery_day:(((ce=o.delivery_days_available)==null?void 0:ce[0])||$.delivery_day)??"saturday"}})},[o.id,o.default_frequency,o.delivery_days_available]);const q=($,ce)=>{l(ue=>({...ue,[$]:ce})),k(ue=>({...ue,[$]:void 0}))},ie=($,ce)=>{d(ue=>{const he=ue[$]||[],Ne=he.includes(ce)?he.filter(Me=>Me!==ce):[...he,ce];return{...ue,[$]:Ne}})},re=($,ce,ue)=>{m(he=>{const ye=he.find(Ne=>Ne.name===$);return ce===0?he.filter(Ne=>Ne.name!==$):ye?he.map(Ne=>Ne.name===$?{...Ne,quantity:ce,price:ue}:Ne):[...he,{name:$,quantity:ce,price:ue}]})},le=()=>{const $={};if(i.customer_name.trim()||($.customer_name="Full name is required"),i.phone.trim()||($.phone="Phone (WhatsApp) is required"),i.address.trim()||($.address="Address / delivery area is required"),i.delivery_date||($.delivery_date="Delivery date is required"),i.preferred_payment_method||($.preferred_payment_method="Preferred payment method is required"),n){const ce=u.sweets.length>0||u.spicy.length>0||u.salt.length>0,ue=p.length>0;!ce&&!ue&&($.snack_preferences="Please select at least one item from 'Customize your snack box' or 'Party Orders'")}return $},Ee=async $=>{$.preventDefault(),O("");const ce=le();if(Object.keys(ce).length>0){k(ce);return}C(!0);const he=Zd(new Date),ye=i.delivery_date,Me=new Date(i.delivery_date).getDay(),M=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][Me],Z=i.frequency==="bi-weekly"?"biweekly":i.frequency,z={subscription_plan_id:Number(o.id),plan_name:o.name,customer_name:i.customer_name.trim(),customer_phone:i.phone.trim(),customer_email:i.email.trim()||null,address:i.address.trim(),frequency:Z,delivery_day_of_week:M,preferred_payment_method:i.preferred_payment_method,start_date:he,next_delivery_date:ye,notes:i.notes.trim()||null,source:"website",customer_external_id:null,status:"pending",snack_preferences:u,party_items:p,plan_id:o.id,phone:i.phone.trim(),email:i.email.trim()||null,delivery_day:M};try{console.log("Submitting subscription payload",z),console.log("Party Items:",p),console.log("Snack Preferences:",u);const j={subscription_plan_id:z.subscription_plan_id,plan_name:z.plan_name,customer_name:z.customer_name,customer_phone:z.customer_phone,customer_email:z.customer_email,address:z.address,frequency:z.frequency,delivery_day_of_week:z.delivery_day_of_week,preferred_payment_method:z.preferred_payment_method,start_date:z.start_date,next_delivery_date:z.next_delivery_date,notes:z.notes,status:z.status,source:z.source,customer_external_id:z.customer_external_id,snack_preferences:u,party_items:p},{data:R,error:se}=await Di.from("customer_subscriptions").insert([j]).select().single();if(se){console.error("Supabase insert error",se),C(!1),O("Something went wrong while saving your subscription. Please try again.");return}console.log("Supabase insert success",R),C(!1),r()}catch(j){console.error(j),C(!1),O("Something went wrong while submitting your subscription. Please try again.")}};return f.jsxs("section",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[f.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-1",children:n?"One-Time Order Details":"Subscription Details"}),f.jsxs("p",{className:"text-xs text-slate-600 mb-4",children:["Fill in your details and well confirm your"," ",n?"sample box order via WhatsApp.":"subscription via WhatsApp."]}),P&&f.jsx("div",{className:"mb-3 rounded-md border border-rose-200 bg-rose-50 px-3 py-2 text-xs text-rose-700",children:P}),f.jsxs("form",{onSubmit:Ee,className:"space-y-3 text-xs",children:[f.jsxs("div",{children:[f.jsxs("label",{className:"block font-medium text-slate-800 mb-1",children:["Full Name ",f.jsx("span",{className:"text-rose-500",children:"*"})]}),f.jsx("input",{type:"text",className:"w-full rounded-md border px-3 py-2 text-xs focus:outline-none focus:ring-2 focus:ring-amber-400",value:i.customer_name,onChange:$=>q("customer_name",$.target.value)}),x.customer_name&&f.jsx("p",{className:"mt-1 text-[11px] text-rose-600",children:x.customer_name})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center justify-between mb-1",children:[f.jsxs("label",{className:"block font-medium text-slate-800",children:["Phone (WhatsApp) ",f.jsx("span",{className:"text-rose-500",children:"*"})]}),f.jsx("p",{className:"text-[10px] text-slate-500",children:"We will confirm via WhatsApp."})]}),f.jsx("input",{type:"tel",className:"w-full rounded-md border px-3 py-2 text-xs focus:outline-none focus:ring-2 focus:ring-amber-400",value:i.phone,onChange:$=>q("phone",$.target.value)}),x.phone&&f.jsx("p",{className:"mt-1 text-[11px] text-rose-600",children:x.phone})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block font-medium text-slate-800 mb-1",children:"Email (optional)"}),f.jsx("input",{type:"email",className:"w-full rounded-md border px-3 py-2 text-xs focus:outline-none focus:ring-2 focus:ring-amber-400",value:i.email,onChange:$=>q("email",$.target.value)})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block font-medium text-slate-800 mb-1",children:["Address / Delivery Area"," ",f.jsx("span",{className:"text-rose-500",children:"*"})]}),f.jsx("textarea",{className:"w-full rounded-md border px-3 py-2 text-xs min-h-[70px] resize-y focus:outline-none focus:ring-2 focus:ring-amber-400",value:i.address,onChange:$=>q("address",$.target.value)}),x.address&&f.jsx("p",{className:"mt-1 text-[11px] text-rose-600",children:x.address})]}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[f.jsxs("div",{children:[f.jsxs("label",{className:"block font-medium text-slate-800 mb-1",children:["Select Frequency ",f.jsx("span",{className:"text-rose-500",children:"*"})]}),n?f.jsx("div",{className:"w-full rounded-md border bg-amber-50 px-3 py-2 text-xs font-semibold text-amber-900",children:"Sample box (one-time)"}):f.jsxs("select",{className:"w-full rounded-md border px-3 py-2 text-xs focus:outline-none focus:ring-2 focus:ring-amber-400",value:i.frequency,onChange:$=>q("frequency",$.target.value),children:[f.jsx("option",{value:"monthly",children:"Monthly"}),f.jsx("option",{value:"bi-weekly",children:"Bi-Weekly"})]})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block font-medium text-slate-800 mb-1",children:["Select Delivery Date ",f.jsx("span",{className:"text-rose-500",children:"*"})]}),f.jsxs("select",{className:"w-full rounded-md border px-3 py-2 text-xs focus:outline-none focus:ring-2 focus:ring-amber-400",value:i.delivery_date,onChange:$=>q("delivery_date",$.target.value),children:[f.jsx("option",{value:"",children:"-- Select a delivery date --"}),qv().map($=>{const ce=Zd($),ue=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][$.getDay()],he=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][$.getMonth()],ye=`${ue}, ${he} ${$.getDate()}, ${$.getFullYear()}`;return f.jsx("option",{value:ce,children:ye},ce)})]}),x.delivery_date&&f.jsx("p",{className:"mt-1 text-[11px] text-rose-600",children:x.delivery_date}),f.jsx("p",{className:"mt-1 text-[10px] text-slate-500",children:"Only 2nd & 4th Saturday/Sunday of each month are available"})]})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block font-medium text-slate-800 mb-1",children:["Preferred Payment Method"," ",f.jsx("span",{className:"text-rose-500",children:"*"})]}),f.jsxs("div",{className:"flex flex-wrap gap-3 text-xs",children:[f.jsxs("label",{className:"inline-flex items-center gap-2",children:[f.jsx("input",{type:"radio",name:"payment_method",value:"cash",checked:i.preferred_payment_method==="cash",onChange:$=>q("preferred_payment_method",$.target.value)}),"Cash"]}),f.jsxs("label",{className:"inline-flex items-center gap-2",children:[f.jsx("input",{type:"radio",name:"payment_method",value:"revolut",checked:i.preferred_payment_method==="revolut",onChange:$=>q("preferred_payment_method",$.target.value)}),"Revolut"]})]}),x.preferred_payment_method&&f.jsx("p",{className:"mt-1 text-[11px] text-rose-600",children:x.preferred_payment_method})]}),f.jsxs("div",{children:[f.jsx("p",{className:"block font-medium text-slate-800 mb-1",children:"Customize your snack box"}),f.jsx("p",{className:"text-[11px] text-slate-500 mb-3",children:"Choose what you'd like to see more often in your subscription. We'll do our best to match your preferences."}),f.jsxs("div",{className:"rounded-xl border border-slate-200 overflow-hidden shadow-sm bg-white",children:[f.jsxs("div",{className:"flex gap-1 border-b border-slate-200 bg-slate-50/50 px-2 pt-2",children:[f.jsxs("button",{type:"button",onClick:()=>w("sweets"),className:`relative px-4 py-2 text-xs font-medium transition-all rounded-t-lg ${v==="sweets"?"text-amber-700 bg-white":"text-slate-600 hover:text-slate-800 hover:bg-white/50"}`,children:[f.jsxs("span",{className:"flex items-center gap-1.5",children:[f.jsx("span",{children:""})," Sweets"]}),v==="sweets"&&f.jsx("span",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-amber-400 to-orange-400"})]}),f.jsxs("button",{type:"button",onClick:()=>w("spicy"),className:`relative px-4 py-2 text-xs font-medium transition-all rounded-t-lg ${v==="spicy"?"text-amber-700 bg-white":"text-slate-600 hover:text-slate-800 hover:bg-white/50"}`,children:[f.jsxs("span",{className:"flex items-center gap-1.5",children:[f.jsx("span",{children:""})," Spicy"]}),v==="spicy"&&f.jsx("span",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-amber-400 to-orange-400"})]}),f.jsxs("button",{type:"button",onClick:()=>w("salt"),className:`relative px-4 py-2 text-xs font-medium transition-all rounded-t-lg ${v==="salt"?"text-amber-700 bg-white":"text-slate-600 hover:text-slate-800 hover:bg-white/50"}`,children:[f.jsxs("span",{className:"flex items-center gap-1.5",children:[f.jsx("span",{children:""})," Salt"]}),v==="salt"&&f.jsx("span",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-amber-400 to-orange-400"})]})]}),f.jsxs("div",{className:"snack-tab-content p-4 min-h-[140px]",children:[v==="sweets"&&f.jsx("div",{className:"grid md:grid-cols-2 gap-3 text-[11px]",children:Go.sweets.map($=>f.jsxs("label",{className:"flex items-center gap-3 p-2.5 rounded-lg hover:bg-white/80 cursor-pointer transition-all",children:[f.jsx("input",{type:"checkbox",checked:u.sweets.includes($),onChange:()=>ie("sweets",$),className:"snack-checkbox"}),f.jsx("span",{className:"text-slate-700",children:$})]},$))}),v==="spicy"&&f.jsx("div",{className:"grid md:grid-cols-2 gap-3 text-[11px]",children:Go.spicy.map($=>f.jsxs("label",{className:"flex items-center gap-3 p-2.5 rounded-lg hover:bg-white/80 cursor-pointer transition-all",children:[f.jsx("input",{type:"checkbox",checked:u.spicy.includes($),onChange:()=>ie("spicy",$),className:"snack-checkbox"}),f.jsx("span",{className:"text-slate-700",children:$})]},$))}),v==="salt"&&f.jsx("div",{className:"grid md:grid-cols-2 gap-3 text-[11px]",children:Go.salt.map($=>f.jsxs("label",{className:"flex items-center gap-3 p-2.5 rounded-lg hover:bg-white/80 cursor-pointer transition-all",children:[f.jsx("input",{type:"checkbox",checked:u.salt.includes($),onChange:()=>ie("salt",$),className:"snack-checkbox"}),f.jsx("span",{className:"text-slate-700",children:$})]},$))})]})]}),n&&f.jsxs("div",{className:"mt-4",children:[f.jsxs("p",{className:"block font-medium text-slate-800 mb-1 flex items-center gap-2",children:[f.jsx("span",{children:""})," Party Orders (Bulk)"]}),f.jsx("p",{className:"text-[11px] text-slate-500 mb-3",children:"Minimum order quantities for events and parties."}),f.jsx("div",{className:"space-y-3",children:Mv.map($=>{const ce=p.find(ye=>ye.name===$.name),ue=(ce==null?void 0:ce.quantity)||0,he=ue*$.price;return f.jsxs("div",{className:"relative rounded-xl border border-slate-200 bg-gradient-to-br from-white to-amber-50/20 p-4 hover:shadow-md transition-all",children:[$.popular&&f.jsx("span",{className:"absolute -top-2 -right-2 bg-gradient-to-r from-amber-500 to-orange-500 text-white text-[9px] font-bold px-2 py-0.5 rounded-full shadow-sm flex items-center gap-1",children:" Popular"}),f.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("h4",{className:"font-semibold text-slate-800 text-sm mb-0.5",children:$.name}),f.jsxs("p",{className:"text-[11px] text-slate-500",children:["",$.price.toFixed(2)," per piece"]})]}),ue>0&&f.jsxs("div",{className:"text-right",children:[f.jsxs("p",{className:"text-xs font-semibold text-amber-700",children:["",he.toFixed(2)]}),f.jsxs("p",{className:"text-[10px] text-slate-500",children:[ue," pcs"]})]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("label",{className:"text-[11px] text-slate-600 font-medium whitespace-nowrap",children:"Quantity:"}),f.jsxs("select",{className:"party-select flex-1 max-w-[200px] rounded-lg border border-slate-300 px-3 py-2 text-xs focus:outline-none focus:ring-2 focus:ring-amber-400 focus:border-amber-400 transition-all",value:ue,onChange:ye=>{const Ne=parseInt(ye.target.value);re($.name,Ne,$.price)},children:[f.jsx("option",{value:"0",className:"party-option",children:"Select quantity"}),Fv.map(ye=>f.jsxs("option",{value:ye,className:"party-option",children:[ye," pieces"]},ye))]})]})]},$.name)})})]}),x.snack_preferences&&f.jsx("p",{className:"mt-1 text-[11px] text-rose-600",children:x.snack_preferences})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block font-medium text-slate-800 mb-1",children:"Notes (optional)"}),f.jsx("textarea",{className:"w-full rounded-md border px-3 py-2 text-xs min-h-[60px] resize-y focus:outline-none focus:ring-2 focus:ring-amber-400",value:i.notes,onChange:$=>q("notes",$.target.value)})]}),f.jsxs("div",{className:"pt-2",children:[f.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[f.jsx("button",{type:"submit",disabled:S,className:"inline-flex items-center justify-center rounded-full bg-amber-500 hover:bg-amber-600 disabled:opacity-60 disabled:cursor-not-allowed text-white px-6 py-2 text-sm font-semibold shadow-sm",children:S?"Submitting...":"Confirm Subscription"}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"text-[10px] uppercase tracking-wider font-bold text-slate-500",children:B("label_total")}),f.jsxs("span",{className:"text-xl font-bold text-amber-600",children:["",D.toFixed(2)]})]})]}),f.jsxs("div",{className:"mt-4 flex items-start gap-2 bg-slate-50 p-3 rounded-xl border border-slate-100",children:[f.jsx("div",{className:"text-lg",children:""}),f.jsxs("div",{children:[f.jsx("p",{className:"text-[11px] font-semibold text-slate-800",children:"No payment required now"}),f.jsx("p",{className:"text-[11px] text-slate-500 leading-tight",children:"We do not ask for credit card details. You will only pay via Cash or Revolut upon delivery."})]})]})]})]})]})},Hv=({onNavigate:o})=>{const{t:r}=Ut(),[n,i]=ne.useState(!1),[l,u]=ne.useState("hidden");ne.useEffect(()=>{const p=setTimeout(()=>{i(!0),setTimeout(()=>u("expanding"),500)},6e4);return()=>clearTimeout(p)},[]),ne.useEffect(()=>{if(l==="expanding"){const p=setTimeout(()=>{u("visible")},800);return()=>clearTimeout(p)}else if(l==="visible"){const p=setTimeout(()=>{u("collapsing")},6e3);return()=>clearTimeout(p)}else if(l==="collapsing"){const p=setTimeout(()=>{u("hidden"),setTimeout(()=>u("expanding"),4e3)},800);return()=>clearTimeout(p)}},[l]),ne.useEffect(()=>{if(n){const p=setTimeout(()=>{u("collapsing"),setTimeout(()=>{i(!1),u("hidden"),setTimeout(()=>{i(!0),setTimeout(()=>u("expanding"),500)},6e4)},800)},6e4);return()=>clearTimeout(p)}},[n]);const d=()=>{o("/contact"),u("collapsing"),setTimeout(()=>i(!1),300),setTimeout(()=>{const p=document.getElementById("faq");p&&p.scrollIntoView({behavior:"smooth",block:"start"})},100)};return n?f.jsxs("div",{className:`fixed bottom-6 right-6 z-50 flex items-center gap-0 transition-all duration-300 ${n?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[f.jsx("div",{className:`bg-white rounded-2xl shadow-lg px-4 py-3 border border-slate-200 overflow-hidden ${l==="expanding"||l==="visible"?"opacity-100 translate-x-0 scale-100 mr-3 max-w-xs":"opacity-0 translate-x-8 scale-90 mr-0 max-w-0 px-0"}`,style:{transformOrigin:"right center",transition:"all 0.8s cubic-bezier(0.34, 1.56, 0.64, 1)"},children:f.jsx("p",{className:`text-sm font-medium text-slate-900 whitespace-nowrap transition-all duration-300 ${l==="expanding"||l==="visible"?"opacity-100":"opacity-0"}`,children:r("faq_float_text")})}),f.jsxs("button",{onClick:d,className:"group relative bg-gradient-to-br from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-white rounded-full w-14 h-14 flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-110 animate-bounce flex-shrink-0","aria-label":"FAQ",children:[f.jsx("span",{className:"text-2xl font-bold",children:"?"}),f.jsx("span",{className:"absolute inset-0 rounded-full bg-amber-400 opacity-75 animate-ping"})]})]}):null},Kv=[{code:"en",nativeName:"English",englishName:"English"},{code:"ml",nativeName:"",englishName:"Malayalam"},{code:"hi",nativeName:"",englishName:"Hindi"},{code:"ta",nativeName:"",englishName:"Tamil"},{code:"te",nativeName:"",englishName:"Telugu"},{code:"kn",nativeName:"",englishName:"Kannada"},{code:"mt",nativeName:"Malti",englishName:"Maltese"}],Gv=({isOpen:o,onClose:r})=>{const{setLanguage:n,language:i}=Ut();if(!o)return null;const l=u=>{n(u),r()};return f.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto bg-slate-900/60 backdrop-blur-md animate-in fade-in duration-300",children:f.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:f.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-2xl overflow-hidden animate-in zoom-in-95 duration-300 relative text-left",onClick:u=>u.stopPropagation(),children:[f.jsxs("div",{className:"bg-gradient-to-r from-amber-400 to-orange-500 p-6 text-center relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-white/10 skew-y-3 transform origin-bottom-left"}),f.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white relative z-10",children:"Choose Your Language"}),f.jsx("p",{className:"text-amber-50 relative z-10 mt-1 font-medium",children:"Select your preferred language to continue"}),f.jsx("button",{onClick:r,className:"absolute top-4 right-4 p-2 bg-white/20 hover:bg-white/30 rounded-full text-white transition-colors z-20","aria-label":"Close",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsx("div",{className:"p-6 md:p-8 grid grid-cols-2 md:grid-cols-3 gap-4",children:Kv.map(u=>f.jsxs("button",{onClick:()=>l(u.code),className:`
                                    group relative flex flex-col items-center justify-center p-4 rounded-2xl border-2 transition-all duration-200
                                    ${i===u.code?"border-amber-500 bg-amber-50":"border-slate-100 bg-white hover:border-amber-200 hover:shadow-lg hover:-translate-y-0.5"}
                                `,children:[f.jsx("span",{className:`text-xl font-bold mb-1 ${i===u.code?"text-amber-600":"text-slate-800 group-hover:text-amber-600"}`,children:u.nativeName}),f.jsx("span",{className:"text-xs font-medium text-slate-400 uppercase tracking-wide group-hover:text-amber-500/80",children:u.englishName}),i===u.code&&f.jsx("div",{className:"absolute top-3 right-3 text-amber-500",children:f.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]},u.code))}),f.jsx("div",{className:"bg-slate-50 p-4 text-center border-t border-slate-100",children:f.jsx("p",{className:"text-xs text-slate-400",children:"You can always change this later in the application settings."})})]})})})},Jv=({onNavigate:o})=>f.jsx("main",{className:"min-h-[70vh] flex items-center justify-center p-4",children:f.jsxs("div",{className:"max-w-md w-full text-center space-y-8 animate-fade-in-up",children:[f.jsxs("div",{className:"relative mx-auto w-48 h-48 select-none",children:[f.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-[10rem] font-bold text-slate-100 dark:text-slate-800 leading-none",children:"404"}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsx("span",{className:"text-8xl filter drop-shadow-xl animate-bounce-slow",children:""})}),f.jsx("div",{className:"absolute bottom-10 right-10 w-3 h-3 bg-amber-400 rounded-full opacity-60 animate-pulse"}),f.jsx("div",{className:"absolute top-10 left-8 w-2 h-2 bg-orange-400 rounded-full opacity-60"}),f.jsx("div",{className:"absolute bottom-6 left-12 w-2 h-2 bg-yellow-500 rounded-full opacity-60"})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("h1",{className:"text-3xl font-extrabold text-slate-900 tracking-tight",children:"Oh no! We ate that page."}),f.jsx("p",{className:"text-slate-600 text-lg leading-relaxed",children:"The snack you're looking for seems to be missing from our pantry. It might have been delicious, but it's gone now."})]}),f.jsx("div",{className:"pt-4",children:f.jsxs("button",{onClick:()=>o("/"),className:"group relative inline-flex items-center justify-center gap-2 px-8 py-3.5 text-base font-semibold text-white transition-all duration-200 bg-gradient-to-r from-amber-500 to-orange-500 rounded-full shadow-lg shadow-amber-200 hover:shadow-orange-200 hover:scale-[1.02] active:scale-[0.98] ring-offset-2 focus:ring-2 ring-amber-400 outline-none",children:[f.jsx("span",{children:"Return to Kitchen"}),f.jsx("svg",{className:"w-5 h-5 transition-transform group-hover:-translate-x-1 rotate-180",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})})]})}),eh=()=>{const o="/Homemade-Snacks/",r=o.endsWith("/")?o.slice(0,-1):o,{pathname:n,search:i}=window.location;let l=n;return r&&l.startsWith(r)&&(l=l.slice(r.length)),l===""&&(l="/"),l.startsWith("/")||(l="/"+l),l+i},Qv=()=>{const[o,r]=ne.useState(()=>eh());return ne.useEffect(()=>{const i=()=>{r(eh())};return window.addEventListener("popstate",i),()=>window.removeEventListener("popstate",i)},[]),{path:o,navigate:i=>{if(i.startsWith("/")||(i="/"+i),i===o)return;const l="/Homemade-Snacks/",d=`${l.endsWith("/")?l.slice(0,-1):l}${i}`;window.history.pushState({},"",d),r(i)}}},Yv=o=>{const r=new URLSearchParams(o||window.location.search),n={};for(const[i,l]of r.entries())n[i]=l;return n},Xv=()=>{const{path:o,navigate:r}=Qv(),[n,i]=ne.useState(Qd),[l,u]=ne.useState(!1),[d,p]=ne.useState("");ne.useEffect(()=>{(async()=>{u(!0),p("");try{await new Promise(S=>setTimeout(S,300)),i(Qd)}catch(S){console.error(S),p("Could not load plans. Showing default plans for now.")}finally{u(!1)}})()},[]);const m=o.split("?")[0];let v=null;if(m==="/")v=f.jsxs("main",{className:"max-w-5xl mx-auto px-4 pt-8 pb-16",children:[f.jsx(Ov,{onNavigate:r}),f.jsx(Pv,{onNavigate:r}),f.jsx(Lv,{}),f.jsx(Hv,{onNavigate:r})]});else if(m==="/plans")v=f.jsxs("main",{className:"max-w-5xl mx-auto px-4 pt-8 pb-16",children:[f.jsx(zv,{plans:n,onNavigate:r}),f.jsx(Bv,{onNavigate:r})]});else if(m==="/contact")v=f.jsxs("main",{className:"max-w-5xl mx-auto px-4 pt-8 pb-16",children:[f.jsxs("section",{className:"grid md:grid-cols-[minmax(0,1.1fr)_minmax(0,1.3fr)] gap-8 items-start mb-12",children:[f.jsx(Uv,{}),f.jsx(Dv,{})]}),f.jsx($v,{})]});else if(m==="/subscribe"){const k=Yv(o.split("?")[1]?"?"+o.split("?")[1]:""),S=k.plan_id?Number(k.plan_id):null,C=n.find(P=>P.id===S)||n[0];C?v=f.jsx("main",{className:"max-w-5xl mx-auto px-4 pt-8 pb-16",children:f.jsx(Vv,{plan:C,onSuccess:()=>r("/subscribe/thank-you")})}):v=f.jsxs("main",{className:"max-w-3xl mx-auto px-4 pt-8 pb-16",children:[f.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"We couldnt find that subscription plan."}),f.jsx("button",{onClick:()=>r("/plans"),className:"inline-flex items-center justify-center rounded-full bg-amber-500 hover:bg-amber-600 text-white px-5 py-2 text-sm font-semibold shadow-sm",children:"View All Plans"})]})}else m==="/subscribe/thank-you"?v=f.jsx("main",{className:"max-w-xl mx-auto px-4 pt-16 pb-20",children:f.jsxs("section",{className:"rounded-2xl border bg-white p-8 shadow-sm text-center flex flex-col items-center gap-4",children:[f.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-100 text-emerald-700 flex items-center justify-center text-2xl mb-1",children:""}),f.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:"Thank you!"}),f.jsx("p",{className:"text-sm text-slate-600 max-w-sm",children:"Your subscription request has been received. We will confirm your subscription via WhatsApp shortly."}),f.jsx("button",{onClick:()=>r("/"),className:"mt-2 inline-flex items-center justify-center rounded-full bg-amber-500 hover:bg-amber-600 text-white px-6 py-2 text-sm font-semibold shadow-sm",children:"Back to Home"})]})}):v=f.jsx(Jv,{onNavigate:r});const[w,x]=ne.useState(!1);return ne.useEffect(()=>{if(!localStorage.getItem("app_language")){const S=setTimeout(()=>x(!0),1e3);return()=>clearTimeout(S)}},[]),f.jsx(im,{children:f.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-b from-amber-50/60 via-white to-slate-50 text-slate-900",children:[f.jsx(am,{onNavigate:r}),l&&f.jsx("div",{className:"max-w-5xl mx-auto px-4 pt-3 text-[11px] text-slate-500",children:"Loading latest subscription plans..."}),d&&f.jsx("div",{className:"max-w-5xl mx-auto px-4 pt-3 text-[11px] text-amber-700",children:d}),f.jsx("div",{className:"flex-1",children:v}),f.jsx(Cv,{}),f.jsx(Gv,{isOpen:w,onClose:()=>x(!1)})]})})};sm.createRoot(document.getElementById("root")).render(f.jsx(Yp.StrictMode,{children:f.jsx(Xv,{})}));
